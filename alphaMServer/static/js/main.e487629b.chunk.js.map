{"version":3,"sources":["air_reader_modal/air_reader_modal.js","server_classes/SERVER_CONST.js","server_classes/axiosInstance.js","server_classes/serverData.js","server_classes/ServerService.js","add_customer_account/addCustomerAccountComponent.js","useful_functions/sortFunctions.js","states_by_date/SimpleMenu.js","Dialogs/ModifyObjectDialog.js","add_customer_account/ListElementSelector.js","add_customer_account/showCustomerAccounts.js","add_customer_account/customersComponent.js","useful_functions/arrayToCSV.js","states_by_date/KeysToShowManager.js","states_by_date/ElementsSelector.js","states_by_date/superDataTable.js","useful_functions/jsTips.js","useful_functions/numbToLetters.js","states_by_date/states_by_date.js","server_classes/creditNoteServerRequest.js","add_customer_account/accountDetails.js","useful_functions/generateLongDate.js","bill_maker/bill_display.js","credit_note/CreditNoteBill.js","credit_note/CreditNoteBillMaker.js","ticket-validation/LabelAndInputElement.js","ticket-validation/TicketDetails.js","credit_note/CreditNoteToMakeDetails.js","credit_note/CreditNoteMaker.js","credit_note/CreditNoteBillViewer.js","credit_note/CreditNoteView.js","ticket-validation/ticketValidationComponent.js","bill_maker/bill_maker_component.js","bill_maker/bill_viewer_component.js","account_statement/account_statement_component.js","ticket-validation/TicketView.js","import_tickets/ImportAIRComponent.js","useful_functions/TestComponent.js","useful_functions/BOComponent.js","states_by_date/statesComponent.js","components/app_bar/AirReaderAppBar.js","Dialogs/ConnexionDialog.js","Dialogs/MessageSnackBar.js","states_by_date/EasyDataTable.js","control_component/ControlComponent.js","components/app_bar/AirReaderMenuList.js","useful_functions/ColorConverter.js","components/dashboard/dashboardView.js","useful_functions/Utf8.js","components/bank/ImportBankData.js","App.js","registerServiceWorker.js","index.js"],"names":["AirReaderModal","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this","modalVisibility","props","visible","react_default","a","createElement","className","onClick","onOutsideClick","e","stopPropagation","children","Component","TOKEN","axiosInstance","axios","create","baseURL","process","getToken","localStorage","getItem","setLoggedIn","bool","userLogged","next","Subject","userLogged$","asObservable","messageToShow","messageToShow$","interceptors","request","use","config","accessToken","method","headers","authorization","error","Promise","reject","response","console","log","data","status","responseURL","indexOf","token","setItem","JSON","stringify","setToken","billServerService","billId","post","billToInsert","get","Content-Type","fetch","accountToInsert","accountIdToDelete","ticketToInsert","validatedTicket","then","billNumber","substring","toString","length","airFilesToSend","x","filterString","ServerService","userCredentials","URL_PATH","obj","put","obj_id","delete","filter","undefined","_ref","_ref$projection","projection","_ref$sort","sort","_ref$limit","limit","assign","AddCustomerAccountComponent","call","emptyAccountData","name","adress","city","country","mail","phone","customer reference","customer account","entire name","with FS","paiement type","state","accountData","clientNumber","accountlibele","accountDataModel","inputType","inputPlaceholder","labelValue","inputChecked","self","postToServer","id_inserted","accountCreated","cloneDeep","resetAccountData","onAddNewAccount","updateOnServer","result","accountUpdated","onUpdateAccount","deleteOnServer","_id","accountToDelete","onDeleteAccount","setState","accountToModify","event","target","checked","type","newAccountToAdd","accountToClone","nextProps","setAccountData","_this2","updateAccount","deleteAccount","insertAccount","_this3","InputElements2","dataModel","handleInputChangeOnAccountData","modificationMessage","elementsToShow","keys","map","step","placeholder","onChange","sortFunctions","b","toLowerCase","y","Array","isArray","sortAlphabatically","reduce","valueToCompare","currentKey","SimpleMenu","anchorEl","handleClose","Menu","id","open","Boolean","onClose","menuItems","menuItem","MenuItem","action","text","React","ModifyObjectDialog","elementModified","connexionRunning","onValidate","setConnexionRunning","handleValidation","Dialog","onKeyPress","onEnterClick","aria-labelledby","fullWidth","DialogTitle","title","DialogContent","editable","main_default","indentWidth","enableClipboard","onEdit","updated_src","src","objectToModify","theme","DialogActions","Button","color","disabled","defaultProps","ListElementSelector","keyToResearch","valueToResearch","selected","multiChoice","simpleMenuAnchorEl","elementToModify","modifyElementModalOpen","listElementToFilter","valueToContain","element","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","toUpperCase","elementClicked","elementSelectionned","includes","splice","push","onValid","elementsToSelect","dataToRender","sortBy","sortAlphabaticallyWithKey","filterAction","filterPossibilities","dataRepresentation","ListElement","onElementClick","handleClickOnElement","onElementContextMenu","dataObject","preventDefault","dataKeysToShow","dataAlreadySelected","validateSelection","selectElements","TextField","autoFocus","margin","label","onResearchValueChange","states_by_date_SimpleMenu","ModifyObjectDialog_ModifyObjectDialog","CustomerAccountElement","selectedElementStyle","onContextMenu","CustomerAccountsSelector","ListElementSelector_ListElementSelector","CustomersComponent","setAccountToModify","allAccount","accountSelected","addCustomerAccountComponent_AddCustomerAccountComponent","addNewAccount","clickOnNewAccountButton","exportCSVFileButtonLink","items","fileTitle","headersItem","headerFromItem0","itemForHeader","unshift","csv","objArray","array","parse","str","i","line","index","convertToCSV","blob","Blob","exportedFileName","url","URL","createObjectURL","href","download","KeysToShowManager","selectedDatas","LOCAL_STORAGE_KEY","savedConfigurationListInLocalStorage","configurationName","retrieveSavedDataListFromLocalStorage","initialDatas","resetDatas","localStorageArrayRetrieved","newConfigurationList","newValue","newDatas","replace","configuration","updateTextAreaConfigurationValue","validateNewConfiguration","style","display","justifyContent","marginBottom","activateConfigurationFromLocalStorage","width","height","flexDirection","textAlign","updateConfigurationNameValue","addConfigurationToLocalStorage","ElementsSelector","selectorDatas","resetSelectedDatas","newSelectedDatas","from","datas","addItemToSelection","dataToSend","validateFilterValues","position","backgroundColor","left","X","top","Y","padding","borderRadius","selectAllElements","right","overflowY","maxHeight","createItemsFromDatas","SuperDataTable","shouldUpdateDataTableData","currentKeysToShowObject","initialKeysToShow","filterBy","startTime","refreshDataTableData","dataKeysSet","Set","_arr","_i","dataObjectKey","add","toConsumableArray","final","current","keyToSortBy","newObjectToSortBy","keyToCheck","objectToSortBy","arrayToSortBy","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","sortByKey","keyToFiler","arrayValuesToFilter","newFilterBy","objectToFilterBy","arrayKeysToFilterBy","_i2","keyToFilterBy","datakey","dataToShow","rect","parentNode","getBoundingClientRect","filterValuesSet","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","window","scrollX","bottom","scrollY","setFilterBy","allDataKeys","getDataKeysToShowFromData","newKeysToShowObject","keyToTest","checkIfSortedByKey","keysToShow","getFilteringFunction","getSortingFunction","headerObject","tableHeader","keyToShow","setSortBy","getSortOrientation","filterButtonClick","checkIfFilteredBy","tableRowsToShow","valuesOnTicket","tableToShow","dataStructuredAsHeaderSelected","k","defineProperty","res","o","KeysToShowManager_KeysToShowManager","setKeysToShowObject","ElementsSelector_ElementsSelector","whiteSpace","entries","plus","diz","s","mil","mil2","ent","deci","StatesByDate","modalComponent","dateBeginFilterInputValue","dateEndFilterInputValue","ticketsToShow","linkButton","linkButton2","linkButtonBAD","allBills","accountChosen","accountIdsWanted","getAllBills","customerId","checkedAndCanceledFilterFunction","dateFilterFunction","accountIdsFilterFunction","dateObtained","split","valueToSet","join","customerAccount","ticket","billsFromTicket","bill","billed","bill_id","valueBilled","commandNumber","remarks","ticketsFiltered","allTickets","ticketsForStateFilterFunction","ticketsSortedByEmissionDate","date","ticketsByCustomerName","getTicketsByCustomerName","finalTicketsArrayWithTotals","total","concat","retrieveUsefullDatasForStatesFromTicket","finalTicketsArraySortedByTktNumber","ticketNumber","ticketsSortedByTicketNumberThenDate","ticketA","ticketB","actualTicketCompany","ticketHandled","ticketsBAD","billOnTicket","getBillsFromTicket","getRemarksFromBill","ticketsBADByCustomerName","finalTicketBADsArrayWithTotals","retrieveBADDatasFromTicket","billOnTicketRemarks","finalObj","elementSplitted","trim","Date d'emission","retriveValueFromKeyAndValueIfNothing","Date de depart","Date de retour","Nom","Compte client","Compagnie","Numero billet","Parcours","Classe","Facture","BC/Trip","CC","OI","DEPT","PERS","PNR","HT","parseInt","Taxes","Montant/FCFA","Frais de service","% commission","valeur commission","Note","Note1","jsonObject","customersName","completed","keyToAdd","valueToAdd","tickets","customersNames","getCustomersAccountName","ticketByCustomerAccountName","unused","ticketCustomerName","calculateTotals","ksort","ticketsArray","totalValue","finalValues","priceHT","priceTTC","fees","commissionValue","resolve","customerUniqueAccountSelector","setModalVisibility","visibility","compToShow","accountChosenList","_this4","rowWithTicketsToShow","getDataWantedOnTicket","tableWithTickets","handleDateFilterInputChange","openModalAndChooseAccountsForState","accountList","setAccountChosen","genererEtats","air_reader_modal_AirReaderModal","object","valueIfNothing","CreditNoteServerService","credit_note","CREDIT_NOTE","credit_noteToInsert","creditNoteBillToInsert","CREDIT_NOTE_BILL","creditNoteBillToCancel","creditNoteNumber","t","t2","t3","decint","n","dix","cent","charAt","mille","million","numbToLetters","test","n1","n2","AccountDetails","accountToShow","generateLongDate","dateValue","dateTimeD","Date","getDate","getMonth","getFullYear","BillDisplay","companyDatas","tel","contribuable_ID","ticketsSelected","flightDate","showDetailsData","valueToBill","toLocaleString","BillContext","printable","billType","dateToShow","TicketBilling","BillCompanyDetails","BillCustomerDetails","BillBottom","limitDateHidden","isCreditNote","BillHead","alt","totalToPay","sum","discount","TVA","netToPay","netToPayInLetters","textToShow","valueToShow","CreditNoteBill","creditNotes","CreditNoteBilling","paymentType","creditNotesArray","creditNote","CreditNoteBillElementView","initialTicketsAmount","amountUsed","cancelationFees","netToRefund","totalDiv","CreditNoteBillMaker","billCreationStage","creditNotesSelected","billTotalMoneyNumbers","isValidateBillButtonDisabled","validateButtonMessage","getTime","setBillCreationStage","getValueToBill","getNextCreditNoteBillNumber","VALIDATE_BILL","creditNoteBill","credit_notes","totalBilled","insertCreditNoteBill","creditNoteBillReturned","addCreditNoteBill","unselectAccount","allCreditNotes","filterFunction","onAccountSelected","onCreditNotesSelected","handleCreditNoteBillMakerInputChange","generateCreditNoteBillAndSend","CreditNoteBill_CreditNoteBill","LabelAndInputElement","keyToModify","inputValue","TicketDetails","dataKeyToShow","handleInputChangeOnTicket","bill_number","value_billed","credit_note_view","creditNoteData","credit_note_refund","credit_note_date","CreditNoteToMakeDetails","creditNoteValuesToShow","ticketNumberAndName","ticketToRefund","handleInputChangeOnCreditNote","emptyCreditNote","passengerName","initialTicketAmount","companyName","agencyFees","trip","emissionDate","flightDates","withFS","CreditNoteMaker","ticketNumberToFind","creditNoteAlreadyExist","ticketFound","parseCreditNoteValuesToInt","insertCreditNote","updateTicket","addCreditNote","findTicketToRefund","catch","cancelCreditNote","deleteCreditNote","creditNoteToUpdate","recalculateInitialAmount","newCreditNote","recalculateInitialTicketAmount","recalculateCreditNoteTotal","checkIfStartWithZeroAndEliminateIt","updateCreditNote","find","creditNoteFound","credit_note_id","setTimeout","ticketFoundWiew","credit_note_element","deleteExistingCreditNote","generateCreditNote","changeTicketNumber","CreditNoteToMakeDetails_CreditNoteToMakeDetails","CreditNoteBillViewer","creditNoteBillSelected","creationDate","findCreditNotesFromBill","creditNotesId","creditNotesOnBill","creditNoteBillToDelete","cancelCreditNoteBillRequest","cancelCreditNoteBill","unselectCreditNoteBill","allCreditNoteBills","onCreditNoteBillSelected","sendCancelCreditNoteBillRequest","CREDIT_NOTE_BILL_MAKER","CreditNoteView","creditNoteBills","viewSelected","getAllCreditNotes","allCreditNotesObtained","getAllCreditNoteBills","allCreditNoteBillsObtained","creditNotesModified","updateCreditNotes","newCreditNoteBillsCopy","findIndex","creditNoteArray","_loop","creditNotesCopy","slice","creditNoteIndexToDelete","Route","path","render","CreditNoteMaker_CreditNoteMaker","CreditNoteBillMaker_CreditNoteBillMaker","creditNoteModified","CreditNoteBillViewer_CreditNoteBillViewer","TicketValidationComponent","ticketList","dateFilterInputValue","researchFilterInputValue","ticketToShowFilterFunction","getFilterFunction","maxNumberOfTicketsToShow","ticketChosen","newTicket","recalculateTotal","ticketToAddAccount","validateTicket","newFilterFunction","firstFunction","ticketsEMDSDetailsToCreate","ticketValidationComponent_EMDSAsNewTicketComponent","ticketData","ticketCreated","openModalAndChooseAccountForTicket","addCustomerAccount","valid","addEMDSAsNewTicket","ticketToAdd","addTicket","changeTicketView","handleFilterInputChange","EMDSAsNewTicketComponent","_Component2","ticketCopied","retrieveTicketFromProps","referenceTicket","isEMDS","commissionRate","_this5","insertTicket","_this6","handleInputChangeOnEMDSTicketInCreation","createTicket","BillMaker","VALIDATION_IN_PROGRESS","VALIDATION_DONE","VALIDATION_ERROR","accountName","billToValidate","getFromServer","$exists","canceled","getNextBillNumber","insertBillToDatabase","insertBill","fontWeight","onTicketSelected","handleInputChange","generateBill","bill_display_BillDisplay","BillViewer","DELETE_BILL","billToShow","isDeleteBillButtonDisabled","cancelBill","newAllBills","finalBool","billToShowSubTickets","account","ticketsFromBill","getTicketsFromBill","passengerTickets","finalValue","currentTicket","getAccountFromBill","passengerNumber","passengerValueToShow","addDataToBill","handleClickOnBillToShow","deleteBill","AccountStatement","accountsSelected","accountToBill","onAccountToBillSelected","accountToBillSelected","ticketSelected","stateAccountFilterFunction","accountSelectedIds","ticketsToBill","_this7","getTicketFiltered","setValueToBill","TicketView","ticketValidationComponent_TicketValidationComponent","bill_maker_component_BillMaker","bill_viewer_component_BillViewer","account_statement_component_AccountStatement","ImportAIRComponent","filesToSendAttributes","filesToSendRead","fileSentResult","files","readAllFiles","newFileToAdd","file","fileReader","FileReader","onloadend","addToFileToSend","readAsBinaryString","fileToRead","readFileAndAddItToFilesToSend","sendAIRFiles","showImportedFiles","importedFiles","importedFilesDiv","filesReadNames","fileInitialName","sendAirFiles","handleFileToSendChange","multiple","testAllFilesWereRead","TestComponent","filterText","resultText","openModalValue","getAllAirFiles","testAirFileDatas","TicketTripDetails","DialogComponentTest","withStyles","appBar","flex","classes","AppBar","Toolbar","IconButton","aria-label","Close_default","Icon","Typography","variant","DialogContentText","handleFilTerTextToSendChange","sendFilterTextAndRetrieveDecryptedData","tripsInDetail","TripPortionLine","border","handleTime","time","handleDateTime","datetime","tripType","departureCity","departureAirportCode","departureDayAndTime","tripLength","arrivalCity","arrivalAirportCode","arrivalDayAndTime","luggageNumber","flightNumber","company","BOComponent","BOComponent_BOSheet","BOSheet","toLocaleDateString","dateX","dateY","date2X","date2Y","dateEnd","dateEndX","dateEndY","customer","customerX","customerY","amount","amountX","amountY","amountInLetter","amountInLetterX","amountInLetterY","imgContainer","timeOutToPositionBO","imgDiv","createRef","ref","setPosition","click","clearTimeout","boToShow","onInputChange","fontSize","maxWidth","StatesComponent","arrayOfData","showButtonToChangeDataToShow","superDataTable_SuperDataTable","root","flexGrow","grow","menuButton","marginLeft","marginRight","AppBar_default","Toolbar_default","statusDiv","logInDiv","ConnexionDialog","username","password","sendDataToRetrieveToken","connectAndRetrieveToken","Dialog_default","connexionDialogOpen","DialogTitle_default","DialogContent_default","DialogContentText_default","TextField_default","DialogActions_default","Button_default","MessageSnackBar","handleClick","vertical","horizontal","message","subscribe","_this$state","Snackbar_default","anchorOrigin","autoHideDuration","ContentProps","aria-describedby","snackbar","EasyDataTable","ControlComponent","collectionPath","simpleMenuData","onClickOnDataCollection","getDataFromServer","requestFilter","$or","dataToUpdate","cb","modifyElementInDataToShow","newElement","newDataToShow","indexNewElement","objectSpread","EasyDataTable_EasyDataTable","onDataUpdate","DIVIDER_MENU_TYPE","COLLAPSE_MENU_TYPE","AirReaderMenuList","handleListItemClick","redirectionAdress","selectedIndex","redirectionAddress","collapsedMenuSelectedIndex","handleListItemCollapseClick","tableauNavbar","icon","Description_default","elements","AccountBoxRounded_default","Note_default","NoteAdd_default","CloudUpload_default","Receipt_default","GroupAdd_default","Flight_default","Drafts_default","Dashboard_default","MonetizationOn_default","dataArray","navBarElement","Divider_default","Collapse","in","timeout","unmountOnExit","List_default","component","disablePadding","navBarCollapseElement","stepCollapseElement","AirReaderMenuList_AirReaderSimpleMenuItem","itemToShow","itemNumber","nested","Redirect","to","checkRedirection","nav","generateMenuListItemFromData","AirReaderSimpleMenuItem","ListItem_default","button","ListItemIcon_default","ListItemText_default","inset","primary","palette","background","paper","borderRight","marginTop","overflow","navContainer","paddingLeft","spacing","unit","ColorConverter","h","l","r","g","colorMode","hue2rgb","p","q","Math","round","substr","max","min","d","DashBoardView","_React$Component","_getPrototypeOf2","_len","args","_key","CANCELED_PROPERTY","beginDate","endDate","ticketsHandled","generalDatas","chordDiagramMatrix","chordListLegend","chordListColors","bankDatas","iata","ecobank","scb","scbDecouvert","cashier","BOs","newFilterDate","newBankDatas","dateToModify","dateToFormat","dateBillFilter","$gte","formatDateForTicketRequest","$lte","$and","results","handleTicketData","objectList","keyValue","finalArray","currentObject","hasOwnProperty","acc","cur","totalCommission","totalAmountSold","totalPriceTTC","totalPriceHT","totalTaxes","totalFees","totalTicketsNumber","totalCanceledTicketsNumber","getGeneralDatasFromTickets","setChordsData","ticketsGroupedByDate","finalTickets","newSynthetisedObject","tableauObject","tableauChords","keyrank","u","_arr2","tableauWithAllTravel","_tableauWithAllTravel","_tableauWithAllTravel2","slicedToArray","_tableauWithAllTravel3","_tableauWithAllTravel4","_this$addKeyToTableau","addKeyToTableauObject","_this$addKeyToTableau2","_this$addKeyToTableau3","_this$addKeyToTableau4","_this$addKeyToTableau5","_this$addKeyToTableau6","_this$addKeyToTableau7","_this$addKeyToTableau8","citiesStopPerTicket","retrieveAllCitiesStop","allCitiesStop","_this$generateChordsD","generateChordsData","_this$generateChordsD2","_this$generateChordsD3","colorNumber","colorSpacing","colorSpacing2","colorArray","hslToRgb","dataForPieChart1","DateFilterManager","handleDateChange","handleFilterChange","getRecentBills","ChordDiagram","matrix","componentId","groupLabels","groupColors","AirReaderPieChart","lil","StackedBarChart","StackedAreaChart","Card","CardContent","ResponsiveContainer","LineChart","XAxis","dataKey","YAxis","yAxisId","orientation","CartesianGrid","strokeDasharray","Tooltip","Legend","Line","stroke","activeDot","dashboardView_BankDatasCard","handleChange","handleBankDataChange","PieChart","Pie","fill","cx","cy","outerRadius","innerRadius","BarChart","Bar","stackId","AreaChart","Area","dateTextfields","dateData","InputLabelProps","shrink","InputProps","BankDatasCard","bankDatasFromProps","withColor","getBankDatas","bankData","bankDataValue","colorInputLabelProps","endAdornment","InputAdornment","generateBankDatasFields","Utf8","string","utftext","c","charCodeAt","String","fromCharCode","c2","c3","ImportBankData","bankDataRead","bankDataTableRowsToImport","handleEcobankDatas","handleSCBDatas","dataLines","bankDataTableRows","dataTransactions","lineSplited","decode","operationDate","description","debit","credit","valueToParse","parseFloat","parseFloatEcobank","valueDate","reference","accountValue","App","loggedIn","ticketStatus","accountStatus","getAllAccounts","getAllTickets","setDecodedToken","decodedToken","atob","isLoggedInBool","setConnexionDialogOpen","componentDidMount","removeItem","resetStatus","jsonResponse","newTicketList","ticketIndex","accountToAdd","newAccountList","accountModified","accountIndex","accountDeleted","logOutFromApp","app_bar_AirReaderAppBar","getLogInDiv","getStatusTextDiv","app_bar_AirReaderMenuList","overflowX","customersComponent_CustomersComponent","newAccount","CreditNoteView_CreditNoteView","states_by_date_StatesByDate","ImportAIRComponent_ImportAIRComponent","TestComponent_TestComponent","statesComponent_StatesComponent","BOComponent_BOComponent","recentCreditNotes","ControlComponent_ControlComponent","dashboardView_DashBoardView","ImportBankData_ImportBankData","ConnexionDialog_ConnexionDialog","Dialogs_MessageSnackBar","isLocalhost","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","BrowserRouter","basename","src_App_0","document","getElementById","origin","addEventListener","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.e487629b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './air-reader-modal.css'\n\nexport class AirReaderModal extends Component {\n\n    render() {\n\n        let modalVisibility = this.props.visible ? '' : ' displayNone';\n\n        return <div className={\"modal-base\" + modalVisibility} onClick={()=>this.props.onOutsideClick()}>\n            <div className=\"modal-body \" onClick={(e)=>e.stopPropagation()}>\n                {this.props.children}\n            </div>\n        </div>\n    }\n\n}","\nexport const TOKEN = 'token';\nexport const AUTHENTICATION = 'authentication/';\n\nexport const FILTER= 'filter/';\n\nexport const TICKETS_PATH= 'tickets/';\nexport const TICKET_BILLS_PATH= 'bills/';\nexport const TICKET_FILES_PATH= 'ticket_files/';\n\nexport const ACCOUNTS_PATH= 'accounts/';\nexport const CREDIT_NOTES_PATH= 'credit_note/';\nexport const CREDIT_NOTES_BILL_PATH= 'credit_note/bill/';\nexport const BILLS_PATH= 'bills/';\n// export const AIR_FILES_PATH= 'credit_note/bill/';\n// export const LOGS_PATH= 'credit_note/';\n\n\n","import axios from 'axios';\nimport { Subject } from \"rxjs\";\nimport { TOKEN } from \"./SERVER_CONST\";\n\n// Add a request interceptor\nconst isLocal = true;\n\nlet axiosInstance = axios.create({\n    baseURL: process.env.REACT_APP_BASE_URL,\n});\n\nexport let isLoggedIn = true;\n\nexport function getToken() {\n    return localStorage.getItem(TOKEN);\n}\n\nexport function removeToken() {\n    console.log('token removed');\n    localStorage.removeItem('token');\n}\n\nfunction setToken(token) {\n    console.log('token set', token);\n    localStorage.setItem('token', JSON.stringify(token.token));\n}\n\nexport function setLoggedIn(bool) {\n    isLoggedIn = bool;\n    userLogged.next(bool)\n}\n\nconst userLogged = new Subject();\nexport const userLogged$ = userLogged.asObservable();\n\nconst messageToShow = new Subject();\nexport const messageToShow$ = messageToShow.asObservable();\nconst PLEASE_CONNECT = \"Veuillez vous connecter svp\"\n\naxiosInstance.interceptors.request.use(function (config) {\n    // Do something before request is sent\n    //If the header does not contain the token and the url not public, redirect to login\n    let accessToken = getToken();\n\n    //if token is found add it to the header\n    if (accessToken) {\n        if (config.method !== 'OPTIONS') {\n            config.headers.authorization = accessToken;\n        }\n    }else{\n        setLoggedIn(false);\n    }\n    return config;\n}, function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n});\n\naxiosInstance.interceptors.response.use(function (response) {\n    // Do something with response data\n    console.log(response);\n    if (response.data['message']){\n        messageToShow.next(response.data['message']);\n    }\n    switch (response.status) {\n        case 200:\n            if (response.request.responseURL.indexOf('authentication') > 0) {\n                setLoggedIn(true);\n                let token = response.data;\n\n                console.log('token obtained ',  token);\n                token ? setToken(token) : console.log('null');\n                return token\n            }\n            return response.data ? response.data : true;\n        default :\n            console.log('unknwon error');\n            return response\n    }\n}, function (error) {\n    // Do something with response error\n    console.log(error.response, error.response);\n    if (error.response) {\n        if (error.response.data['message']){\n            messageToShow.next(error.response.data['message']);\n        }\n        switch (error.response.status) {\n            case 401 :\n                console.log('bad credentials ');\n                setLoggedIn(false);\n                return Promise.reject(error);\n            default :\n                console.log('Mauvaise requete');\n                return Promise.reject(error);\n        }\n    } else {\n        console.log('Impossible to log in ');\n        setLoggedIn(false);\n        return Promise.reject(error);\n    }\n});\n\nconsole.log(axiosInstance);\n\nexport default axiosInstance","import axiosInstance from \"./axiosInstance\";\n\nexport class billServerService {\n    static cancelBill(billId) {\n        return axiosInstance\n            .post('bills/cancel', JSON.stringify(billId))\n    }\n\n    static insertBill(billToInsert) {\n        return axiosInstance\n            .post('bills/insert', JSON.stringify(billToInsert))\n    }\n\n    static getAllBills() {\n        // return fetch('bills/', {\n        //     method: 'get',\n        // }).then(function (response) {\n        //     return response.json()\n        // })\n        return axiosInstance.get('bills/')\n    }\n\n    static getAllTickets() {\n        // return fetch('tickets/', {\n        //     method: 'get',\n        // }).then(function (response) {\n        //     return response.json()\n        // })\n\n        // return axios.get('tickets/').\n        return axiosInstance.get('tickets/'\n        )\n    }\n\n    static requestWithHeader() {\n        let headers = {\"Content-Type\": \"application/json\"};\n        headers[\"Authorization\"] = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiYWJjIiwiZXhwIjoxNTMwOTk3MTQyfQ.S2nKlQibyD7fhYaFmsbwP05AxP0fMhwNDTfUH8En_FM';\n\n        return fetch('tickets/', {\n            method: 'get', headers\n        })\n    }\n\n    static insertAccount(accountToInsert) {\n        return axiosInstance\n            .post('accounts/insert', JSON.stringify(accountToInsert))\n    }\n\n    static deleteAccount(accountIdToDelete) {\n        return axiosInstance\n            .post('accounts/delete', JSON.stringify(accountIdToDelete))\n    }\n\n\n    static insertTicket(ticketToInsert) {\n        return axiosInstance\n            .post('tickets/insert', JSON.stringify(ticketToInsert))\n    }\n\n    static validateTicket(validatedTicket) {\n        return axiosInstance\n            .post('tickets/validate', JSON.stringify(validatedTicket))\n    }\n\n    static getNextBillNumber() {\n        return axiosInstance.get('bills/getNextBillNumber')\n            .then(billNumber => \"AFV/18/\" + \"000000\".substring(billNumber.toString().length) + billNumber.toString() + \"FB\");\n        // return fetch('bills/getNextBillNumber', {\n        //     method: 'get',\n        // }).then(response => response.json())\n        //     .then(billNumber =>\n        //         \"AFV/18/\" + \"000000\".substring(billNumber.toString().length) + billNumber.toString() + \"FB\"\n        //         // console.log(billNumber, billNumber.toString().length,\n        //         //     \"000000\".substring(billNumber.toString().length), \"AFV\" + \"000000\".substring(billNumber.toString().length)\n        //         //     + billNumber.toString() + \"FB\")\n        //     )\n    }\n\n\n    static sendAIRFiles(airFilesToSend) {\n        console.log('files sent', airFilesToSend)\n        return axiosInstance\n            .post('ticket_files/insert', airFilesToSend)\n    }\n\n    static getAllAirFiles(airFilesToSend) {\n        return axiosInstance\n            .get('ticket_files/').then(x=> console.log(x.length + ' air files retrieved', x))\n    }\n    static testAirFileDatas(filterString) {\n        console.log(JSON.stringify(filterString),filterString);\n        return axiosInstance\n            .post('ticket_files/check', filterString)\n    }\n\n\n}","import axiosInstance from './axiosInstance';\nimport { AUTHENTICATION, FILTER } from './SERVER_CONST';\n\n\nexport class ServerService {\n    static sendDataToRetrieveToken(userCredentials) {\n        return axiosInstance.post(AUTHENTICATION, userCredentials);\n    }\n\n    static postToServer(URL_PATH, obj) {\n        return axiosInstance.post(URL_PATH, obj);\n    }\n\n    static updateOnServer(URL_PATH, obj) {\n        return axiosInstance.put(URL_PATH, obj);\n    }\n\n    static deleteOnServer(URL_PATH, obj_id) {\n        return axiosInstance.delete(URL_PATH + obj_id);\n    }\n\n    static getFromServer(URL_PATH, filter = null, {projection = null, sort = null, limit = 0} = {}) {\n        if (filter || projection || sort || limit) {\n            return axiosInstance.post(URL_PATH + FILTER, Object.assign({projection, sort, limit}, {filter}));\n        }\n        return axiosInstance.get(URL_PATH);\n    }\n\n}","import React, { Component } from 'react';\nimport cloneDeep from 'lodash/cloneDeep';\nimport './addCustomerAccountComponent.css'\nimport { billServerService } from \"../server_classes/serverData\";\nimport { ServerService } from \"../server_classes/ServerService\";\nimport { ACCOUNTS_PATH } from \"../server_classes/SERVER_CONST\";\n\n\nexport class AddCustomerAccountComponent extends Component {\n    constructor() {\n        super();\n        this.state = {\n            accountData: {\n                'name': '',\n                'clientNumber': '',\n                'adress': '',\n                'city': '',\n                'country': '',\n                'mail': '',\n                'phone': '',\n                'customer reference': '',\n                'customer account': '',\n                'accountlibele': '',\n                'entire name': '',\n                'with FS': true,\n                'paiement type': 'Cash'\n            },\n\n            accountDataModel: {\n                'name': {inputType: 'text', inputPlaceholder: 'AFV', labelValue: 'Nom abrégé'},\n                'adress': {inputType: 'text', inputPlaceholder: 'Rue de nachtigal - B.P. 245', labelValue: 'Adresse'},\n                'city': {inputType: 'text', inputPlaceholder: 'Yaoundé', labelValue: 'Ville'},\n                'country': {inputType: 'text', inputPlaceholder: 'Cameroun', labelValue: 'Cameroun'},\n                'mail': {inputType: 'text', inputPlaceholder: 'afv_cameroun@yahoo.fr', labelValue: 'Mail'},\n                'phone': {inputType: 'text', inputPlaceholder: '(+ 237) 6 77 93 78 21 - 22', labelValue: 'Telephone'},\n                'customer reference': {\n                    inputType: 'text',\n                    inputPlaceholder: 'AFV/18/0001465CL',\n                    labelValue: 'Reference client'\n                },\n                'customer account': {inputType: 'text', inputPlaceholder: '411-AFV', labelValue: 'Compte client'},\n                'entire name': {\n                    inputType: 'text',\n                    inputPlaceholder: 'Agence Française de Voyages',\n                    labelValue: 'Nom entier'\n                },\n                'with FS': {inputType: 'checkbox', labelValue: 'FS inclus dans facture', inputChecked: true},\n                'paiement type': {inputType: 'text', inputPlaceholder: 'CASH', labelValue: 'Type de paiement'},\n            },\n\n        }\n    }\n\n    emptyAccountData = {\n        'name': '',\n        'adress': '',\n        'city': '',\n        'country': '',\n        'mail': '',\n        'phone': '',\n        'customer reference': '',\n        'customer account': '',\n        'entire name': '',\n        'with FS': true,\n        'paiement type': 'Cash'\n    }\n\n\n    insertAccount(self) {\n        console.log(self.state.accountData);\n        ServerService.postToServer(ACCOUNTS_PATH,this.state.accountData)\n            .then(function (id_inserted) {\n                let accountCreated = cloneDeep(self.state.accountData);\n                accountCreated['_id'] = id_inserted;\n                self.resetAccountData();\n                self.props.onAddNewAccount(accountCreated);\n            });\n    }\n\n    updateAccount(self) {\n        ServerService.updateOnServer(ACCOUNTS_PATH,this.state.accountData)\n            .then(function (result) {\n                if (!result){\n                    return\n                }\n                let accountUpdated = cloneDeep(self.state.accountData);\n                self.resetAccountData();\n                self.props.onUpdateAccount(accountUpdated);\n            });\n    }\n    deleteAccount(self) {\n        ServerService.deleteOnServer(ACCOUNTS_PATH, this.state.accountData._id)\n        // billServerService.deleteAccount(this.state.accountData._id)\n            .then(function (result) {\n                if (!result){\n                    return\n                }\n                let accountToDelete = cloneDeep(self.state.accountData);\n                self.resetAccountData();\n                self.props.onDeleteAccount(accountToDelete);\n            });\n    }\n\n    resetAccountData() {\n        this.setState({\n            accountData: cloneDeep(this.emptyAccountData)\n        })\n    }\n\n    componentDidMount() {\n        if (this.props.accountToModify) {\n            this.setState({\n                accountData: cloneDeep(this.props.accountToModify)\n            })\n        }\n    }\n\n\n    handleInputChangeOnAccountData(event) {\n        console.log(event.target, event.target.value, event.target.checked);\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n\n        const name = target.name;\n        let newAccountToAdd = cloneDeep(this.state.accountData);\n        console.log(newAccountToAdd);\n        newAccountToAdd[name] = value;\n        this.setState({\n            accountData: newAccountToAdd\n        });\n    }\n\n    setAccountData(accountToClone) {\n        this.setState({\n            accountData: cloneDeep(accountToClone)\n        })\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!nextProps.accountToModify) {\n            this.resetAccountData()\n        } else if (this.props.accountToModify !== nextProps.accountToModify) {\n            this.setAccountData(nextProps.accountToModify)\n        }\n    }\n\n    modificationMessage() {\n        let divToReturn = '';\n        if ('_id' in this.state.accountData) {\n            divToReturn = <div>\n                Mise à jour du compte {this.state.accountData.name}\n                <div className=\"flex-container flex-direction-column\">\n                    <button onClick={() => this.updateAccount(this)}>Mettre à jour compte client</button>\n                    <button onClick={() => this.deleteAccount(this)}>Supprimer compte client</button>\n                </div>\n            </div>\n        } else {\n           divToReturn = <div>\n                <button onClick={() => this.insertAccount(this)}>Creer nouveau compte client</button>\n            </div>\n        }\n        return divToReturn\n    }\n\n    render() {\n        // this.setAccountData();\n        return (\n            <div>\n                <InputElements2\n                    data={this.state.accountData}\n                    dataModel={this.state.accountDataModel}\n                    handleInputChangeOnAccountData={(event) => this.handleInputChangeOnAccountData(event)}/>\n\n                {this.modificationMessage()}\n\n            </div>\n        )\n    }\n}\n\n\nfunction InputElements2(props) {\n    let elementsToShow = Object.keys(props.dataModel).map((x, step) => {\n        return <div className=\"flex-container\" key={step}>\n            <label className=\"flex-1-1 text-right\">{props.dataModel[x].labelValue}</label>\n            {props.dataModel[x].inputType === 'checkbox' ?\n                <input\n                    name={x}\n                    placeholder={props.dataModel[x].inputPlaceholder}\n                    type={props.dataModel[x].inputType}\n                    onChange={props.handleInputChangeOnAccountData}\n                    checked={props.data[x]}\n                    className=\"flex-3-1\"/> :\n                <input\n                    name={x}\n                    value={props.data[x]}\n                    placeholder={props.dataModel[x].inputPlaceholder}\n                    type={props.dataModel[x].inputType}\n                    onChange={props.handleInputChangeOnAccountData}\n                    className=\"flex-3-1\"/>\n            }\n        </div>\n    });\n\n    return (\n        <div className=\"margin-bottom-20px\">\n            {elementsToShow}\n        </div>\n    )\n}\n\n","export class sortFunctions {\n    static sortAlphabatically(a, b) {\n        let x = a.toLowerCase();\n        let y = b.toLowerCase();\n        if (x < y) {\n            return -1;\n        }\n        if (x > y) {\n            return 1;\n        }\n        return 0;\n    }\n\n    static sortAlphabaticallyWithKey(key){\n        if (Array.isArray(key)) {\n            return (a,b) => sortFunctions.sortAlphabatically(\n                key.reduce((valueToCompare,currentKey) =>  valueToCompare += (a[currentKey]),''),\n                key.reduce((valueToCompare,currentKey) =>  valueToCompare += (b[currentKey]),''))\n        }\n        return (a,b) => sortFunctions.sortAlphabatically(a[key],b[key]);\n    }\n}","import React from \"react\";\nimport Menu from \"@material-ui/core/es/Menu/Menu\";\nimport MenuItem from \"@material-ui/core/es/MenuItem/MenuItem\";\n\nclass SimpleMenu extends React.Component {\n    state = {\n        anchorEl: null,\n    };\n\n    handleClose = this.props.handleClose;\n\n    render() {\n        const {anchorEl} = this.props;\n\n        return (\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={this.props.anchorEl}\n                open={Boolean(anchorEl)}\n                onClose={this.handleClose}\n            >\n                {this.props.menuItems.map((menuItem, step) =>\n                    <MenuItem onClick={()=>menuItem.action()} key={step}>{menuItem.text}</MenuItem>)\n                }\n\n            </Menu>\n        );\n    }\n}\n\nexport default SimpleMenu;","import Dialog from \"@material-ui/core/es/Dialog/Dialog\";\nimport DialogTitle from \"@material-ui/core/es/DialogTitle/DialogTitle\";\nimport DialogContent from \"@material-ui/core/es/DialogContent/DialogContent\";\nimport React from 'react';\nimport DialogActions from \"@material-ui/core/es/DialogActions/DialogActions\";\nimport Button from \"@material-ui/core/es/Button/Button\";\nimport ReactJson from 'react-json-view'\n\n\nexport default class ModifyObjectDialog extends React.Component {\n    static defaultProps = {\n        editable: true,\n    }\n\n    constructor() {\n        super();\n        this.state = {\n            elementModified: null,\n            connexionRunning: false,\n        }\n    }\n\n    handleClose() {\n        this.setState({\n            elementModified: null,\n        });\n        this.props.onClose();\n    }\n\n    handleValidation() {\n        this.props.onValidate ? this.props.onValidate(this.state.elementModified, () =>this.handleClose()) : this.handleClose();\n    }\n\n    setConnexionRunning(bool) {\n        this.setState({connexionRunning: bool})\n    }\n\n    modifyObjectOnServer() {\n        this.setConnexionRunning(true);\n\n    }\n\n    onEnterClick(event) {\n        if (event.key === 'Enter') {\n            this.handleValidation()\n        }\n    }\n\n    render() {\n        return <Dialog\n            open={this.props.open}\n            onClose={() => this.handleClose()}\n            onKeyPress={(event) => this.onEnterClick(event)}\n            aria-labelledby=\"form-dialog-title\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">{this.props.title}</DialogTitle>\n            <DialogContent>\n                {this.props.editable ?\n                    <ReactJson indentWidth={10}\n                               enableClipboard={false}\n                               onEdit={x => this.setState({elementModified: x.updated_src})}\n                               src={this.props.objectToModify}\n                               theme=\"rjv-default\"/>\n                    : <ReactJson indentWidth={10}\n                                 enableClipboard={false}\n                                 src={this.props.objectToModify}\n                                 theme=\"rjv-default\"/>}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => this.handleValidation()}\n                        color=\"primary\"\n                        disabled={this.state.connexionRunning}>\n                    Valider\n                </Button>\n            </DialogActions>\n        </Dialog>\n    }\n}\n\n","import React, { Component } from \"react\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport { sortFunctions } from \"../useful_functions/sortFunctions\";\nimport { ListElement } from \"./showCustomerAccounts\";\nimport SimpleMenu from \"../states_by_date/SimpleMenu\";\nimport ModifyObjectDialog from \"../Dialogs/ModifyObjectDialog\";\nimport TextField from \"@material-ui/core/es/TextField/TextField\";\n\nexport class ListElementSelector extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            keyToResearch: '',\n            valueToResearch: '',\n            selected: [],\n            multiChoice: this.props.multiChoice,\n            simpleMenuAnchorEl: null,\n            elementToModify: null,\n            modifyElementModalOpen: false,\n        }\n    }\n\n\n    filterAction(listElementToFilter, keys, valueToContain) {\n        return listElementToFilter.filter(element => {\n            for (let key of keys) {\n                if (key in element && element[key].indexOf(valueToContain) > -1) {\n                    return true\n                }\n            }\n        });\n    }\n\n    onResearchValueChange(event) {\n        this.setState({\n            valueToResearch: event.target.value.toUpperCase(),\n        })\n    }\n\n    onResearchElementChange(event) {\n        this.setState({\n            keyToResearch: event.target.value\n        })\n    }\n\n    handleClickOnElement(elementClicked) {\n        let elementSelectionned = this.state.selected;\n        console.log(this.state.multiChoice, elementSelectionned);\n        if (this.state.multiChoice) {\n            if (elementSelectionned.includes(elementClicked)) {\n                elementSelectionned.splice(elementSelectionned.indexOf(elementClicked), 1);\n            } else {\n                elementSelectionned.push(elementClicked);\n            }\n            this.setState({\n                selected: elementSelectionned,\n            });\n            console.log(this.state.selected);\n            //this.props.onClick(elementClicked)\n        } else {\n            this.setState({\n                selected: [elementClicked]\n            });\n            this.props.onValid(elementClicked)\n        }\n    }\n\n\n    selectElements(elementsToSelect) {\n        this.setState({\n            selected: cloneDeep(elementsToSelect),\n        });\n    }\n\n    validateSelection() {\n        this.props.onValid(this.state.selected);\n        this.setState({\n            selected: []\n        })\n    }\n\n    render() {\n        let dataToRender = this.props.sortBy ? this.props.data.sort(sortFunctions.sortAlphabaticallyWithKey(this.props.sortBy)) : this.props.data;\n        if (this.state.valueToResearch) {\n            dataToRender = this.filterAction(dataToRender, this.props.filterPossibilities, this.state.valueToResearch)\n        }\n\n        let dataRepresentation =\n            <ListElement\n                dataToRender={dataToRender}\n                onElementClick={(element) => this.handleClickOnElement(element)}\n                onElementContextMenu={(event, dataObject) => {\n                    console.log('click droit element', event);\n                    event.preventDefault();\n                    this.setState({simpleMenuAnchorEl: event.target, elementToModify: dataObject})\n                }}\n                dataKeysToShow={this.props.dataKeysToShow}\n                dataAlreadySelected={this.state.selected}\n            />;\n\n        return <div className={'margin-left-right-auto ' + this.props.className}>\n            {this.state.multiChoice ?\n                <div>\n                    <button onClick={() => this.validateSelection()}>Valider</button>\n                    <button onClick={() => this.selectElements(dataToRender)}>Selectionner Tout</button>\n                </div>\n                : ''\n            }\n\n            <div>\n                <div>\n                    <label>Filtré selon {JSON.stringify(this.props.filterPossibilities)}</label>\n                </div>\n                <div>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        name=\"username\"\n                        label=\"Valeur cherchee\"\n                        type=\"text\"\n                        onChange={(event) => this.onResearchValueChange(event)}\n                    />\n                </div>\n\n                <SimpleMenu anchorEl={this.state.simpleMenuAnchorEl}\n                            handleClose={() => {\n                                this.setState({simpleMenuAnchorEl: null, elementToModify: null});\n                            }}\n                            menuItems={[{\n                                text: \"Afficher element\",\n                                action: () => this.setState({modifyElementModalOpen: true, simpleMenuAnchorEl: null})\n                            }]}\n                />\n\n                <ModifyObjectDialog open={this.state.modifyElementModalOpen}\n                                    onClose={() => this.setState({modifyElementModalOpen: false})}\n                                    title=\"Modifier objet\"\n                                    objectToModify={this.state.elementToModify}\n                                    editable={false}\n\n                />\n\n            </div>\n            {dataRepresentation}\n        </div>\n    }\n}","import React from 'react';\nimport { ListElementSelector } from \"./ListElementSelector\";\n\n\nfunction CustomerAccountElement(props) { //dataKeysToShow, selected\n    let dataKeysToShow = props.dataKeysToShow;\n    let selectedElementStyle = (props.selected ? 'bold-text' : '');\n\n    return <div onClick={props.onClick}\n                onContextMenu={e => props.onContextMenu(e)}\n                className={selectedElementStyle}>\n        <div>{dataKeysToShow.map(x => props.data[x] + \"  \")}</div>\n    </div>\n}\n\nexport function ListElement(props) {\n    let dataAlreadySelected = props.dataAlreadySelected;\n    let dataToRender = props.dataToRender.map((x, step) =>\n        <CustomerAccountElement\n            key={step}\n            data={x}\n            onClick={() => props.onElementClick(x)}\n            onContextMenu={e => props.onElementContextMenu(e, x)}\n            dataKeysToShow={typeof props.dataKeysToShow === 'function' ? props.dataKeysToShow(x) : props.dataKeysToShow}\n            // dataKeysToShow={props.dataKeysToShow}\n            selected={dataAlreadySelected ? dataAlreadySelected.includes(x) : ''}\n        />);\n    return <div className={\"list-element-div scrollable text-left \" + props.className}>{dataToRender}</div>\n}\n\nexport function TableElement(props) {\n    let dataAlreadySelected = props.dataAlreadySelected;\n    let dataToRender = props.dataToRender.map((x, step) =>\n        <CustomerAccountElement\n            key={step}\n            data={x}\n            onClick={() => props.onElementClick(x)}\n            dataKeysToShow={props.dataKeysToShow}\n            selected={dataAlreadySelected ? dataAlreadySelected.includes(x) : ''}\n        />);\n    return <div className={\"list-element-div scrollable text-left \" + props.className}>{dataToRender}</div>\n}\n\nexport function CustomerAccountsSelector(props) {\n    console.log(\"propsCustomerAccount\", props, props.multiChoice);\n    return <ListElementSelector\n        onValid={props.onValid}\n        data={props.data}\n        sortBy='name'\n        dataKeysToShow={props.dataKeysToShow ? props.dataKeysToShow : ['name', 'customer account', 'customer reference']}\n        filterPossibilities={props.filterPossibilities ? props.filterPossibilities : ['customer reference', 'name', 'entire name']}\n        multiChoice={props.multiChoice === true}/>\n}\n","import React, { Component } from 'react';\nimport { AddCustomerAccountComponent } from \"./addCustomerAccountComponent\";\nimport { CustomerAccountsSelector } from \"./showCustomerAccounts\";\n\n\nexport class CustomersComponent extends Component {\n    constructor(props) {\n        super(props);\n        // this.handleClick = this.handleClick.bind(this)\n        // this.inputChange = this.inputChange.bind(this)\n        this.state = {\n            accountToModify: ''\n        };\n    }\n\n    setAccountToModify(accountToModify) {\n        this.setState({\n            accountToModify: accountToModify,\n        })\n    }\n\n    clickOnNewAccountButton() {\n        this.setAccountToModify(null)\n    }\n\n    render() {\n        return <div className='flex-container'>\n            <div>\n\n                <CustomerAccountsSelector\n                    data={this.props.allAccount}\n                    onValid={accountSelected => this.setAccountToModify(accountSelected)}\n                    multiChoice={false}/>\n            </div>\n            <div>\n                <AddCustomerAccountComponent\n                    onAddNewAccount={x => this.props.addNewAccount(x)}\n                    onUpdateAccount={x => this.props.updateAccount(x)}\n                    onDeleteAccount={x => this.props.deleteAccount(x)}\n                    accountToModify={this.state.accountToModify}/>\n                <button onClick={() => this.clickOnNewAccountButton()}> Nouveau compte</button>\n            </div>\n        </div>\n    }\n}\n\n","import React from 'react';\n\nexport function convertToCSV(objArray) {\n    let array = typeof objArray !== 'object' ? JSON.parse(objArray) : objArray;\n    let str = '';\n\n    for (let i = 0; i < array.length; i++) {\n        let line = '';\n        for (let index in array[i]) {\n            if (line !== '') line += ';';\n            line += array[i][index];\n        }\n        str += line + '\\r\\n';\n    }\n    return str;\n}\n\nexport function exportCSVFileButtonLink(items, fileTitle, headersItem = '') {\n\n    if (items.length < 1) {\n        return <a>Pas de tickets à ce jour</a>\n    }\n    // console.log('ITEMSSSS ', items)\n\n    let headerFromItem0 = {}\n    Object.keys(items[0]).map(key => { //On s'inspire du premier élement pour créer le tableau csv\n        headerFromItem0[key] = key\n    });\n    let itemForHeader = headersItem ? headersItem : headerFromItem0;\n    items.unshift(itemForHeader);\n    // console.log(headers);\n\n    let jsonObject = JSON.stringify(items);\n\n    // console.log('ITEMS JSON', jsonObject);\n    let csv = convertToCSV(jsonObject);\n    let blob = new Blob([csv], {type: 'text/csv;charset=utf-8;'});\n    let exportedFileName = fileTitle + '.csv' || 'export.csv';\n    // console.log(csv);\n    let url = URL.createObjectURL(blob);\n    return <a href={url} download={exportedFileName}>Telecharger {exportedFileName}</a>\n}\n","import React, { Component } from 'react';\n\nexport class KeysToShowManager extends Component {\n    //props : initialDatas - list and validateNewConfiguration - function\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedDatas: '',\n            LOCAL_STORAGE_KEY: 'STATE_KEYS_STORAGE',\n            savedConfigurationListInLocalStorage: {},\n            configurationName: '',\n        }\n    }\n\n    componentDidMount() {\n        this.retrieveSavedDataListFromLocalStorage()\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // You don't have to do this check first, but it can help prevent an unneeded render\n        if (nextProps.initialDatas !== this.props.initialDatas) {\n            this.resetDatas(nextProps.initialDatas);\n        }\n    }\n\n    retrieveSavedDataListFromLocalStorage() {\n        let localStorageArrayRetrieved = localStorage.getItem(this.state.LOCAL_STORAGE_KEY);\n        this.setState({\n            savedConfigurationListInLocalStorage: localStorageArrayRetrieved ? JSON.parse(localStorageArrayRetrieved) : {}\n        })\n    }\n\n    addConfigurationToLocalStorage() {\n        let newConfigurationList = Object.assign({}, this.state.savedConfigurationListInLocalStorage);\n        newConfigurationList[this.state.configurationName] = this.state.selectedDatas;\n        localStorage.setItem(this.state.LOCAL_STORAGE_KEY, JSON.stringify(newConfigurationList));\n        this.retrieveSavedDataListFromLocalStorage()\n    }\n\n    updateTextAreaConfigurationValue(newValue) {\n        this.setState({\n            selectedDatas: newValue\n        });\n    }\n\n    updateConfigurationNameValue(newValue) {\n        this.setState({\n            configurationName: newValue\n        });\n    }\n\n    resetDatas(newDatas = this.props.initialDatas) {\n        this.setState({\n            selectedDatas: JSON.stringify(newDatas).replace(/,/g, ',\\n'),\n        })\n    }\n\n    activateConfigurationFromLocalStorage(configuration) {\n        this.updateTextAreaConfigurationValue(configuration);\n        this.props.validateNewConfiguration(configuration);\n    }\n\n\n    render() {\n        console.log(this.state.savedConfigurationListInLocalStorage);\n        if (!this.state.selectedDatas) {\n            this.resetDatas()\n        }\n        return <div style={{display: 'flex', justifyContent: 'center', marginBottom: '10px'}}>\n            <div>\n                {Object.keys(this.state.savedConfigurationListInLocalStorage).map(\n                    configurationName => <div\n                        key={configurationName}\n                        onClick={() => this.activateConfigurationFromLocalStorage(this.state.savedConfigurationListInLocalStorage[configurationName])}>\n                        {configurationName}\n                    </div>\n                )}\n            </div>\n            <div>\n                <div>\n                    <button>Columns</button>\n                    <button>Filter</button>\n                    <button>Subtotal</button>\n                </div>\n                <textarea\n                    value={this.state.selectedDatas}\n                    onChange={e => this.updateTextAreaConfigurationValue(e.target.value)}\n                    style={{width: '300px', height: '200px', margin: '0px 10px'}}\n                />\n            </div>\n            <div style={{display: 'flex', flexDirection: 'column'}}>\n                <button onClick={() => this.props.validateNewConfiguration(this.state.selectedDatas)}>Validate</button>\n                <button onClick={() => this.resetDatas()}>Reset</button>\n                <br/><br/>\n                <input value={this.state.configurationName}\n                       style={{textAlign: 'center'}}\n                       placeholder=\"Configuration name\"\n                       onChange={(e) => this.updateConfigurationNameValue(e.target.value)}/>\n                <button onClick={() => this.addConfigurationToLocalStorage()}>Save configuration</button>\n\n\n            </div>\n        </div>\n    }\n}\n\n","import React,  {Component} from \"react\";\n\nexport class ElementsSelector extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedDatas: [],\n            initialDatas: []\n        }\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        // You don't have to do this check first, but it can help prevent an unneeded render\n        if (nextProps.selectorDatas.selectedDatas) {\n            this.setState({\n                selectedDatas: nextProps.selectorDatas.selectedDatas,\n                initialDatas: nextProps.selectorDatas.selectedDatas,\n            });\n        } else {\n            this.resetSelectedDatas()\n        }\n    }\n\n    resetSelectedDatas() {\n        this.setState({selectedDatas: []})\n    }\n\n    addItemToSelection(element) {\n        let newSelectedDatas = Array.from(this.state.selectedDatas);\n        if (newSelectedDatas.includes(element)) {\n            newSelectedDatas.splice(newSelectedDatas.indexOf(element), 1);\n        } else {\n            newSelectedDatas.push(element);\n        }\n        this.setState({selectedDatas: newSelectedDatas})\n    }\n\n    createItemsFromDatas() {\n        return this.props.selectorDatas.datas.sort().map((element, step) => <div\n                onClick={() => this.addItemToSelection(element)}\n                key={step}>\n                <input type=\"checkbox\" checked={this.state.selectedDatas.includes(element)}/>\n                {element ? element.toString() : 'no value'}\n            </div>\n        )\n    }\n\n    selectAllElements() {\n        this.setState({selectedDatas: this.props.selectorDatas.datas.map(x => x)})\n    }\n\n    validateSelection(dataToSend = this.state.selectedDatas) {\n        this.props.selectorDatas.validateFilterValues(dataToSend);\n        this.resetSelectedDatas();\n    }\n\n\n    render() {\n        return this.props.selectorDatas.display === 'none' ?\n            null :\n            <div style={{\n                position: 'absolute',\n                backgroundColor: '#bbbbbb',\n                left: this.props.selectorDatas.X,\n                top: this.props.selectorDatas.Y,\n                display: this.props.selectorDatas.display,\n                padding: '15px',\n                borderRadius: '4px',\n            }}>\n                <button onClick={() => {\n                    this.resetSelectedDatas()\n                }}>None\n                </button>\n                <button onClick={() => {\n                    this.selectAllElements()\n                }}>All\n                </button>\n                <button style={{}} onClick={() => {\n                    this.validateSelection()\n                }}>Validate\n                </button>\n                <span style={{\n                    position: 'absolute',\n                    right: '4px',\n                    top: '4px',\n                }} onClick={() => this.validateSelection(this.state.initialDatas)}> <i className=\"fas fa-times\"/>\n                </span>\n                <div style={{overflowY: 'auto', maxHeight: '300px'}}>\n                    {this.createItemsFromDatas()}\n                </div>\n            </div>\n    }\n\n}","import React, { Component } from 'react';\nimport { exportCSVFileButtonLink } from \"../useful_functions/arrayToCSV\";\nimport { pick } from \"../useful_functions/jsTips\";\nimport './superDataTable.css'\nimport { KeysToShowManager } from \"./KeysToShowManager\";\nimport SimpleMenu from \"./SimpleMenu\";\nimport { ElementsSelector } from \"./ElementsSelector\";\nimport ModifyObjectDialog from \"../Dialogs/ModifyObjectDialog\";\n\n\nexport class SuperDataTable extends Component {\n    static defaultProps = {\n        editable: true,\n    }\n\n    constructor(props) {\n        super(props);\n        //Props dataToShow, keysToShow = {'name': }\n        this.state = {\n            // dataToShow: [],\n            shouldUpdateDataTableData: false,\n            currentKeysToShowObject: '',\n            initialKeysToShow: '',\n            selectorDatas: {X: 0, Y: 0, display: 'none', validateFilterValues: x => console.log(x), datas: []},\n            sortBy: {},\n            filterBy: {},\n            simpleMenuAnchorEl: null,\n            elementToModify: null,\n            modifyElementModalOpen: false,\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // You don't have to do this check first, but it can help prevent an unneeded render\n        if (nextProps.startTime !== this.state.startTime) {\n            this.setState({startTime: nextProps.startTime});\n        }\n        this.refreshDataTableData(nextProps);\n    }\n\n\n    getDataKeysToShowFromData(data) {\n        let dataKeysSet = new Set();\n        for (let dataObject of data) {\n            for (let dataObjectKey of Object.keys(dataObject)) {\n                dataKeysSet.add(dataObjectKey)\n            }\n        }\n        return [...dataKeysSet].reduce((final, current) => {\n            final[current] = current;\n            return final\n        }, {})\n    }\n\n    setSortBy(keyToSortBy) {\n        let newObjectToSortBy = Object.assign({}, this.state.sortBy);\n        switch (newObjectToSortBy[keyToSortBy]) {\n            case -1 :\n                delete newObjectToSortBy[keyToSortBy];\n                break;\n            case 1 :\n                newObjectToSortBy[keyToSortBy] = -1;\n                break;\n            default:\n                newObjectToSortBy[keyToSortBy] = 1;\n        }\n        this.setState({\n            sortBy: newObjectToSortBy\n        })\n    }\n\n    checkIfSortedByKey(keyToCheck) {\n        return Object.keys(this.state.sortBy).includes(keyToCheck)\n    }\n\n    getSortingFunction(objectToSortBy) { ///Prend objet du genre : {nom: -1, age: 1}\n        let arrayToSortBy = Object.keys(objectToSortBy).filter(x => objectToSortBy[x] !== 0);\n        return (a, b) => {\n            for (let sortByKey of arrayToSortBy) {\n                if (a[sortByKey] === b[sortByKey]) {\n\n                } else {\n                    return (a[sortByKey] < b[sortByKey] ? -1 : 1) * objectToSortBy[sortByKey];\n                }\n            }\n            return 0\n        }\n    }\n\n    setFilterBy(keyToFiler, arrayValuesToFilter) {\n        let newFilterBy = Object.assign({}, this.state.filterBy);\n        if (arrayValuesToFilter.length === 0) {\n            delete newFilterBy[keyToFiler]\n        } else {\n            newFilterBy[keyToFiler] = arrayValuesToFilter;\n        }\n        this.setState({filterBy: newFilterBy});\n    }\n\n    checkIfFilteredBy(keyToCheck) {\n        return !!this.state.filterBy[keyToCheck];\n    }\n\n    getFilteringFunction(objectToFilterBy) {\n        console.log(objectToFilterBy);\n        let arrayKeysToFilterBy = Object.keys(objectToFilterBy)\n        return x => {\n            for (let keyToFilterBy of arrayKeysToFilterBy) {\n                if (!objectToFilterBy[keyToFilterBy].includes(x[keyToFilterBy])) {\n                    return false\n                }\n            }\n            return true\n        }\n    }\n\n    filterButtonClick(e, datakey, dataToShow) {\n        e.stopPropagation();\n        const rect = e.target.parentNode.parentNode.getBoundingClientRect();\n\n        let filterValuesSet = new Set();\n        for (let dataObject of dataToShow) {\n            filterValuesSet.add(dataObject[datakey])\n        }\n        console.log(filterValuesSet);\n        this.setState({\n            selectorDatas: {\n                X: rect.left + window.scrollX,\n                Y: rect.bottom + window.scrollY,\n                display: 'initial',\n                validateFilterValues: arrayValuesToFilter => {\n                    this.setFilterBy(datakey, arrayValuesToFilter);\n                    this.setState({selectorDatas: {display: 'none'}})\n                },\n                datas: [...filterValuesSet],\n                selectedDatas: this.state.filterBy[datakey]\n            }\n        });\n    }\n\n    refreshDataTableData(props = this.props) {\n        let allDataKeys = this.getDataKeysToShowFromData(props.dataToShow);\n        this.setState({\n            initialKeysToShow: allDataKeys,\n            currentKeysToShowObject: allDataKeys,\n        })\n    }\n\n    setKeysToShowObject(newKeysToShowObject) {\n        this.setState({\n            currentKeysToShowObject: newKeysToShowObject\n        })\n    }\n\n    getSortOrientation(keyToTest) {\n        if (this.checkIfSortedByKey(keyToTest)) {\n            if (this.state.sortBy[keyToTest] > 0) {\n                return <span><i className=\"fas fa-sort-up\"/></span>\n            } else {\n                return <span><i className=\"fas fa-sort-down\"/></span>\n            }\n        }\n        return <span><i className=\"fas fa-sort\"/></span>\n    }\n\n\n    render() {\n        let keysToShow = Object.keys(this.state.currentKeysToShowObject);\n        // keysToShow = Object.keys(creditNoteBillHeader);\n        console.log(this.state.filterBy);\n\n        if (!this.state.currentKeysToShowObject) {\n            this.refreshDataTableData();\n            return null;\n            // keysToShow = this.getDataKeysToShowFromData(this.props.dataToShow);\n            // console.log(keysToShow);\n        }\n\n        if (this.state.shouldUpdateDataTableData) {\n            this.refreshDataTableData()\n        }\n\n        console.log(this.state.sortBy, keysToShow);\n        let dataToShow = this.props.dataToShow.filter(this.getFilteringFunction(this.state.filterBy));\n        dataToShow = dataToShow.sort(this.getSortingFunction(this.state.sortBy));\n\n\n        console.log('header object ', headerObject);\n\n        let tableHeader = <thead>\n        <tr>\n            {keysToShow.map((keyToShow, step) =>\n                <td key={step}\n                    onClick={() => this.setSortBy(keyToShow)}>\n                    <div className=\"flex\"><span\n                        className=\"flex-1-1\">{this.state.currentKeysToShowObject[keyToShow]}</span>\n                        {this.getSortOrientation(keyToShow)}\n                        <span onClick={e => this.filterButtonClick(e, keyToShow, this.props.dataToShow)}>\n                            <i className=\"fas fa-filter\"\n                               style={{color: this.checkIfFilteredBy(keyToShow) ? 'red' : ''}}/>\n                        </span>\n                    </div>\n                </td>)\n            }\n        </tr>\n        </thead>\n\n        let tableRowsToShow = dataToShow.map((dataObject, step) => {\n            let valuesOnTicket = keysToShow.map((keyToShow, step) =>\n                <td key={step}>\n                    {typeof dataObject[keyToShow] === 'object' ? 'object' : dataObject[keyToShow]}\n                </td>);\n            return <tr\n                // className={dataObject['Date d\\'emission'] && dataObject['Date d\\'emission'].trim() ? '' : 'company-name-row'}\n                onContextMenu={event => {\n                    console.log('modification TODO', event);\n                    event.preventDefault();\n                    this.setState({simpleMenuAnchorEl: event.target, elementToModify: dataObject})\n                }}\n                key={step}\n                onClick={event => {\n                    console.log('modification TODO', event);\n                    event.preventDefault();\n                    this.setState({simpleMenuAnchorEl: event.target, elementToModify: dataObject})\n                }}>\n                {valuesOnTicket}\n            </tr>\n        });\n\n        let tableToShow = <div id=\"superDataTableDiv\">\n            <table id=\"superDataTable\" className=\"text-left\">\n                {tableHeader}\n                <tbody>\n                {tableRowsToShow}\n                </tbody>\n            </table>\n        </div>\n\n\n        let headerObject = keysToShow.reduce((final, current) => {\n            final[current] = this.state.currentKeysToShowObject[current];\n            return final;\n        }, {});\n\n        let dataStructuredAsHeaderSelected = dataToShow.map(data => {\n            return pick(data, keysToShow)\n        });\n\n\n        return <div>\n            <KeysToShowManager initialDatas={this.state.initialKeysToShow}\n                               validateNewConfiguration={x => this.setKeysToShowObject(JSON.parse(x))}/>\n            <ElementsSelector selectorDatas={this.state.selectorDatas}/>\n            <button onClick={() => this.refreshDataTableData()}>Refresh data keys</button>\n            <br/>\n            {exportCSVFileButtonLink(dataStructuredAsHeaderSelected, 'selection')}\n            {/*{this.createSelectionButtonFromData(nameEquivalent, null, x => console.log(x))}*/}\n            <div>{JSON.stringify(this.state.sortBy)}</div>\n            <div style={{whiteSpace: 'pre'}}>\n                {Object.entries(this.state.sortBy).reduce((final, current) => {\n                    final += current[0] + '/' + current[1] + ' \\n ';\n                    return final\n                }, '')}\n            </div>\n            {tableToShow}\n            <SimpleMenu anchorEl={this.state.simpleMenuAnchorEl}\n                        handleClose={() => {\n                            this.setState({simpleMenuAnchorEl: null, elementToModify: null});\n                        }}\n                        menuItems={[{\n                            text: \"Modifier element\",\n                            action: () => this.setState({modifyElementModalOpen: true, simpleMenuAnchorEl: null})\n                        }]}\n            />\n\n            <ModifyObjectDialog open={this.state.modifyElementModalOpen}\n                                onClose={() => this.setState({modifyElementModalOpen: false})}\n                                title=\"Modifier objet\"\n                                objectToModify={this.state.elementToModify}\n\n            />\n        </div>\n    }\n}\n\n\nconst nameEquivalent = {\n    \"_id\": \"Id\",\n    \"airFileName\": \"AirFileName\",\n    \"ticketNumber\": \"Numero ticket\",\n    \"name\": \"Nom \",\n    \"accountName\": \"Nom de compte\",\n    \"customerAccount\": \"Compte client\",\n    \"date\": \"Date\",\n    \"priceHT\": \"Prix HT\",\n    \"priceTTC\": \"Prix TTC\",\n    \"companyName\": \"Compagnie Aerienne\",\n    \"commissionRate\": \"Taux commission\",\n    \"commissionValue\": \"Valeur commission\",\n    \"fees\": \"FS\",\n    \"total\": \"Total\",\n    \"flightDates\": \"Dates de vol\",\n    \"trip\": \"Trip\",\n    \"airTicketNumber\": \"Numero de AIR\",\n    \"emissionDate\": \"Date d'emission\",\n    \"tripsInDetail\": \"Voyage en détail\",\n    \"valid\": \"Validation\",\n    \"customerId\": \"Id client\",\n    \"checked\": \"Validé\",\n    \"completelyPaid\": \"Completement payé\",\n    \"billed_fees\": \"FS facturés\",\n    \"creationDate\": \"Date de creation\",\n    \"billed\": \"Facture\",\n    \"credit_note_refund\": \"References remboursement\",\n    \"canceled\": \"Annulé\",\n    \"PNR\": \"PNR\",\n    \"airTicketNumberPrefix\": \"Prefix AIR\",\n    \"emissionType\": \"Type d'emission\",\n    \"referenceTicket\": \"Reference ticket\",\n    \"isEMDS\": \"isEMDS\"\n}\n\n\nconst creditNoteBillHeader = {\n    \"billNumber\": \"\",\n    \"customerAccount\": \"\",\n    \"totalBilled\": \"\",\n    \"creationDate\": \"\",\n}\n","export function pick(obj, keys) {\n    return keys.map(k => k in obj ? {[k]: obj[k]} : {})\n        .reduce((res, o) => Object.assign(res, o), {});\n}","let res, plus, diz, s, un, mil, mil2, ent, deci, centi, pl, pl2, conj;\n\nlet t=[\"\",\"un\",\"deux\",\"trois\",\"quatre\",\"cinq\",\"six\",\"sept\",\"huit\",\"neuf\"];\nlet t2=[\"dix\",\"onze\",\"douze\",\"treize\",\"quatorze\",\"quinze\",\"seize\",\"dix-sept\",\"dix-huit\",\"dix-neuf\"];\nlet t3=[\"\",\"\",\"vingt\",\"trente\",\"quarante\",\"cinquante\",\"soixante\",\"soixante\",\"quatre-vingt\",\"quatre-vingt\"];\n\n\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// traitement des deux parties du nombre;\nfunction decint(n){\n\n    switch(n.length){\n        case 1 : return dix(n);\n        case 2 : return dix(n);\n        case 3 : return cent(n.charAt(0)) + \" \" + decint(n.substring(1));\n        default: mil=n.substring(0,n.length-3);\n            if(mil.length<4){\n                un= (mil==1) ? \"\" : decint(mil);\n                return un + mille(mil)+ \" \" + decint(n.substring(mil.length));\n            }\n            else{\n                mil2=mil.substring(0,mil.length-3);\n                return decint(mil2) + million(mil2) + \" \" + decint(n.substring(mil2.length));\n            }\n    }\n}\n\n\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// traitement des nombres entre 0 et 99, pour chaque tranche de 3 chiffres;\nfunction dix(n){\n    if(n<10){\n        return t[parseInt(n)]\n    }\n    else if(n>9 && n<20){\n        return t2[n.charAt(1)]\n    }\n    else {\n        plus= n.charAt(1)==0 && n.charAt(0)!=7 && n.charAt(0)!=9 ? \"\" : (n.charAt(1)==1 && n.charAt(0)<8) ? \" et \" : \"-\";\n        diz= n.charAt(0)==7 || n.charAt(0)==9 ? t2[n.charAt(1)] : t[n.charAt(1)];\n        s= n==80 ? \"s\" : \"\";\n\n        return t3[n.charAt(0)] + s + plus + diz;\n    }\n}\n\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// traitement des mots \"cent\", \"mille\" et \"million\"\nfunction cent(n){\n    return n>1 ? t[n]+ \" cent\" : (n==1) ? \" cent\" : \"\";\n}\n\nfunction mille(n){\n    return n>=1 ? \" mille\" : \"\";\n}\n\nfunction million(n){\n    return n>1 ? \" millions\" : \" million\";\n}\n\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// conversion du nombre\nexport function numbToLetters(n){\n\n    // vérification de la valeur saisie\n    if(!/^\\d+[.,]?\\d*$/.test(n)){\n        return \"L'expression entrée n'est pas un nombre.\"\n    }\n\n    n= n.toString()\n    // séparation entier + décimales\n    n=n.replace(/(^0+)|(\\.0+$)/g,\"\");\n    n=n.replace(/([.,]\\d{2})\\d+/,\"$1\");\n    let n1=n.replace(/[,.]\\d*/,\"\");\n    let n2= n1!=n ? n.replace(/\\d*[,.]/,\"\") : false;\n\n    // variables de mise en forme\n    ent= !n1 ? \"\" : decint(n1);\n    deci= !n2 ? \"\" : decint(n2);\n    if(!n1 && !n2){\n        return  \"Zéro Euros. (Mais, de préférence, entrez une valeur non nulle!)\"\n    }\n    conj= !n2 || !n1 ? \"\" : \"  et \";\n    // let euro= !n1 ? \"\" : !/[23456789]00$/.test(n1) ? \" F CFA\" : \"s F CFA\";\n    let euro  = \" FCFA\"\n    centi= !n2 ? \"\" : \" centime\";\n    pl=  n1>1 ? \"s\" : \"\";\n    pl2= n2>1 ? \"s\" : \"\";\n\n    // expression complète en toutes lettres\n    return (ent + euro + conj + deci + centi + pl2).replace(/\\s+/g,\" \").replace(\"cent s E\",\"cents E\");\n\n}\n","import React, { Component } from 'react';\nimport { billServerService } from \"../server_classes/serverData\";\nimport { CustomerAccountsSelector } from \"../add_customer_account/showCustomerAccounts\";\nimport { AirReaderModal } from \"../air_reader_modal/air_reader_modal\";\nimport { SuperDataTable } from \"./superDataTable\";\n\n\nexport class StatesByDate extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            modalVisibility: false,\n            modalComponent: '',\n            dateBeginFilterInputValue: '000000',\n            dateEndFilterInputValue: '999999',\n            ticketsToShow: [],\n            linkButton: '',\n            linkButton2: <div></div>,\n            linkButtonBAD: <div></div>,\n            allBills: [],\n            accountChosen: [],\n            accountIdsWanted : []\n        }\n    }\n\n    static sortAlphabatically(a, b) {\n        let x = a.toLowerCase();\n        let y = b.toLowerCase();\n        if (x < y) {\n            return -1;\n        }\n        if (x > y) {\n            return 1;\n        }\n        return 0;\n    }\n\n    static retriveValueFromKeyAndValueIfNothing(object, key, valueIfNothing = '') {\n        return object[key] ? object[key] : valueIfNothing\n    }\n\n    getAllBills(self) {\n        billServerService.getAllBills()\n            .then(function (response) {\n                self.setState({\n                    allBills: response\n                });\n            })\n    }\n\n    componentDidMount() {\n        this.getAllBills(this);\n    }\n\n    dateFilterFunction(x, self) {\n        // console.log(accountSelectedIds, x['customerId'], x['customerId'] in accountSelectedIds);\n        return x['date'] >= self.state.dateBeginFilterInputValue\n            && x['date'] <= self.state.dateEndFilterInputValue\n    }\n\n    checkedAndCanceledFilterFunction(x, self) {\n        return x['checked'] === true && !x['canceled']\n    }\n\n    accountIdsFilterFunction(x,self) {\n        if (self.state.accountIdsWanted.length === 0) {\n            return true;\n        }\n        return self.state.accountIdsWanted.includes(x.customerId)\n    }\n\n    ticketsForStateFilterFunction(x, self) {\n        return this.checkedAndCanceledFilterFunction(x,self) && this.dateFilterFunction(x,self) && this.accountIdsFilterFunction(x,self)\n    }\n\n    accountFilterFunction(x, self) {\n        //TODO : develop account choice\n    }\n\n    handleDateFilterInputChange(event) {\n        // let valueToSet = event.target.value;\n        let dateObtained = event.target.value.split('-');\n        dateObtained[0] = dateObtained[0].substring(2);\n        let valueToSet = dateObtained.join('');\n        console.log(valueToSet);\n        this.setState({\n            [event.target.name]: valueToSet\n        })\n    }\n\n    getBADBills() {\n        return this.state.allBills.filter(x => [\"5b3b85d086672557efc4843f\", \"5b3b87c986672557efc48441\", \"5b3b86d786672557efc48440\", \"5b3b88c486672557efc48442\", \"5b3b8a6886672557efc48443\"]\n            .includes(x.customerAccount))\n    }\n\n    getBillsFromTicket(ticket) {\n\n        let billsFromTicket = this.state.allBills.filter(bill => (ticket.billed ? ticket.billed.bill_id === bill._id && bill.valueBilled !== 'fees' : false))\n        if (billsFromTicket.length ===1 ){\n            return billsFromTicket[0]\n        }else {\n            return billsFromTicket\n        }\n    }\n\n    getRemarksFromBill(bill) {\n        return bill.billNumber + ';' + bill.commandNumber + ';' + bill.remarks\n    }\n\n    genererEtats() {\n        let ticketsFiltered = this.props.allTickets.filter(x => this.ticketsForStateFilterFunction(x,this));\n        let ticketsSortedByEmissionDate = ticketsFiltered.sort((a, b) => StatesByDate.sortAlphabatically(a.date, b.date));\n\n        let ticketsByCustomerName = this.getTicketsByCustomerName(ticketsSortedByEmissionDate);\n\n        let finalTicketsArrayWithTotals = [];\n        Object.keys(ticketsByCustomerName).reduce((total, currentKey) => {\n            finalTicketsArrayWithTotals = finalTicketsArrayWithTotals.concat(ticketsByCustomerName[currentKey])\n        }, []);\n        finalTicketsArrayWithTotals = finalTicketsArrayWithTotals.map(ticket => this.retrieveUsefullDatasForStatesFromTicket(ticket,this));\n\n        let ticketsSortedByTicketNumber = ticketsFiltered.sort((a, b) => StatesByDate.sortAlphabatically(a.ticketNumber.substring(4), b.ticketNumber.substring(4)));\n        let finalTicketsArraySortedByTktNumber = ticketsSortedByTicketNumber.map(ticket => this.retrieveUsefullDatasForStatesFromTicket(ticket,this));\n\n\n        //************************************\n        //**********  What I Added ***********\n        //************************************\n        let ticketsSortedByTicketNumberThenDate = ticketsFiltered.sort((ticketA,ticketB) =>\n            StatesByDate.sortAlphabatically(ticketA.ticketNumber.substring(0,3) + ticketA.date,ticketB.ticketNumber.substring(0,3) + ticketB.date));\n\n        let actualTicketCompany = ticketsSortedByTicketNumberThenDate[0].ticketNumber.substring(0,3);\n        console.log(ticketsSortedByTicketNumberThenDate);\n        for (let i = ticketsSortedByTicketNumberThenDate.length -1; i > -1 ; i --){\n            console.log(i);\n            let ticketHandled = ticketsSortedByTicketNumberThenDate[i];\n            if (i===ticketsSortedByTicketNumberThenDate.length -1) {\n                actualTicketCompany = ticketsSortedByTicketNumberThenDate[i].ticketNumber.substring(0,3);\n            }\n            if (actualTicketCompany !==  ticketHandled.ticketNumber.substring(0,3)) {\n                ticketsSortedByTicketNumberThenDate.splice(i+1,0,{'name': actualTicketCompany});\n                actualTicketCompany = ticketHandled.ticketNumber.substring(0,3);\n            }\n        }\n\n        finalTicketsArrayWithTotals = ticketsSortedByTicketNumberThenDate.map(ticket => this.retrieveUsefullDatasForStatesFromTicket(ticket,this));\n\n        //************************************\n        //************************************\n        //************************************\n\n\n\n\n\n\n        console.log(finalTicketsArrayWithTotals);\n        let linkButton = this.exportCSVFileButtonLink(finalTicketsArrayWithTotals,\n            \"etats_du\" + this.state.dateBeginFilterInputValue + \"_au_\" + this.state.dateEndFilterInputValue);\n        let linkButton2 = this.exportCSVFileButtonLink(finalTicketsArraySortedByTktNumber,\n            \"etats_du\" + this.state.dateBeginFilterInputValue + \"_au_\" + this.state.dateEndFilterInputValue + \"_par_numero_de_ticket\");\n\n\n\n\n        //Tickets BAD\n        let ticketFilteredForBAD = this.props.allTickets.filter(x => this.checkedAndCanceledFilterFunction(x, this) && this.dateFilterFunction(x, this));\n        let ticketsBAD = ticketFilteredForBAD.filter(x =>\n            [\"5b3b85d086672557efc4843f\", \"5b3b87c986672557efc48441\", \"5b3b86d786672557efc48440\", \"5b3b88c486672557efc48442\", \"5b3b8a6886672557efc48443\"]\n                .includes(x.customerId))\n            .sort((a, b) => StatesByDate.sortAlphabatically(a.date, b.date));\n        //.map(this.retrieveBADDatasFromTicket);\n\n        ticketsBAD.map(ticket => {\n            let billOnTicket = this.getBillsFromTicket(ticket);\n\n            ticket['note' + 0] = this.getRemarksFromBill(billOnTicket)\n\n        });\n\n        let ticketsBADByCustomerName = this.getTicketsByCustomerName(ticketsBAD);\n\n        console.log('tickets BAD', ticketsBAD);\n        let finalTicketBADsArrayWithTotals = [];\n        Object.keys(ticketsBADByCustomerName).reduce((total, currentKey) => {\n            finalTicketBADsArrayWithTotals = finalTicketBADsArrayWithTotals.concat(ticketsBADByCustomerName[currentKey])\n        }, []);\n        console.log(finalTicketBADsArrayWithTotals);\n        finalTicketBADsArrayWithTotals = finalTicketBADsArrayWithTotals.map(this.retrieveBADDatasFromTicket);\n\n\n        let linkButtonBAD = this.exportCSVFileButtonLink(finalTicketBADsArrayWithTotals,\n            \"etats_BAD_du\" + this.state.dateBeginFilterInputValue + \"_au_\" + this.state.dateEndFilterInputValue + \"_par_numero_de_ticket\");\n\n        this.setState({\n            ticketsToShow: finalTicketsArrayWithTotals,\n            linkButton: linkButton,\n            linkButton2: linkButton2,\n            linkButtonBAD: linkButtonBAD\n        })\n    }\n\n    retrieveUsefullDatasForStatesFromTicket(ticket,self=this) {\n        let billOnTicket = self.getBillsFromTicket(ticket);\n        let billOnTicketRemarks = '';\n        if (billOnTicket.remarks) {\n            billOnTicketRemarks = billOnTicket.remarks.split(\";\").reduce((finalObj,element) => {\n                let elementSplitted = element.split(':');\n                if (elementSplitted.length > 1){\n                    finalObj[elementSplitted[0].trim()]= elementSplitted[1];\n                }\n                return finalObj\n            } ,{} );\n        }\n        console.log(ticket, billOnTicket, billOnTicketRemarks);\n\n        return {\n            'Date d\\'emission': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'date', ' '),\n            'Date de depart': ticket['flightDates'] && ticket['flightDates'].length > 0 ? ticket['flightDates'][0] : '',\n            'Date de retour': ticket['flightDates'] && ticket['flightDates'].length > 1 ? ticket['flightDates'][1] : '',\n            'Nom': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'name'),\n            'Compte client': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'customerAccount'),\n            'Compagnie': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'companyName'),\n            'Numero billet': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'ticketNumber'),\n            'Parcours': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'trip'),\n            'Classe': '',\n            'Facture': ticket['billed'] ? (ticket['billed']['bill_number'] ? ticket['billed']['bill_number'] : ' ') : ' ',\n            'BC/Trip': StatesByDate.retriveValueFromKeyAndValueIfNothing(billOnTicket, 'commandNumber'),\n            'CC': StatesByDate.retriveValueFromKeyAndValueIfNothing(billOnTicketRemarks, 'CC'),\n            'OI':  StatesByDate.retriveValueFromKeyAndValueIfNothing(billOnTicketRemarks, 'IO'),\n            'DEPT': '',\n            'PERS': StatesByDate.retriveValueFromKeyAndValueIfNothing(billOnTicketRemarks, 'Commande suivie par '.trim()),\n            'PNR': '',\n            'HT': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceHT', 0), 10),\n            'Taxes': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceTTC', 0), 10) - parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceHT', 0), 10),\n            'Montant/FCFA': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceTTC', 0), 10),\n            'Frais de service': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'fees', 0), 10),\n            '% commission': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'commissionRate'),\n            'valeur commission': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'commissionValue'),\n            'Note': StatesByDate.retriveValueFromKeyAndValueIfNothing(billOnTicket, 'remarks').split('\\n').join(''),\n            'Note1': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'note1'),\n        }\n    }\n\n    retrieveBADDatasFromTicket(ticket, arrayBill = []) {\n        let billAssociated = ticket['billed'] ? ticket['billed'] : '';\n        //TODO :\n        return {\n            'Date d\\'emission': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'date', ' '),\n            'Date de depart': ticket['flightDates'] && ticket['flightDates'].length > 0 ? ticket['flightDates'][0] : '',\n            'Date de retour': ticket['flightDates'] && ticket['flightDates'].length > 1 ? ticket['flightDates'][1] : '',\n            'Nom': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'name'),\n            'Compte client': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'customerAccount'),\n            'Compagnie': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'companyName'),\n            'Numero billet': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'ticketNumber'),\n            'Parcours': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'trip'),\n            'Classe': '',\n            'Facture': ticket['billed'] ? (ticket['billed']['bill_number'] ? ticket['billed']['bill_number'] : ' ') : ' ',\n            'BC/Trip': '',\n            'CC': '',\n            'OI': '',\n            'DEPT': '',\n            'PERS': '',\n            'PNR': '',\n            'HT': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceHT', 0), 10),\n            'Taxes': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceTTC', 0), 10) - parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceHT', 0), 10),\n            'Montant/FCFA': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'priceTTC', 0), 10),\n            'Frais de service': parseInt(StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'fees', 0), 10),\n            '% commission': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'commissionRate'),\n            'valeur commission': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'commissionValue'),\n            'Note': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'note0'),\n            'Note1': StatesByDate.retriveValueFromKeyAndValueIfNothing(ticket, 'note1'),\n        }\n    }\n\n\n    convertToCSV(objArray) {\n        let array = typeof objArray !== 'object' ? JSON.parse(objArray) : objArray;\n        let str = '';\n\n        for (let i = 0; i < array.length; i++) {\n            let line = '';\n            for (let index in array[i]) {\n                if (line !== '') line += ';';\n                line += array[i][index];\n            }\n            str += line + '\\r\\n';\n        }\n        return str;\n    }\n\n    exportCSVFileButtonLink(items, fileTitle) {\n        let headers = {};\n        if (items.length < 1) {\n            return <a>Pas de tickets à ce jour</a>\n        }\n        Object.keys(items[0]).map(key => { //On s'inspire du premier élement pour créer le tableau csv\n            headers[key] = key\n        });\n        items.unshift(headers);\n        // console.log(headers);\n\n        let jsonObject = JSON.stringify(items);\n\n        let csv = this.convertToCSV(jsonObject);\n        let blob = new Blob([csv], {type: 'text/csv;charset=utf-8;'});\n        let exportedFileName = fileTitle + '.csv' || 'export.csv';\n        console.log(csv);function pick(obj, keys) {\n            return keys.map(k => k in obj ? {[k]: obj[k]} : {})\n                .reduce((res, o) => Object.assign(res, o), {});\n        }\n        let url = URL.createObjectURL(blob);\n        return <a href={url} download={exportedFileName}>Telecharger {exportedFileName}</a>\n    }\n\n    getCustomersAccountName() {\n        let customersName = {};\n        this.props.allAccount.reduce((completed, x) => {\n            let keyToAdd = x._id;\n            let valueToAdd = x.name;\n            customersName[keyToAdd] = valueToAdd;\n        }, {});\n        return customersName;\n    }\n\n    ksort(src) {\n        const keys = Object.keys(src);\n        keys.sort();\n        return keys.reduce((target, key) => {\n            target[key] = src[key];\n            return target;\n        }, {});\n    };\n\n    getTicketsByCustomerName(tickets) {\n        // tickets are classed by their customer name\n        let customersNames = this.getCustomersAccountName();\n        let ticketByCustomerAccountName = {};\n        tickets.reduce((unused, ticket) => {\n            let ticketCustomerName = customersNames[ticket.customerId];\n            if (ticketCustomerName in ticketByCustomerAccountName) {\n                ticketByCustomerAccountName[ticketCustomerName].push(ticket)\n            } else {\n                ticketByCustomerAccountName[ticketCustomerName] = [ticket]\n            }\n        }, {});\n        //Calculate totals for each group and add it as a ticket in first line\n        Object.keys(ticketByCustomerAccountName).map(x => {\n            ticketByCustomerAccountName[x] = this.calculateTotals(ticketByCustomerAccountName[x]);\n            ticketByCustomerAccountName[x][0]['name'] = x;\n        });\n\n        ticketByCustomerAccountName['zTotal'] =\n            [this.calculateTotals(Object.keys(ticketByCustomerAccountName).map(x => ticketByCustomerAccountName[x][0]))[0]];\n        ticketByCustomerAccountName['zTotal'][0]['name'] = 'zTotal';\n\n        console.log(ticketByCustomerAccountName);\n        console.log(\"test contenu\", ticketByCustomerAccountName);\n        // console.log(this.ksort(cloneDeep(ticketByCustomerAccountName)));\n        return this.ksort(ticketByCustomerAccountName)\n    }\n\n    calculateTotals(ticketsArray) {\n        let totalValue = ticketsArray.reduce((finalValues, ticket) => {\n            finalValues['priceHT'] += parseInt(ticket['priceHT'], 10);\n            finalValues['priceTTC'] += parseInt(ticket['priceTTC'], 10);\n            finalValues['fees'] += parseInt(ticket['fees'], 10);\n            finalValues['commissionValue'] += parseInt(ticket['commissionValue'], 10);\n            return finalValues\n        }, {'priceHT': 0, 'priceTTC': 0, 'fees': 0, 'commissionValue': 0});\n        ticketsArray.unshift(totalValue);\n        return ticketsArray\n    }\n\n    getDataWantedOnTicket() {\n        return ['Date d\\'emission',\n            'Date de depart',\n            'Date de retour',\n            'Nom',\n            'Compte client',\n            'Compagnie',\n            'Numero billet',\n            'Parcours',\n            'Classe',\n            'Facture',\n            'BC/Trip',\n            'CC',\n            'OI',\n            'DEPT',\n            'PERS',\n            'PNR',\n            'HT',\n            'Taxes',\n            'Montant/FCFA',\n            'Frais de service',\n            '% commission',\n            'valeur commission',\n            'Note',\n            'Note1']\n    }\n\n    openModalAndChooseAccountsForState(self) {\n        return new Promise(function (resolve, reject) {\n            let customerUniqueAccountSelector = <CustomerAccountsSelector\n                onValid={accountChosen => {\n                    self.setModalVisibility(false);\n                    resolve(accountChosen);\n                }}\n                data={self.props.allAccount}\n                multiChoice={true}\n            />;\n            self.setModalVisibility(true, customerUniqueAccountSelector);\n        });\n    }\n\n    setModalVisibility(visibility, compToShow) {\n        if (this.state.modalVisibility !== visibility || visibility) {\n            this.setState({\n                modalVisibility: visibility,\n            })\n        }\n        if (compToShow) {\n            this.setState({\n                modalComponent: compToShow,\n            })\n        }\n    }\n\n    setAccountChosen(accountChosenList, self = this) {\n        //let accountChosen = accountChosenList.map(account => account._id);\n        self.setState({\n            accountChosen: accountChosenList,\n            accountIdsWanted:  accountChosenList.map(x=> x._id)\n        });\n        console.log('accountChosen', accountChosenList)\n    }\n\n    render() {\n\n        let ticketsToShow = this.state.ticketsToShow;\n        let rowWithTicketsToShow = ticketsToShow.map((ticket, step) => {\n\n            let valuesOnTicket = this.getDataWantedOnTicket().map((keyToShow, step) => <td className=\"border-all\"\n                                                                                           key={step}>{ticket[keyToShow]}</td>);\n            return <tr className={ticket['Date d\\'emission'].trim() ? '' : 'company-name-row'}\n                       key={ticket['Numero billet'] + ticket['Nom']}\n                       onClick={() => console.log(ticket)}>\n                {valuesOnTicket}\n            </tr>\n        });\n\n        let tableWithTickets = <table className=\"text-left\">\n            <tbody>\n            {rowWithTicketsToShow}\n            </tbody>\n        </table>\n\n\n        return <div className=\"flex-container flex-direction-column\">\n            <div className=\"flex-container\">\n                <div>\n                    <div>\n                        <label>Date de début</label>\n                        <input placeholder=\"Jour\" type=\"date\" name=\"dateBeginFilterInputValue\"\n                               onChange={event => this.handleDateFilterInputChange(event)}/>\n                    </div>\n                    <div>\n                        <label>Date de fin</label>\n                        <input placeholder=\"Jour\" type=\"date\" name=\"dateEndFilterInputValue\"\n                               onChange={event => this.handleDateFilterInputChange(event)}/>\n                    </div>\n                </div>\n                <div className=\"flex-container-column\">\n                    {this.state.accountChosen ? this.state.accountChosen.map(x => <div>{x.name}</div>) : 'Pas de compte selectionné'}\n                    <div\n                        onClick={() => this.openModalAndChooseAccountsForState(this).then(accountList => this.setAccountChosen(accountList))}>\n                        Choisir compte\n                    </div>\n                </div>\n                <div className=\"flex-container-column\">\n                    {this.state.linkButton ? 'Télécharger selection affichée' : 'Pas d\\'etat cree'}\n                    {this.state.linkButton}\n                    {this.state.linkButton2}\n                </div>\n            </div>\n            <div>\n                <button onClick={() => this.genererEtats()}>Generer etat</button>\n            </div>\n            <div className=\"flex-container flex-direction-column\">\n                {this.state.linkButtonBAD}\n            </div>\n            <div>\n                {tableWithTickets}\n            </div>\n\n            <AirReaderModal visible={this.state.modalVisibility}\n                            onOutsideClick={() => this.setModalVisibility(false, '')}>\n                {this.state.modalComponent}\n            </AirReaderModal>\n        </div>\n    }\n}\n","import axiosInstance from \"./axiosInstance\";\n\nconst CREDIT_NOTE = 'credit_note/';\nconst CREDIT_NOTE_BILL = 'credit_note/bill/';\n\n\nexport class CreditNoteServerService {\n\n    static cancelCreditNote(credit_note) {\n        return axiosInstance\n            .post(CREDIT_NOTE + 'cancel', JSON.stringify(credit_note['_id']))\n    }\n\n    static insertCreditNote(credit_noteToInsert) {\n        return axiosInstance\n            .post(CREDIT_NOTE + 'insert', JSON.stringify(credit_noteToInsert))\n    }\n\n    static insertCreditNoteBill(creditNoteBillToInsert) {\n        return axiosInstance\n            .post(CREDIT_NOTE_BILL + 'insert', JSON.stringify(creditNoteBillToInsert))\n    }\n\n\n    static cancelCreditNoteBillRequest(creditNoteBillToCancel) {\n        return axiosInstance\n            .post(CREDIT_NOTE_BILL + 'cancel', JSON.stringify(creditNoteBillToCancel._id))\n    }\n\n    static getAllCreditNoteBills() {\n        return axiosInstance.get(CREDIT_NOTE_BILL)\n\n        // return axios.get(CREDIT_NOTE_BILL).then(response => {\n        //     if (response.status === 200) {\n        //         console.log(response);\n        //         return response.json();\n        //     }\n        // })\n    }\n\n    static getAllCreditNotes() {\n        return axiosInstance.get(CREDIT_NOTE)\n    }\n\n    static getNextCreditNoteBillNumber() {\n        return axiosInstance.get(CREDIT_NOTE + 'getNextCreditNoteBillNumber')\n            .then(creditNoteNumber =>\n                \"AFV/18/\" + \"000000\".substring(creditNoteNumber.toString().length) + creditNoteNumber.toString() + \"AB\"\n            )\n    }\n\n}\n","import React  from 'react';\n\nexport function AccountDetails(props) {\n    return <div className={props.className + ' text-left' }>\n        <div>{props.accountToShow['name']}</div>\n        <div>{props.accountToShow['customer reference']}</div>\n        <div>{props.accountToShow['adress']}</div>\n        <div>{props.accountToShow['city'] + ' - ' + props.accountToShow['country']}</div>\n        <div>{props.accountToShow['entire name']}</div>\n        <div>{\"Avec FS : \" + props.accountToShow['with FS']}</div>\n        <div>{\"Type de paiement : \" + props.accountToShow['paiement type']}</div>\n    </div>\n}","export function generateLongDate(dateValue = '') {\n    let dateTimeD = '';\n    dateTimeD = dateValue ? new Date(dateValue) : new Date();\n    let months = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aout', 'septembre', 'octobre', 'novembre', 'décembre'];\n    let dateToShow = dateTimeD.getDate() + ' ' + months[dateTimeD.getMonth()] + ' ' + dateTimeD.getFullYear();\n    return dateToShow\n}","import React, { Component } from 'react';\nimport './bill_display.css'\nimport { numbToLetters } from \"../useful_functions/numbToLetters\";\nimport { generateLongDate } from \"../useful_functions/generateLongDate\";\n\nconst FACTURE = 'FACTURE';\n\n\nexport class BillDisplay extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            companyDatas: {\n                name: 'Agence Française de Voyages',\n                adress: 'B.P. 245, Yaounde',\n                tel: '(+237) 77 93 78 21 - 22',\n                mail: 'afv_cameroun@yahoo.fr',\n                contribuable_ID: 'N° CONTRIBUABLE : P036300272328L'\n            }\n        }\n    }\n\n    getTicketArray() {\n        return this.props.ticketsSelected.map(ticket => {\n            let flightDate = 'DEP : ' + ticket['flightDates'][0];\n            if (ticket['flightDates'].length > 1) {\n                flightDate = flightDate + ' RET ' + ticket['flightDates'][1]\n            }\n            return <tr key={ticket._id} className=\" no-border ticket-tr\">\n                <td className=\"no-border border-right padding-5px\">\n                    <div>{ticket['ticketNumber']}</div>\n                    <div className={this.props.showDetailsData ? '' : 'displayNone'}>{ticket['date']}</div>\n                </td>\n                <td className=\"no-border border-right padding-5px\">\n                    <div>{ticket['companyName'] + ' : ' + ticket['trip']}</div>\n                    <div>{ticket['name']}</div>\n                    <div>{flightDate}</div>\n                </td>\n                {/*<td>{this.props.accountSelected['with FS'] === 'true'? ticket['total'] : ticket['priceTTC']}</td>*/}\n                <td className=\"no-border text-right padding-5px\">{parseInt(ticket[this.props.valueToBill], 10).toLocaleString()}</td>\n            </tr>\n        });\n    }\n\n    render() {\n        return <div className={this.props.className}>\n            <BillContext\n                printable = {this.props.printable}\n                className={\"centeredDiv text-left \" + (this.props.accountSelected && this.props.ticketsSelected.length > 0 ? '' : 'displayNone')}\n                billType={FACTURE}\n                billNumber={this.props.billNumber}\n                companyDatas={this.state.companyDatas}\n                accountSelected={this.props.accountSelected}\n                remarks={this.props.remarks}\n                date={this.props.dateToShow}\n            >\n                <TicketBilling ticketsSelected={this.props.ticketsSelected} valueToBill={this.props.valueToBill}\n                               accountSelected={this.props.accountSelected} commandNumber={this.props.commandNumber}\n                               billNumber={this.props.billNumber} showDetailsData={this.props.showDetailsData}/>\n\n            </BillContext>\n        </div>\n    }\n\n}\n\n\nexport function BillCompanyDetails(props) {\n    return <div className={props.className}>\n        <div className=\"bold-text all-caps \">{props.companyDatas.name}</div>\n        <div>{props.companyDatas.adress}</div>\n        <div>{props.companyDatas.tel}</div>\n        <div>{props.companyDatas.mail}</div>\n        <div>{props.companyDatas.contribuable_ID}</div>\n    </div>\n}\n\nexport function BillCustomerDetails(props) {\n    return <div className={props.className}>\n        <div>\n            <div className=\"bold-text all-caps customerAccountNameDiv\">\n                {props.accountSelected['entire name']}\n            </div>\n            <div>{props.accountSelected['adress']}</div>\n            <div>{props.accountSelected['city'] +\n            (props.accountSelected['country'] ? ' - ' + props.accountSelected['country'] : '')}</div>\n            <div>{props.accountSelected['phone'] ? 'Tel :' + props.accountSelected['phone'] : ''}</div>\n        </div>\n\n    </div>\n}\n\nexport function BillBottom(props) {\n    return <div>\n        <div className={props.limitDateHidden ?  \"displayNone\" : \"padding-5px \"}>Echéance : {props.date}</div>\n        <div className=\"white-space-wrap padding-5px\">\n            {props.remarks ? props.remarks.split(\";\").map(x => <div key={x}>{x}</div>) : ''}\n        </div>\n        <div className=\"flex-container\">\n            <span className=\"text-left padding-5px flex-1-1\">{props.isCreditNote ? 'Le bénéficiaire' : ''}</span>\n            <span className=\"text-right padding-5px\"> La Direction</span>\n        </div>\n    </div>\n}\n\nexport function BillHead(props) {\n    return <div>\n        <div className=\"flex-container\">\n            <div className=\"flex-1-1\"><img src=\"/static/AFV Name.png\" id=\"companyLogo\" alt=\"company logo\" className=\"\"/>\n            </div>\n            <div className=\"all-caps\"><span className=\"bold-text\">{props.billType + ' n°'}</span> {props.billNumber}\n            </div>\n        </div>\n\n        <div className=\"flex-container margin-bottom-20px padding-5px\">\n            <BillCompanyDetails companyDatas={props.companyDatas} className=\"flex-1-1 \"/>\n            <BillCustomerDetails className=\" \" accountSelected={props.accountSelected}/>\n        </div>\n    </div>\n}\n\nexport function BillContext(props) {\n    // let dateTimeD = new Date(props.date);\n    // let dateToShow = '';\n    // if (dateTimeD.length > 0)  {\n    //     let months = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aout', 'septembre', 'octobre', 'novembre', 'décembre'];\n    //     dateToShow = dateTimeD.getDate() + ' ' + months[dateTimeD.getMonth()] + ' ' + dateTimeD.getFullYear();\n    // }\n\n    return <div\n        id={props.printable ? \"bill_preview\" : \"\"}\n        className={props.className}>\n\n        <BillHead billType={props.billType}\n                  billNumber={props.billNumber}\n                  companyDatas={props.companyDatas}\n                  accountSelected={props.accountSelected}/>\n\n        <div className=\"padding-5px \">Yaoundé, le {generateLongDate(props.date)}</div>\n\n        {props.children}\n        <BillBottom isCreditNote={props.isCreditNote} remarks={props.remarks} limitDateHidden = {props.limitDateHidden} date={generateLongDate(props.date)}/>\n    </div>\n}\n\nexport function TicketBilling(props) {\n    // ticketsSelected = {this.props.ticketsSelected} valueToBill = {this.props.valueToBill}\n    // accountSelected = {this.props.accountSelected} commandNumber = {this.props.commandNumber} billNumber = {this.props.billNumber}\n    // ticketsArray = {this.getTicketArray()}\n\n    let ticketsArray = props.ticketsSelected.map(ticket => {\n        let flightDate = 'DEP : ' + ticket['flightDates'][0];\n        if (ticket['flightDates'].length > 1) {\n            flightDate = flightDate + ' RET ' + ticket['flightDates'][1]\n        }\n        return <tr key={ticket._id} className=\" no-border ticket-tr\">\n            <td className=\"no-border border-right padding-5px\">\n                <div>{ticket['ticketNumber']}</div>\n                <div className={props.showDetailsData ? '' : 'displayNone'}>{ticket['date']}</div>\n            </td>\n            <td className=\"no-border border-right padding-5px\">\n                <div>{ticket['companyName'] + ' : ' + ticket['trip']}</div>\n                <div>{ticket['name']}</div>\n                <div>{flightDate}</div>\n            </td>\n            {/*<td>{this.props.accountSelected['with FS'] === 'true'? ticket['total'] : ticket['priceTTC']}</td>*/}\n            <td className=\"no-border text-right padding-5px\">{parseInt(ticket[props.valueToBill], 10).toLocaleString()}</td>\n        </tr>\n    });\n\n    let totalToPay = props.ticketsSelected.reduce((sum, current) => sum + parseInt(current[props.valueToBill], 10), 0);\n    let fees = 0;\n    let discount = 0;\n    let TVA = 0;\n    let netToPay = totalToPay + fees + discount + TVA;\n    let netToPayInLetters = numbToLetters(netToPay);\n\n    return <div>\n        <table className=\"ticketBillDisplay\">\n            <thead className=\"my-header align-top\">\n            <tr>\n                <td className=\"padding-5px border-right\">\n                    <div>Bon de commande</div>\n                    <div>{props.commandNumber}</div>\n                </td>\n                <td className=\"padding-5px border-right\">\n                    <div>Reference client : {props.accountSelected['customer reference']}</div>\n                    <div>Compte : {props.accountSelected['customer account']}</div>\n                </td>\n                <td className=\"padding-5px \">{props.billNumber}</td>\n            </tr>\n            <tr>\n                <th className=\"padding-5px width-150px\">Reference</th>\n                <th className=\"padding-5px\">Designation</th>\n                <th className=\"padding-5px width-130px\">Montant</th>\n            </tr>\n            </thead>\n            <tbody className=\"align-top\">\n            {ticketsArray}\n            </tbody>\n        </table>\n\n        <div className=\"flex-container page-break\">\n            <div className=\"flex-3-1\">\n\n            </div>\n            <div className=\"no-padding\">\n                <table>\n                    <tbody>\n                    {[\n                        {textToShow: 'Total', valueToShow: totalToPay},\n                        {textToShow: 'Frais de service', valueToShow: fees},\n                        {textToShow: 'Remise', valueToShow: discount},\n                        {textToShow: 'TVA', valueToShow: TVA},\n                        {textToShow: 'Net à payer (F CFA)', valueToShow: netToPay},\n                    ].map(x =>\n                        <tr key={x.textToShow}>\n                            <td className=\"width-150px border-all\">{x.textToShow}</td>\n                            <td className=\"width-130px text-right border-all padding-5px\">{x.valueToShow.toLocaleString()}</td>\n                        </tr>)}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div className=\"flex-container flex-direction-column padding-5px\">\n            <div\n                className=\"all-caps bold-text\">{netToPayInLetters}</div>\n            <div className=\"flex-3-1\">\n                Mode de paiement : {props.accountSelected['paiement type']}\n            </div>\n        </div>\n\n\n    </div>\n}","import React, { Component } from 'react';\nimport '../bill_maker/bill_display.css'\nimport './credit_note_bill.css'\nimport { numbToLetters } from \"../useful_functions/numbToLetters\";\nimport { BillContext } from \"../bill_maker/bill_display\";\n\nconst CREDIT_NOTE = 'Avoir';\n\nexport class CreditNoteBill extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            companyDatas: {\n                name: 'Agence Française de Voyages',\n                adress: 'B.P. 245, Yaounde',\n                tel: '(+237) 77 93 78 21 - 22',\n                mail: 'afv_cameroun@yahoo.fr',\n                contribuable_ID: 'N° CONTRIBUABLE : P036300272328L'\n            }\n        }\n    }\n\n    render() {\n        return <div className={this.props.className}>\n            <BillContext\n                printable ={this.props.printable}\n                className={\"centeredDiv text-left \" + (this.props.accountSelected && this.props.creditNotes.length > 0 ? '' : 'displayNone')}\n                billType={CREDIT_NOTE}\n                billNumber={this.props.billNumber}\n                companyDatas={this.state.companyDatas}\n                accountSelected={this.props.accountSelected}\n                remarks={this.props.remarks}\n                date={this.props.dateToShow}\n                limitDateHidden={true}\n                isCreditNote={true}\n            >\n                <CreditNoteBilling creditNotes={this.props.creditNotes}\n                                   accountSelected={this.props.accountSelected} commandNumber={this.props.commandNumber}\n                                   billNumber={this.props.billNumber} paymentType={this.props.paymentType}\n                                   showDetailsData={this.props.showDetailsData}/>\n\n            </BillContext>\n        </div>\n    }\n\n}\n\n\nexport function CreditNoteBilling(props) {\n    // ticketsSelected = {this.props.ticketsSelected} valueToBill = {this.props.valueToBill}\n    // accountSelected = {this.props.accountSelected} commandNumber = {this.props.commandNumber} billNumber = {this.props.billNumber}\n    // ticketsArray = {this.getTicketArray()}\n\n    let creditNotesArray = props.creditNotes.map((creditNote, step) => {\n        // let flightDate = 'DEP : ' + creditNote['flightDates'][0];\n        // if (creditNote['flightDates'].length > 1) {\n        //     flightDate = flightDate + ' RET ' + creditNote['flightDates'][1]\n        // }\n        return <CreditNoteBillElementView key={step} creditNote={creditNote} showDetailsData={props.showDetailsData}/>\n    });\n\n    let initialTicketsAmount = 0;\n    let amountUsed = 0;\n    let cancelationFees = 0;\n    let netToRefund = 0;\n    props.creditNotes.reduce((sum, current) => {\n        initialTicketsAmount += parseInt(current['initialTicketAmount'], 10);\n        amountUsed += parseInt(current['amountUsed'], 10);\n        cancelationFees += parseInt(current['cancelationFees'], 10);\n        cancelationFees += parseInt(current['agencyFees'], 10);\n        netToRefund += parseInt(current['netToRefund'], 10);\n        return 0;\n    }, 0);\n    let netToPayInLetters = numbToLetters(netToRefund);\n\n\n    let totalDiv = [<tr key='totalValueNames flex-container'>\n        {[\n            {textToShow: 'Montant initial', valueToShow: initialTicketsAmount, className: 'bold-text'},\n            {textToShow: 'Montant imputé', valueToShow: amountUsed + cancelationFees, className: 'bold-text'},\n            {textToShow: 'Montant remboursé', valueToShow: 0, className: 'bold-text'},\n            {textToShow: 'Montant restant', valueToShow: netToRefund, className: 'bold-text'},\n        ].map(x => <td key={x.textToShow} className={\"flex-1-1 border-right padding-5px \" + x.className}>{x.textToShow}</td>)}\n    </tr>,\n        <tr key='totalValues'>\n            {[\n                {textToShow: 'Montant initial', valueToShow: initialTicketsAmount, className: 'bold-text'},\n                {textToShow: 'Montant imputé', valueToShow: amountUsed + cancelationFees, className: 'bold-text'},\n                {textToShow: 'Montant remboursé', valueToShow: 0, className: 'bold-text'},\n                {textToShow: 'Montant restant', valueToShow: netToRefund, className: 'bold-text'},\n            ].map(x => <td  key={x.textToShow}\n                className=\"flex-1-1 border-right text-right padding-5px \">{x.valueToShow.toLocaleString()}</td>)}\n        </tr>]\n\n\n    return <div>\n        <table>\n            <thead className=\"my-header align-top\">\n            <tr>\n                <td className=\"border-right padding-5px\">\n                    <div>Bon de commande</div>\n                    <div>{props.commandNumber}</div>\n                </td>\n                <td className=\"border-right padding-5px\">\n                    <div>Reference client : {props.accountSelected['customer reference']}</div>\n                    <div>Compte : {props.accountSelected['customer account']}</div>\n                </td>\n                <td className=\"border-right padding-5px \">{props.billNumber}</td>\n            </tr>\n            <tr>\n                <th className=\"padding-5px width-150px\">Reference</th>\n                <th className=\"padding-5px\">Designation</th>\n                <th className=\"padding-5px width-130px\">Montant</th>\n            </tr>\n            </thead>\n            <tbody className=\"align-top\">\n            {creditNotesArray}\n            </tbody>\n        </table>\n\n        <br/>\n        <div className=\"no-padding\">\n            <table className=\"equal-width-table\">\n                <tbody>\n                {totalDiv}\n                </tbody>\n            </table>\n        </div>\n\n\n        <div className=\"flex-container flex-direction-column padding-5px\">\n            <div>{\"Arreté le présent avoir à la somme de \"}\n                <span className=\"all-caps bold-text\">{netToPayInLetters}</span>\n            </div>\n        </div>\n\n\n    </div>\n}\n\nfunction CreditNoteBillElementView(props) {\n    let creditNote = props.creditNote;\n    let cancelationFees = creditNote['cancelationFees'] + creditNote['agencyFees'];\n\n    return [\n        <tr key='ticketNumber&Date' className=\" no-border ticket-tr\">\n            <td className=\"no-border border-right\">\n                <div className=\"padding-left-5px\">{creditNote['ticketNumber']}</div>\n                <div className={props.showDetailsData ? '' : 'displayNone'}>{creditNote['date']}</div>\n            </td>\n            <td className=\"no-border border-right padding-left-5px\">\n                <div>{creditNote['passengerName']}</div>\n            </td>\n            <td/>\n        </tr>,\n        <tr key='companyName' className='no-border'>\n            <td className=\"border-right padding-left-5px medium-font\">{creditNote['ticket_bill_number']}</td>\n            <td className='padding-left-5px border-right small-font'> {creditNote['companyName'] + ' : ' + creditNote['trip']}</td>\n            <td/>\n        </tr>,\n\n        <tr key=\"flightCancelation\" className='no-border'>\n            <td className=\"border-right\"> {props.showDetailsData ? '' : creditNote['date']}</td>\n            <td className='border-right small-font padding-left-20px'> Annulation du voyage</td>\n            <td/>\n        </tr>,\n\n        <tr key=\"initialTicketAmountLine\" className='no-border credit_note_bill_line'>\n            <td className=\"border-right\"/>\n            <td className='border-right small-font'> Montant initial du billet</td>\n            <td className=\"text-right padding-right-5px\">{creditNote['initialTicketAmount'].toLocaleString()}</td>\n        </tr>,\n\n        <tr key='amountUsedLine' className='no-border credit_note_bill_line'>\n            <td className=\"border-right\"/>\n            <td className='border-right '> Montant utilisé</td>\n            <td className=\"text-right padding-right-5px\">{creditNote['amountUsed'].toLocaleString()}</td>\n        </tr>,\n\n        <tr key='cancelationFeesLine' className='no-border credit_note_bill_line'>\n            <td className=\"border-right\"/>\n            <td className='border-right '>Frais d'annulation</td>\n            <td className=\"text-right padding-right-5px\">{cancelationFees.toLocaleString()}</td>\n        </tr>,\n\n        <tr key='netToRefundLine' className='border-bottom text-right'>\n            <td className=\"border-right\"/>\n            <th className='border-right no-border padding-5px'>Net à rembourser</th>\n            <th className=\"no-border padding-5px\">{creditNote['netToRefund'].toLocaleString()}</th>\n        </tr>]\n}","import React, { Component } from 'react';\nimport { ListElement} from \"../add_customer_account/showCustomerAccounts\";\nimport { CreditNoteServerService } from \"../server_classes/creditNoteServerRequest\";\nimport { numbToLetters } from \"../useful_functions/numbToLetters\";\nimport { AccountDetails } from \"../add_customer_account/accountDetails\";\nimport { CreditNoteBill } from \"./CreditNoteBill\";\nimport { ListElementSelector } from \"../add_customer_account/ListElementSelector\";\n\n\nexport class CreditNoteBillMaker extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            billCreationStage: 0,\n            accountSelected: '',\n            creditNotesSelected: [],\n            creditNoteNumber: '',\n            billTotalMoneyNumbers: '',\n            isValidateBillButtonDisabled: '',\n            validateButtonMessage: '',\n            commandNumber: '',\n            remarks: '',\n            dateToShow: new Date().getTime(),\n            paymentType: '',\n        }\n    }\n\n    onAccountSelected(accountSelected) {\n        console.log(\"accountSelected\", accountSelected);\n        this.setState({\n            accountSelected: accountSelected,\n            creditNotesSelected: [],\n            paymentType: accountSelected['paiement type'],\n        });\n        this.setBillCreationStage(1)\n    }\n\n    setBillCreationStage(value) {\n        this.setState({\n            billCreationStage: value\n        })\n    }\n\n    unselectAccount() {\n        this.setBillCreationStage(0)\n        this.setState({\n            accountSelected: ''\n        })\n    }\n\n    getValueToBill() {\n        return this.state.accountSelected['with FS'] ? 'total' : 'priceTTC'\n    }\n\n    onCreditNotesSelected(creditNotesSelected) {\n        console.log(\"creditNotesSelected\", creditNotesSelected);\n\n        let totalToPay = creditNotesSelected.reduce((sum, current) => sum + parseInt(current[this.getValueToBill()], 10), 0);\n        let fees = 0;\n        let discount = 0;\n        let TVA = 0;\n        let netToPay = totalToPay + fees + discount + TVA;\n        let billTotalMoneyNumbers = {\n            totalToPay: totalToPay,\n            fees: 0,\n            discount: 0,\n            TVA: 0,\n            netToPay: totalToPay + fees + discount + TVA,\n            netToPayInLetters: numbToLetters(netToPay),\n        };\n        CreditNoteServerService.getNextCreditNoteBillNumber().then(creditNoteNumber => this.setState({\n            creditNoteNumber: creditNoteNumber\n        }));\n        this.setState({\n            creditNotesSelected: creditNotesSelected,\n            billTotalMoneyNumbers: billTotalMoneyNumbers,\n            isValidateBillButtonDisabled: false,\n            validateButtonMessage: this.VALIDATE_BILL\n        });\n        this.setBillCreationStage(2)\n    }\n\n    filterFunction(x, self) {\n        return x['customerId'] === self.state.accountSelected['_id']\n            && !x['canceled']\n            && !x['billed']\n    }\n\n    handleCreditNoteBillMakerInputChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n        });\n    }\n\n    generateCreditNoteBillAndSend(self) {\n        let creditNoteBill = {\n            billNumber: this.state.creditNoteNumber,\n            credit_notes: this.state.creditNotesSelected.map(creditNote => [creditNote['_id'], creditNote['netToRefund']]),\n            customerId: this.state.accountSelected._id,\n            customerAccount: this.state.accountSelected.name,\n            totalBilled: this.state.creditNotesSelected.reduce((result, creditNote) => {\n                result += creditNote['netToRefund'];\n                return result\n            }, 0)\n        };\n        console.log('creditNoteBill', creditNoteBill);\n        CreditNoteServerService.insertCreditNoteBill(creditNoteBill).then(creditNoteBillReturned => {\n            if (!creditNoteBillReturned) return;\n            console.log('creditNoteBillReturned', creditNoteBillReturned);\n            self.props.addCreditNoteBill(creditNoteBillReturned['credit_note_bill'], creditNoteBillReturned['credit_notes_updated']);\n            self.unselectAccount();\n        })\n    }\n\n    render() {\n        let dataToShow = this.props.allCreditNotes.filter(x => this.filterFunction(x, this));\n        console.log(dataToShow);\n\n        return <div className=\"flex-container flex-direction-column \">\n            <div className=\"margin-left-right-auto\">\n                <div onClick={() => this.unselectAccount()}>Choisir compte</div>\n                <ListElementSelector onClick={x => console.log(x)}\n                                     onValid={accountSelected => {\n                                         this.onAccountSelected(accountSelected);\n                                     }}\n                                     data={this.props.allAccount}\n                                     sortBy='name'\n                                     dataKeysToShow={['name', 'customer reference']}\n                                     filterPossibilities={['name', 'customer reference']}\n                                     multiChoice={false}\n                                     className={this.state.billCreationStage === 0 ? '' : 'displayNone'}\n                />\n                <AccountDetails accountToShow={this.state.accountSelected}\n                                className={this.state.billCreationStage > 0 ? '' : 'displayNone'}/>\n            </div>\n\n            <div\n                className={'margin-left-right-auto margin-bottom-20px ' + (this.state.accountSelected ? '' : 'displayNone')}>\n                <div onClick={() => this.setBillCreationStage(1)}>Selectionner avoirs</div>\n                <ListElementSelector onClick={x => console.log(x)}\n                                     onValid={x => {\n                                         this.onCreditNotesSelected(x)\n                                     }}\n                                     data={dataToShow}\n                                     dataKeysToShow={['ticketNumber', 'passengerName', 'initialTicketAmount', 'netToRefund']}\n                                     filterPossibilities={['ticketNumber', 'passengerName']}\n                                     multiChoice={true}\n                                     className={this.state.billCreationStage === 1 ? '' : 'displayNone'}\n                />\n                <ListElement dataToRender={this.state.creditNotesSelected}\n                             onElementClick={(element) => console.log(element)}\n                             dataKeysToShow={['ticketNumber', 'passengerName', 'initialTicketAmount', 'netToRefund']}\n                             className={this.state.billCreationStage > 1 ? '' : 'displayNone'}\n                />\n            </div>\n\n            <div className=\"flex-container padding-20px margin-20-px\">\n\n                <div>\n\n                    <div\n                        className={'margin-left-right-auto position-sticky text-left '\n                        + (this.state.creditNotesSelected.length > 0 ? '' : 'displayNone')}>\n                        <div>\n                            <label>Facture n° : </label>\n                            <input name='creditNoteNumber' value={this.state.creditNoteNumber}\n                                   onChange={(e) => this.handleCreditNoteBillMakerInputChange(e)}/>\n                        </div>\n                        <div>\n                            <label>Bon de commande : </label>\n                            <input name='commandNumber' onChange={(e) => this.handleCreditNoteBillMakerInputChange(e)}/>\n                        </div>\n                        <div>\n                            <label>Mode de paiement : </label>\n                            <input name='paymentType' value={this.state.paymentType}\n                                   onChange={(e) => this.handleCreditNoteBillMakerInputChange(e)}/>\n                        </div>\n                        <div>\n                            <label className=\"align-top\">Remarques : </label>\n                            <textarea id=\"remark-field-bill-maker\" name='remarks'\n                                      onChange={(e) => this.handleCreditNoteBillMakerInputChange(e)}/>\n                        </div>\n\n                        <button className={this.state.creditNotesSelected.length > 0 ? '' : 'displayNone '}\n                                onClick={() => this.generateCreditNoteBillAndSend(this)}\n                                disabled={this.state.isValidateBillButtonDisabled}>\n                            {this.state.validateButtonMessage} Valider\n                        </button>\n                    </div>\n\n\n                </div>\n                <CreditNoteBill printable={false}\n                    accountSelected={this.state.accountSelected}\n                                creditNotes={this.state.creditNotesSelected}\n                                dateToShow={this.state.dateToShow}\n                                billNumber={this.state.creditNoteNumber}\n                                commandNumber={this.state.commandNumber}\n                                remarks={this.state.remarks}\n                                valueToBill={this.state.valueToBill}\n                                showDetailsData={true}\n                                paymentType={this.state.paymentType}\n                                className=\"flex-1-1\">\n\n                </CreditNoteBill>\n            </div>\n        </div>\n    }\n}","import React from 'react';\n\nexport function LabelAndInputElement(props) {\n    //props : inputValue, keyToModify, onChange, inputType, labelValue\n    return <div className={props.className ? props.className : 'flex-container'}>\n        <label className=\"flex-1-1 margin-3-2\">{props.labelValue}</label>\n        {\n            props.inputType === 'checkbox' ?\n                <input\n                    name={props.keyToModify}\n                    checked={props.inputValue} type={props.inputType}\n                    onChange={(event) => props.onChange(event)}\n                    className=\"flex-1-1\"/> :\n                <input\n                    name={props.keyToModify}\n                    value={props.inputValue} type={props.inputType}\n                    onChange={(event) => props.onChange(event)}\n                    className=\"flex-1-1\"/>\n        }\n    </div>\n}","import React from 'react';\nimport { LabelAndInputElement } from \"./LabelAndInputElement\";\n\nexport function TicketDetails(props) {\n    let idGroupToShow = [\n        {dataKeyToShow: \"ticketNumber\", labelValue: \"Numero de ticket\", inputType: \"text\"},\n        {dataKeyToShow: \"name\", labelValue: \"Identité du passager\", inputType: \"text\"},\n        {dataKeyToShow: \"accountName\", labelValue: \"Nom renseigné par agent\", inputType: \"text\"},\n        {dataKeyToShow: \"customerAccount\", labelValue: \"Nom de compte à attribuer\", inputType: \"text\"},\n    ];\n\n    let flightGroupToShow = [\n        {dataKeyToShow: \"companyName\", labelValue: \"Compagnie\", inputType: \"text\"},\n        {dataKeyToShow: \"trip\", labelValue: \"Voyages\", inputType: \"text\"},\n        {dataKeyToShow: \"flightDates\", labelValue: \"Dates de vol\", inputType: \"text\"},\n        {dataKeyToShow: \"emissionDate\", labelValue: \"Dates de creation et modif dossier\", inputType: \"text\"},\n        {dataKeyToShow: \"date\", labelValue: \"Date d'emission\", inputType: \"text\"},\n    ];\n\n    let billingGroupToShow = [\n        {dataKeyToShow: \"commissionRate\", labelValue: \"Commission (% du HT)\", inputType: \"text\"},\n        {dataKeyToShow: \"commissionValue\", labelValue: \"Valeur de la commission\", inputType: \"text\"},\n        {dataKeyToShow: \"priceHT\", labelValue: \"Prix HT\", inputType: \"number\"},\n        {dataKeyToShow: \"priceTTC\", labelValue: \"Prix TTC\", inputType: \"number\"},\n        {dataKeyToShow: \"fees\", labelValue: \"Frais de service\", inputType: \"number\"},\n        {dataKeyToShow: \"total\", labelValue: \"Total à payer\", inputType: \"number\"},\n    ];\n\n    let elementsToShow = <div className=\"flex-container flex-direction-column\">\n        <div className=\"flex-container\">\n            <div className=\"flex-1-1 margin-5px padding-5px\">\n                {\n                    idGroupToShow.map(x => {\n                        return <LabelAndInputElement\n                            inputValue={props.data[x.dataKeyToShow]} labelValue={x.labelValue}\n                            keyToModify={x.dataKeyToShow} inputType={x.inputType}\n                            key={x.dataKeyToShow}\n                            onChange={(event) => props.handleInputChangeOnTicket(event)}\n                        />\n                    })\n                }\n            </div>\n            <div className=\"flex-1-1 margin-5px padding-5px\">\n                {\n                    flightGroupToShow.map(x => {\n                        return <LabelAndInputElement\n                            inputValue={props.data[x.dataKeyToShow]} labelValue={x.labelValue}\n                            keyToModify={x.dataKeyToShow} inputType={x.inputType}\n                            key={x.dataKeyToShow}\n                            onChange={(event) => props.handleInputChangeOnTicket(event)}\n                        />\n                    })\n                }\n            </div>\n            <div className=\"flex-1-1 margin-5px  padding-5px\">\n                {\n                    billingGroupToShow.map(x => {\n                        return <LabelAndInputElement\n                            inputValue={props.data[x.dataKeyToShow]} labelValue={x.labelValue}\n                            keyToModify={x.dataKeyToShow} inputType={x.inputType}\n                            key={x.dataKeyToShow}\n                            onChange={(event) => props.handleInputChangeOnTicket(event)}\n                        />\n                    })\n                }\n            </div>\n        </div>\n        <div>\n            <LabelAndInputElement\n                labelValue=\"Billet annulé ? \"\n                keyToModify=\"canceled\" inputType=\"checkbox\"\n                onChange={(event) => props.handleInputChangeOnTicket(event)}\n                inputValue={props.data['canceled']}\n                className=\"block-container\"\n            />\n        </div>\n        {\n            Object.keys(props.data).includes('billed') ?\n                <div>Facture billet : {props.data['billed'].bill_number} / {props.data['billed'].value_billed.toLocaleString()} FCFA</div>\n                : ''\n        }\n        {\n            Object.keys(props.data).includes('billed_fees') ?\n                <div>Facture FS : {props.data['billed_fees'].bill_number} / {props.data['billed_fees'].value_billed.toLocaleString()} FCFA</div>\n                : ''\n        }\n\n\n    </div>;\n\n    let credit_note_view = '';\n    if ('credit_note_refund' in props.data) {\n        let creditNoteData = props.data.credit_note_refund;\n        let credit_note_date = new Date(creditNoteData['creationDate']).toLocaleString();\n        credit_note_view =\n            <div>Remboursement effectué : {creditNoteData['value_to_refund']} FCFA le {credit_note_date} </div>\n    }\n\n\n    return (\n        <div className=\"flex-container flex-wrap text-left ticket-container flex-direction-column\">\n            <div className=\"ticket-container \">\n                {elementsToShow}\n\n                <div className=\"ticket-container-action-buttons-div\">\n                    <div className=\"\">{props.children}</div>\n                </div>\n                <div>{credit_note_view}</div>\n            </div>\n        </div>\n    )\n}","import React, { Component } from 'react';\nimport { LabelAndInputElement } from \"../ticket-validation/LabelAndInputElement\";\n\nexport class CreditNoteToMakeDetails extends Component {\n    //props ticketToRefund\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    creditNoteValuesToShow = [\n        {dataKeyToShow: \"withFS\", labelValue: \"Avec FS ?\", inputType: \"checkbox\"},\n        {dataKeyToShow: \"initialTicketAmount\", labelValue: \"Montant initial du ticket\", inputType: \"number\"},\n        {dataKeyToShow: \"amountUsed\", labelValue: \"Montant utilisé\", inputType: \"number\"},\n        {dataKeyToShow: \"cancelationFees\", labelValue: \"Frais d'annulation\", inputType: \"number\"},\n        {dataKeyToShow: \"agencyFees\", labelValue: \"Frais de service\", inputType: \"number\"},\n        {dataKeyToShow: \"netToRefund\", labelValue: \"Net à rembourser\", inputType: \"number\"},\n    ];\n\n    render() {\n        let ticketNumberAndName = this.props.ticketToRefund ?\n            <div className=\"flex-1-1\">\n                <div>\n                    <label>Numero de ticket : </label>\n                    {this.props.ticketToRefund.ticketNumber}\n                </div>\n                <div>\n                    <label>Nom du voyageur : </label>\n                    {this.props.ticketToRefund.name}\n                </div>\n                <div>\n                    <label>Nom du compte : </label>\n                    {this.props.ticketToRefund.customerAccount}\n                </div>\n            </div> :\n            <div className=\"text-center\">No ticket Found</div>\n\n        return <div>\n            <div className=\"flex-container flex-wrap text-left \">\n                {ticketNumberAndName}\n\n                <div className={'flex-1-1 ' + (this.props.ticketToRefund ? 'babab ' : 'displayNone')}>\n                    {this.creditNoteValuesToShow.map(x => {\n                        return <LabelAndInputElement\n                            inputValue={this.props.creditNote[x.dataKeyToShow]} labelValue={x.labelValue}\n                            keyToModify={x.dataKeyToShow} inputType={x.inputType}\n                            key={x.dataKeyToShow}\n                            onChange={(event) => this.props.handleInputChangeOnCreditNote(event)}\n                        />\n                    })}\n                </div>\n\n            </div>\n            <div>\n                {this.props.children}\n            </div>\n        </div>\n    }\n}","import React, { Component } from 'react';\nimport { TicketDetails } from \"../ticket-validation/TicketDetails\";\nimport { CreditNoteToMakeDetails } from \"./CreditNoteToMakeDetails\";\nimport { CreditNoteServerService } from \"../server_classes/creditNoteServerRequest\";\n\nlet emptyCreditNote = {\n    ticketNumber: '',\n    passengerName: '',\n    initialTicketAmount: 0,\n    amountUsed: 0,\n    cancelationFees: 0,\n    netToRefund: 0,\n    companyName: '',\n    agencyFees: 0,\n    trip: '',\n    emissionDate: '',\n    flightDates: [],\n    withFS: true,\n};\n\nexport class CreditNoteMaker extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ticketNumberToFind: '',\n            creditNote: Object.assign(emptyCreditNote, {}),\n            creditNoteAlreadyExist: false,\n            ticketToRefund: ''\n        }\n    }\n\n\n    changeTicketNumber(event) {\n        let valueToSet = event.target.value;\n        this.setState({\n            [event.target.name]: valueToSet\n        })\n    }\n\n    generateCreditNote(ticketFound, self) {\n        let creditNote = Object.assign(this.state.creditNote, {});\n        creditNote.ticketNumber = ticketFound.ticketNumber;\n        creditNote.passengerName = ticketFound.name;\n        creditNote.customerId = ticketFound.customerId;\n        creditNote.customerAccount = ticketFound.customerAccount;\n        creditNote.trip = ticketFound.trip;\n        creditNote.flightDates = ticketFound.flightDates;\n        creditNote.emissionDate = ticketFound.date;\n        creditNote.companyName = ticketFound.companyName;\n        this.parseCreditNoteValuesToInt(creditNote);\n        console.log('credit note generated', creditNote);\n        CreditNoteServerService.insertCreditNote(creditNote).then(function (response) {\n            console.log(response);\n            self.props.updateTicket(response['ticketsUpdated']);\n            self.props.addCreditNote(response['credit_note']);\n            self.findTicketToRefund();\n        }).catch(function (error) {\n            console.log(error)\n        })\n    }\n\n    deleteExistingCreditNote(self) {\n        if ('_id' in this.state.creditNote) {\n            CreditNoteServerService.cancelCreditNote(this.state.creditNote).then(response => {\n                console.log(response);\n                self.props.updateTicket(response['ticketsUpdated']);\n                self.props.deleteCreditNote(this.state.creditNote);\n                self.setState({\n                    creditNote: emptyCreditNote\n                });\n                self.findTicketToRefund();\n            }).catch(function (error) {\n                console.log(error)\n            })\n        }\n    }\n\n    parseCreditNoteValuesToInt(creditNote) {\n        creditNote.initialTicketAmount = parseInt(creditNote.initialTicketAmount, 10);\n        creditNote.amountUsed = parseInt(creditNote.amountUsed, 10);\n        creditNote.cancelationFees = parseInt(creditNote.cancelationFees, 10);\n        creditNote.agencyFees = parseInt(creditNote.agencyFees, 10);\n        creditNote.netToRefund = parseInt(creditNote.netToRefund, 10);\n    }\n\n    updateCreditNote(creditNoteToUpdate = this.state.creditNote, recalculateInitialAmount = false) {\n        let newCreditNote = Object.assign({}, creditNoteToUpdate);\n        if (recalculateInitialAmount) {\n            this.recalculateInitialTicketAmount(newCreditNote, this.state.ticketToRefund);\n        }\n        this.recalculateCreditNoteTotal(newCreditNote);\n        this.setState({\n            creditNote: newCreditNote,\n        })\n    }\n\n    handleInputChangeOnCreditNote(event) {\n        const target = event.target;\n        const name = target.name;\n        const value = target.type === 'checkbox' ? target.checked : this.checkIfStartWithZeroAndEliminateIt(target.value);\n\n        let newCreditNote = Object.assign({}, this.state.creditNote);\n        newCreditNote[name] = value;\n\n        this.updateCreditNote(newCreditNote, target.name === 'withFS');\n    }\n\n    checkIfStartWithZeroAndEliminateIt(value) {\n        if (value.length > 1 && value.toString()[0] === '0') {\n            return value.toString().substring(1);\n        } else if (value.length === 0) {\n            return 0\n        }\n        return value\n    }\n\n    recalculateCreditNoteTotal(creditNote) {\n        creditNote.netToRefund = creditNote.initialTicketAmount - creditNote.amountUsed - creditNote.cancelationFees - creditNote.agencyFees;\n    }\n\n    recalculateInitialTicketAmount(creditNote, ticketToRefund) {\n        creditNote.initialTicketAmount = creditNote.withFS ? ticketToRefund.total : ticketToRefund.priceTTC\n    }\n\n    findTicketToRefund() {\n        let ticketFound = this.props.allTickets.find(x => x._id.toString().indexOf(this.state.ticketNumberToFind) > -1);\n\n        if (!ticketFound) {\n            ticketFound = '';\n        } else if (ticketFound) {\n            if ('credit_note_refund' in ticketFound) { // let creditNoteAlreadyExist = 'credit_note_refund' in this.state.ticketToRefund\n                let creditNoteFound = this.props.allCreditNotes.find(x => x._id === ticketFound.credit_note_refund.credit_note_id);\n                console.log('credit Note found', creditNoteFound);\n                this.setState({\n                    creditNoteAlreadyExist: true,\n                    creditNote: creditNoteFound,\n                });\n            } else {\n                this.setState({\n                    creditNoteAlreadyExist: false,\n                    creditNote: Object.assign({}, emptyCreditNote),\n                });\n            }\n        }\n        this.setState({\n            ticketToRefund: ticketFound\n        });\n        setTimeout(() => this.updateCreditNote(this.state.creditNote,true), 100);\n    }\n\n    render() {\n        let ticketFound = this.props.allTickets.find(x => x._id.toString().indexOf(this.state.ticketNumberToFind) > -1);\n        let ticketFoundWiew = '';\n\n        if (this.state.ticketToRefund) {\n            let credit_note_element = <div>Pas d'avoir existant </div>;\n            if (this.state.creditNoteAlreadyExist) {\n                credit_note_element = <div>Avoir déjà existant à supprimer </div>\n            }\n\n            ticketFoundWiew = <div>\n                <TicketDetails className=\"flex-container \"\n                               data={this.state.ticketToRefund}\n                               handleInputChangeOnTicket={(x) => {\n                               }}\n                >\n                </TicketDetails>\n                {this.state.creditNoteAlreadyExist ?\n                    <button onClick={() => this.deleteExistingCreditNote(this)}\n                            disabled={!this.state.creditNoteAlreadyExist}>\n                        Supprimer avoir déjà existant\n                    </button> :\n                    <button onClick={() => this.generateCreditNote(ticketFound, this)}\n                            disabled={this.state.creditNoteAlreadyExist}>\n                        Valider avoir\n                    </button>}\n\n                {credit_note_element}\n            </div>;\n        }\n\n\n        return <div className=\"flex-container flex-direction-column\">\n            <div>\n                <label>Numero de ticket </label>\n                <input placeholder=\"Ticket number\" type=\"text\" name=\"ticketNumberToFind\"\n                       onChange={event => this.changeTicketNumber(event)}/>\n                <button onClick={() => this.findTicketToRefund()}>Trouver billet</button>\n            </div>\n\n            {ticketFoundWiew}\n\n            <CreditNoteToMakeDetails ticketToRefund={this.state.ticketToRefund}\n                                     creditNote={this.state.creditNote}\n                // updateCreditNote = {(newCreditNote)=>this.updateCreditNote(newCreditNote)}\n                                     handleInputChangeOnCreditNote={(event) => this.handleInputChangeOnCreditNote(event)}/>\n\n        </div>\n    }\n\n\n}\n","import React, { Component } from 'react';\nimport { ListElement} from \"../add_customer_account/showCustomerAccounts\";\nimport { CreditNoteServerService } from \"../server_classes/creditNoteServerRequest\";\nimport { AccountDetails } from \"../add_customer_account/accountDetails\";\nimport { CreditNoteBill } from \"./CreditNoteBill\";\nimport { ListElementSelector } from \"../add_customer_account/ListElementSelector\";\n\n\nexport class CreditNoteBillViewer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            billCreationStage: 0,\n            accountSelected: '',\n            creditNoteBillSelected: '',\n            creditNotesSelected: [],\n            creditNoteNumber: '',\n            billTotalMoneyNumbers: '',\n            isValidateBillButtonDisabled: '',\n            validateButtonMessage: '',\n            commandNumber: '',\n            remarks: '',\n            dateToShow: '',\n            paymentType: '',\n        }\n    }\n\n    onAccountSelected(accountSelected) {\n        console.log(\"accountSelected\", accountSelected);\n        this.setState({\n            accountSelected: accountSelected,\n            creditNotesSelected: [],\n            paymentType: accountSelected['paiement type'],\n        });\n        this.setBillCreationStage(1)\n    }\n\n    onCreditNoteBillSelected(creditNoteBillSelected) {\n        console.log(\"creditNoteBillSelected\", creditNoteBillSelected);\n        this.setState({\n            creditNoteBillSelected: creditNoteBillSelected,\n            creditNotesSelected: [],\n            paymentType: creditNoteBillSelected['paiement type'],\n            dateToShow: creditNoteBillSelected.creationDate,\n\n        });\n        this.findCreditNotesFromBill(creditNoteBillSelected);\n        // this.findAccountBilledFromBill(creditNoteBillSelected);\n        this.setBillCreationStage(2);\n    }\n\n    findCreditNotesFromBill(creditNoteBill) {\n        let creditNotesId = creditNoteBill.credit_notes.map(x => x[0]);\n        let creditNotesOnBill = this.props.allCreditNotes.filter(creditNote => creditNotesId.includes(creditNote._id));\n        console.log(creditNotesOnBill);\n        this.setState({\n            creditNotesSelected: creditNotesOnBill,\n        })\n    }\n\n    findAccountBilledFromBill(creditNoteBill) {\n        this.setState({\n            accountSelected: this.props.allAccount.find(x => x._id === creditNoteBill.customerId),\n        })\n    }\n\n    setBillCreationStage(value) {\n        this.setState({\n            billCreationStage: value\n        })\n    }\n\n    unselectAccount() {\n        this.setBillCreationStage(0);\n        this.setState({\n            accountSelected: ''\n        })\n    }\n\n    unselectCreditNoteBill() {\n        this.setBillCreationStage(1);\n        this.setState({\n            creditNoteBillSelected: '',\n            creditNotesSelected: [],\n            paymentType: '',\n        });\n    }\n\n    filterFunction(x) {\n        return !x['canceled'] && x.customerId === this.state.accountSelected._id\n    }\n\n    sendCancelCreditNoteBillRequest(creditNoteBillToDelete, self = this) {\n        CreditNoteServerService.cancelCreditNoteBillRequest(creditNoteBillToDelete).then(creditNoteBillReturned => {\n            if (!creditNoteBillReturned) return;\n            console.log('creditNoteBillReturned', creditNoteBillReturned);\n            self.props.cancelCreditNoteBill(creditNoteBillReturned['credit_note_bill'], creditNoteBillReturned['credit_notes_updated']);\n            self.unselectCreditNoteBill();\n        })\n    }\n\n    render() {\n        let dataToShow = this.props.allCreditNoteBills.filter(x => this.filterFunction(x, this));\n        console.log(dataToShow);\n\n        return <div className=\"flex-container flex-direction-column \">\n            <div className=\"margin-left-right-auto\">\n                <div onClick={() => this.unselectAccount()}>Choisir compte</div>\n                <ListElementSelector onClick={x => console.log(x)}\n                                     onValid={accountSelected => {\n                                         this.onAccountSelected(accountSelected);\n                                     }}\n                                     data={this.props.allAccount}\n                                     sortBy='name'\n                                     dataKeysToShow={['name', 'customer reference']}\n                                     filterPossibilities={['name', 'customer reference']}\n                                     multiChoice={false}\n                                     className={this.state.billCreationStage === 0 ? '' : 'displayNone'}\n                />\n                <AccountDetails accountToShow={this.state.accountSelected}\n                                className={this.state.billCreationStage > 0 ? '' : 'displayNone'}/>\n            </div>\n\n\n            <div className={(this.state.billCreationStage > 0 ? '' : 'displayNone ') + \"margin-left-right-auto\"}>\n                <div onClick={() => this.unselectCreditNoteBill()}>Selectionner factures</div>\n                <ListElementSelector onClick={x => console.log(x)}\n                                     onValid={accountSelected => {\n                                         this.onCreditNoteBillSelected(accountSelected);\n                                     }}\n                                     data={dataToShow}\n                                     dataKeysToShow={['billNumber', 'customer reference']}\n                                     filterPossibilities={['billNumber', 'customer reference']}\n                                     multiChoice={false}\n                                     className={this.state.billCreationStage === 1 ? '' : 'displayNone'}\n                />\n                <ListElement dataToRender={[this.state.creditNoteBillSelected]}\n                             onElementClick={(element) => console.log(element)}\n                             dataKeysToShow={['creationDate', 'passengerName', 'initialTicketAmount', 'netToRefund']}\n                             className={this.state.billCreationStage > 1 ? '' : 'displayNone'}\n                />\n            </div>\n\n            <div className=\"flex-container padding-20px margin-20-px\">\n                <CreditNoteBill printable={true}\n                                accountSelected={this.state.accountSelected}\n                                creditNotes={this.state.creditNotesSelected}\n                                dateToShow={this.state.dateToShow}\n                                billNumber={this.state.creditNoteBillSelected.billNumber}\n                                commandNumber={this.state.creditNoteBillSelected.commandNumber}\n                                remarks={this.state.creditNoteBillSelected.remarks}\n                                valueToBill={this.state.valueToBill}\n                                showDetailsData={true}\n                                paymentType={this.state.creditNoteBillSelected.paymentType}\n                                className=\"flex-1-1\">\n\n                </CreditNoteBill>\n            </div>\n\n            <div className={this.state.creditNoteBillSelected ? '' : 'displayNone'}>\n                <button onClick={() => this.sendCancelCreditNoteBillRequest(this.state.creditNoteBillSelected)}>\n                    Supprimer avoir ?\n                </button>\n            </div>\n\n        </div>\n    }\n}","import React, { Component } from 'react';\nimport { CreditNoteServerService } from \"../server_classes/creditNoteServerRequest\";\nimport { CreditNoteBillMaker } from \"./CreditNoteBillMaker\";\nimport { CreditNoteMaker } from \"./CreditNoteMaker\";\nimport { CreditNoteBillViewer } from \"./CreditNoteBillViewer\";\nimport cloneDeep from 'lodash/cloneDeep';\nimport { Route } from 'react-router-dom'\n\n\nconst CREDIT_NOTE_BILL_MAKER = 0;\nconst CREDIT_NOTE_MAKER = 1;\nconst CREDIT_NOTE_BILL_VIEWER = 2;\n\n\nexport class CreditNoteView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            creditNotes: [],\n            creditNoteBills: [],\n            viewSelected: CREDIT_NOTE_BILL_MAKER,\n        }\n    }\n\n\n    componentDidMount() {\n        CreditNoteServerService.getAllCreditNotes().then(allCreditNotesObtained => {\n            console.log('allCreditNotes', allCreditNotesObtained);\n            this.setState({creditNotes: allCreditNotesObtained})\n        });\n\n        CreditNoteServerService.getAllCreditNoteBills().then(allCreditNoteBillsObtained => {\n            console.log('allCreditNoteBills', allCreditNoteBillsObtained);\n            this.setState({creditNoteBills: allCreditNoteBillsObtained})\n        });\n    }\n\n    addCreditNote(creditNote) {\n        this.setState({\n            creditNotes: this.state.creditNotes.concat([creditNote])\n        })\n    }\n\n    addCreditNoteBill(creditNoteBill, creditNotesModified) {\n        console.log(creditNoteBill);\n        console.log('creditnotes concatened', this.state.creditNotes.concat([creditNotesModified]));\n        this.setState({\n            creditNoteBills: this.state.creditNoteBills.concat([creditNoteBill])\n        });\n        this.updateCreditNotes(creditNotesModified)\n    }\n\n    cancelCreditNoteBill(creditNoteBill, creditNotesModified) {\n        console.log(creditNoteBill);\n        // console.log('new list', this.state.creditNoteBills.splice(\n        //     this.state.creditNoteBills.findIndex(x => x._id === creditNoteBill._id), 1, creditNoteBill));\n        let newCreditNoteBillsCopy = cloneDeep(this.state.creditNoteBills);\n        newCreditNoteBillsCopy.splice(newCreditNoteBillsCopy.findIndex(x => x._id === creditNoteBill._id), 1, creditNoteBill);\n\n        this.setState({\n            creditNoteBills: newCreditNoteBillsCopy\n\n        });\n        this.updateCreditNotes(creditNotesModified);\n    }\n\n    updateCreditNotes(creditNotesModified) {\n        let creditNoteArray = cloneDeep(this.state.creditNotes);\n        console.log('creditNotesModified', creditNotesModified);\n        for (let creditNote of creditNotesModified) {\n            console.log('creditNotesModified', creditNote);\n            creditNoteArray.splice(\n                creditNoteArray.findIndex(x => x._id === creditNote._id), 1, creditNote);\n        }\n        this.setState({creditNotes: creditNoteArray});\n    }\n\n    deleteCreditNote(creditNote) {\n        let creditNotesCopy = this.state.creditNotes.slice();\n        let creditNoteIndexToDelete = creditNotesCopy.findIndex(x => x._id === creditNote._id);\n        console.log('credit note to delete _id found', creditNoteIndexToDelete);\n        creditNotesCopy.splice(creditNoteIndexToDelete, 1);\n        console.log('after deletion', creditNotesCopy);\n        this.setState({\n            creditNotes: creditNotesCopy\n        })\n    }\n\n    changeView(value) {\n        this.setState({viewSelected: value})\n    }\n\n\n    render() {\n        return <div>\n\n            <Route path=\"/credit_notes/new\" render={() =>\n                <CreditNoteMaker\n                    allAccount={this.props.allAccount}\n                    allTickets={this.props.allTickets}\n                    allCreditNotes={this.state.creditNotes}\n                    updateTicket={(x) => this.props.updateTicket(x)}\n                    addCreditNote={creditNote => this.addCreditNote(creditNote)}\n                    deleteCreditNote={creditNote => this.deleteCreditNote(creditNote)}\n                />\n            }/>\n            <Route path=\"/credit_notes/bill\" render={() =>\n                <CreditNoteBillMaker\n                    allAccount={this.props.allAccount}\n                    allTickets={this.props.allTickets}\n                    allCreditNotes={this.state.creditNotes}\n                    addCreditNoteBill={(creditNoteBill, creditNoteModified) => this.addCreditNoteBill(creditNoteBill, creditNoteModified)}/>\n            }/>\n            <Route path=\"/credit_notes/billed\" render={() =>\n                <CreditNoteBillViewer\n                    allAccount={this.props.allAccount}\n                    allTickets={this.props.allTickets}\n                    allCreditNotes={this.state.creditNotes}\n                    allCreditNoteBills={this.state.creditNoteBills}\n                    cancelCreditNoteBill={(creditNoteBill, creditNoteModified) => this.cancelCreditNoteBill(creditNoteBill, creditNoteModified)}\n                />\n            }/>\n        </div>\n    }\n\n}","import React, { Component } from 'react';\nimport './ticketValidationComponent.css';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { CustomerAccountsSelector } from '../add_customer_account/showCustomerAccounts';\nimport { billServerService } from '../server_classes/serverData';\nimport { TicketDetails } from './TicketDetails';\nimport { AirReaderModal } from '../air_reader_modal/air_reader_modal';\n\n\nexport class TicketValidationComponent extends Component {\n    Ajouter;\n\n    constructor(props) {\n        super(props);\n        // this.handleClick = this.handleClick.bind(this)\n        // this.inputChange = this.inputChange.bind(this)\n        this.state = {\n            inputValue: 'lol',\n            ticketList: [],\n            allAccount: this.props.allAccount,\n            allTickets: this.props.allTickets,\n            modalVisibility: false,\n            modalComponent: '',\n            dateFilterInputValue: '',\n            researchFilterInputValue: '',\n            ticketToShowFilterFunction: this.getFilterFunction,\n            maxNumberOfTicketsToShow: 10,\n        };\n    }\n\n    static recalculateTotal(ticketChosen) {\n        ticketChosen.total = parseInt(ticketChosen.priceTTC, 10) + parseInt(ticketChosen.fees, 10);\n    }\n\n    componentDidMount() {\n        //this.getAllTickets(this);\n    }\n\n    handleInputChangeOnTicket(event, ticketChosen) {\n        const target = event.target;\n        const name = target.name;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n\n        let newTicket = cloneDeep(ticketChosen);\n        newTicket[name] = value;\n        TicketValidationComponent.recalculateTotal(newTicket);\n        this.updateTicket(newTicket);\n    }\n\n    addCustomerAccount(ticket, customerAccount) {\n        let ticketToAddAccount = cloneDeep(ticket);\n\n\n        if (customerAccount) {\n            ticketToAddAccount['valid'] = true;\n            ticketToAddAccount['customerId'] = customerAccount['_id'];\n            ticketToAddAccount['customerAccount'] = customerAccount['name'];\n        }\n        this.updateTicket(ticketToAddAccount);\n    }\n\n    updateTicket(ticket) {\n        this.props.updateTicket(ticket);\n    }\n\n    openModalAndChooseAccountForTicket(self) {\n        return new Promise(function (resolve, reject) {\n            let customerUniqueAccountSelector = <CustomerAccountsSelector\n                onValid={accountChosen => {\n                    self.setModalVisibility(false);\n                    resolve(accountChosen);\n                }}\n                data={self.props.allAccount}\n            />;\n            self.setModalVisibility(true, customerUniqueAccountSelector);\n        });\n    }\n\n    validateTicket(ticket, self) {\n        let validatedTicket = cloneDeep(ticket);\n        validatedTicket['checked'] = true;\n        billServerService.validateTicket(validatedTicket)\n                         .then(function (response) {\n                             if (response) {\n                                 self.updateTicket(validatedTicket);\n                             }\n                             else {\n                                 console.log('erreur lors de l\\'enregistrement...');\n                                 //IL faut que je marque un message en cas d'erreur ....\n                             }\n                         });\n    }\n\n    setModalVisibility(visibility, compToShow) {\n        if (this.state.modalVisibility !== visibility || visibility) {\n            this.setState({\n                modalVisibility: visibility,\n            });\n        }\n        if (compToShow) {\n            this.setState({\n                modalComponent: compToShow,\n            });\n        }\n    }\n\n    changeTicketView(event) {\n        let newFilterFunction;\n        if (event.target.name === 'valid') {\n            newFilterFunction = this.getFilterFunction(true);\n        } else {\n            newFilterFunction = this.getFilterFunction(false);\n        }\n        this.setState({\n            ticketToShowFilterFunction: newFilterFunction,\n        });\n    }\n\n    getFilterFunction(bool) {\n        let firstFunction = '';\n        if (bool) {\n            firstFunction = x => x['checked'] === true;\n\n        } else {\n            firstFunction = x => x['checked'] !== true;\n        }\n        return x => firstFunction(x)\n            && x['date'].indexOf(this.state.dateFilterInputValue) > -1\n            && (x['ticketNumber'].indexOf(this.state.researchFilterInputValue) > -1\n                || x['name'].indexOf(this.state.researchFilterInputValue) > -1\n                || x['accountName'].indexOf(this.state.researchFilterInputValue) > -1);\n    }\n\n    handleFilterInputChange(event) {\n        let valueToSet = event.target.value;\n        if (event.target.name === 'dateFilterInputValue') {\n            let dateObtained = event.target.value.split('-');\n            dateObtained[0] = dateObtained[0].substring(2);\n            valueToSet = dateObtained.join('');\n        }\n        this.setState({\n            [event.target.name]: valueToSet.toUpperCase(),\n        });\n\n    }\n\n    addEMDSAsNewTicket(ticket, self) {\n        return new Promise(function (resolve, reject) {\n            let ticketsEMDSDetailsToCreate = <EMDSAsNewTicketComponent\n                ticketData={ticket}\n                onValid={ticketCreated => {\n                    self.setModalVisibility(false);\n                    console.log('ticketCreated', ticketCreated);\n                    resolve(ticketCreated);\n                }}\n            />;\n            self.setModalVisibility(true, ticketsEMDSDetailsToCreate);\n        });\n    }\n\n\n    render() {\n        let ticketsFiltered = this.props.allTickets\n                                  .filter(this.state.ticketToShowFilterFunction);\n\n        let ticketsToShow = ticketsFiltered.slice(0, this.state.maxNumberOfTicketsToShow).map(x => {\n            return <TicketDetails className='flex-container ' data={x}\n                                  key={x['_id']}\n                                  handleInputChangeOnTicket={(event) => this.handleInputChangeOnTicket(event, x)}\n            >\n                <button className='validate-ticket-button'\n                        onClick={() => {\n                            this.openModalAndChooseAccountForTicket(this)\n                                .then(accountChosen => this.addCustomerAccount(x, accountChosen));\n                        }}\n                >\n                    Affecter compte client\n                </button>\n                <button className=' validate-ticket-button' disabled={!x.valid}\n                        onClick={() => {\n                            this.validateTicket(x, this);\n                        }}\n                >\n                    Valider\n                </button>\n                <button className=' validate-ticket-button' onClick={() => {\n                    this.addEMDSAsNewTicket(x, this).then(ticketToAdd => {\n                        if (ticketToAdd) {\n                            console.log(' ticketTOAdd here', ticketToAdd);\n                            this.props.addTicket(ticketToAdd);\n                        }\n                    });\n                }}\n                >\n                    EMDS\n                </button>\n\n            </TicketDetails>;\n        });\n\n        return (\n            <div className='flex-container-column'>\n                <div style={{margin: '10px 2px'}} className='sticky-top-0'>\n                    <button onClick={event => this.changeTicketView(event)} name='not_valid'>\n                        Billets à valider\n                    </button>\n                    <button onClick={event => this.changeTicketView(event)} name='valid'>\n                        Billets validés\n                    </button>\n\n                    <div>Filtrer selon :\n                        <input placeholder='Jour' type='date' name='dateFilterInputValue'\n                               onChange={event => this.handleFilterInputChange(event)}\n                        />\n                        <input placeholder='Filtrer' type='text' name='researchFilterInputValue'\n                               onChange={event => this.handleFilterInputChange(event)}\n                        />\n                    </div>\n                </div>\n                {/*<button onClick={() => this.setModalVisibility(true, addCustomerAccount)}>Afficher Modal</button>*/}\n                <AirReaderModal visible={this.state.modalVisibility}\n                                onOutsideClick={() => this.setModalVisibility(false, '')}\n                >\n                    {this.state.modalComponent}\n                </AirReaderModal>\n\n\n                <div className=' all-tickets-scrollable flex-1-1'>\n                    {ticketsToShow}\n                </div>\n\n            </div>\n        );\n    }\n}\n\n\nexport class EMDSAsNewTicketComponent extends Component {\n    constructor(props) {\n        super(props);\n        // this.handleClick = this.handleClick.bind(this)\n        // this.inputChange = this.inputChange.bind(this)\n        this.state = {\n            ticket: {},\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // You don' t have to do this check first, but it can help prevent an unneeded render\n        console.log('next pros', nextProps);\n        if (nextProps.ticketData !== this.props.ticketData) {\n            console.log(' on est dedans', nextProps);\n            let ticketCopied = this.retrieveTicketFromProps(nextProps);\n            this.setState({\n                ticket: ticketCopied,\n            });\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.ticketData) {\n            this.setState({\n                ticket: this.retrieveTicketFromProps(this.props),\n            });\n        }\n    }\n\n    retrieveTicketFromProps(props) {\n        if (props.ticketData) {\n            console.log(' on est dedans', props);\n            let ticketCopied = cloneDeep(props.ticketData);\n            ticketCopied.referenceTicket = ticketCopied._id;\n            ticketCopied.isEMDS = true;\n            ticketCopied[' ticketNumber'] = '';\n            ticketCopied.commissionRate = 0;\n            ticketCopied.commissionValue = 0;\n            ticketCopied.fees = 0;\n            ticketCopied.total = 0;\n            ticketCopied.priceHT = 0;\n            ticketCopied.priceTTC = 0;\n            delete ticketCopied._id;\n            delete ticketCopied[' credit_note_refund'];\n            delete ticketCopied.billed;\n            console.log(' ticket to create', ticketCopied);\n\n            return ticketCopied;\n        }\n        return {};\n    }\n\n    handleInputChangeOnEMDSTicketInCreation(event) {\n        const target = event.target;\n        const name = target.name;\n        const value = target.type === ' checkbox' ? target.checked : target.value;\n\n        let newTicket = cloneDeep(this.state.ticket);\n        newTicket[name] = value;\n\n        TicketValidationComponent.recalculateTotal(newTicket);\n        this.setState({\n            ticket: newTicket,\n        });\n        console.log(value, name, newTicket);\n    }\n\n    createTicket() {\n        let ticketCreated = this.state.ticket;\n        ticketCreated._id = ticketCreated[' ticketNumber'];\n        console.log(ticketCreated);\n        billServerService.insertTicket(ticketCreated).then(() => {\n            this.props.onValid(ticketCreated);\n        });\n    }\n\n\n    render() {\n        return <div>\n            <TicketDetails\n                className=' flex-container '\n                data={this.state.ticket}\n                handleInputChangeOnTicket={(event) => this.handleInputChangeOnEMDSTicketInCreation(event)}\n            >\n                <button onClick={() => this.createTicket()} disabled={!this.state.ticket.ticketNumber}>Create EMDS\n                </button>\n\n            </TicketDetails>\n        </div>;\n    }\n}\n\n\n;","import React, { Component } from 'react';\nimport { ListElement } from '../add_customer_account/showCustomerAccounts';\nimport { BillDisplay } from './bill_display';\nimport { numbToLetters } from '../useful_functions/numbToLetters';\nimport { billServerService } from '../server_classes/serverData';\nimport { AccountDetails } from '../add_customer_account/accountDetails';\nimport { ListElementSelector } from '../add_customer_account/ListElementSelector';\nimport { TICKETS_PATH } from '../server_classes/SERVER_CONST';\nimport { ServerService } from '../server_classes/ServerService';\n\n\nexport class BillMaker extends Component {\n    VALIDATE_BILL = 'Validate bill';\n    VALIDATION_IN_PROGRESS = 'En cours';\n    VALIDATION_DONE = 'Validation effectuée';\n    VALIDATION_ERROR = 'Erreur lors de la validation';\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            accountName: '',\n            accountSelected: '',\n            ticketsSelected: [],\n            keyToResearch: '',\n            valueToResearch: '',\n            selected: [],\n            multiChoice: this.props.multiChoice,\n            billNumber: '',\n            commandNumber: '',\n            remarks: '',\n            isValidateBillButtonDisabled: false,\n            validateButtonMessage: this.VALIDATE_BILL,\n            dateToShow: new Date().getTime(),\n            billTotalMoneyNumbers: {\n                totalToPay: 0,\n                fees: 0,\n                discount: 0,\n                TVA: 0,\n                netToPay: 0,\n                netToPayInLetters: numbToLetters(0),\n            },\n            billToValidate: {},\n            billCreationStage: 0, //0: selectionner les comptes pour les états, 1: choisir compte de facturation, 2: choisir type de facturation (bilan, fees), 3: choisir dates\n        };\n    }\n\n\n    onAccountSelected(accountSelected) {\n        console.log('accountSelected', accountSelected);\n        this.setState({\n            accountSelected: accountSelected,\n            ticketsSelected: [],\n        });\n        this.setBillCreationStage(1);\n        ServerService.getFromServer(TICKETS_PATH, {\n            customerId: accountSelected._id,\n            billed: {$exists: false},\n            canceled: {$exists: false}\n        })\n                     .then(x => console.log(x));\n    }\n\n    unselectAccount() {\n        this.setBillCreationStage(0);\n        this.setState({\n            accountSelected: '',\n        });\n    }\n\n    setBillCreationStage(value) {\n        this.setState({\n            billCreationStage: value,\n        });\n    }\n\n    filterFunction(x, self) {\n        return x['checked'] === true\n            && x['customerId'] === self.state.accountSelected['_id']\n            && !x['canceled']\n            && !Object.keys(x).includes('billed');\n    }\n\n    onTicketSelected(ticketsSelected) {\n        console.log('ticketsSelected', ticketsSelected);\n\n        let totalToPay = ticketsSelected.reduce((sum, current) => sum + parseInt(current[this.getValueToBill()], 10), 0);\n        let fees = 0;\n        let discount = 0;\n        let TVA = 0;\n        let netToPay = totalToPay + fees + discount + TVA;\n        let billTotalMoneyNumbers = {\n            totalToPay: totalToPay,\n            fees: 0,\n            discount: 0,\n            TVA: 0,\n            netToPay: totalToPay + fees + discount + TVA,\n            netToPayInLetters: numbToLetters(netToPay),\n        };\n        billServerService.getNextBillNumber().then(billNumber => this.setState({\n            billNumber: billNumber,\n        }));\n        this.setState({\n            ticketsSelected: ticketsSelected,\n            billTotalMoneyNumbers: billTotalMoneyNumbers,\n            isValidateBillButtonDisabled: false,\n            validateButtonMessage: this.VALIDATE_BILL,\n        });\n        this.setBillCreationStage(2);\n    }\n\n    handleInputChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n        });\n    }\n\n    getValueToBill() {\n        return this.state.accountSelected['with FS'] ? 'total' : 'priceTTC';\n    }\n\n    generateBill() {\n        let billToInsert = {\n            tickets: this.state.ticketsSelected.map(ticket => [ticket['_id'], parseInt(ticket[this.getValueToBill()], 10)], this.state.accountSelected['with FS']),\n            customerAccount: this.state.accountSelected['_id'],\n            billNumber: this.state.billNumber,\n            commandNumber: this.state.commandNumber,\n            totalBilled: this.state.billTotalMoneyNumbers.netToPay,\n            remarks: this.state.remarks,\n            creationDate: new Date().getTime(),\n        };\n\n        this.insertBillToDatabase(billToInsert, this);\n    }\n\n    insertBillToDatabase(billToInsert, self) {\n        console.log(billToInsert);\n        this.setState({\n            isValidateBillButtonDisabled: true,\n            validateButtonMessage: this.VALIDATION_IN_PROGRESS,\n        });\n\n        billServerService.insertBill(billToInsert)\n                         .then(function (response) {\n                             console.log(response);\n                             self.setState({\n                                 validateButtonMessage: self.VALIDATION_DONE,\n                                 dateToShow: billToInsert.creationDate,\n                             });\n                             response['ticketsUpdated'].map(ticket => self.props.updateTicket(ticket));\n                         }).catch(function (error) {\n            self.setState({\n                validateButtonMessage: self.VALIDATION_ERROR,\n                dateToShow: billToInsert.creationDate,\n            });\n            console.log(error);\n        });\n    }\n\n    render() {\n        let dataToShow = this.props.allTickets.filter(x => this.filterFunction(x, this));\n\n\n        return <div className=\"flex-container flex-direction-column\">\n            <div className=\"flex-container flex-direction-column margin-bottom-20px \">\n                <div className=\"margin-left-right-auto margin-bottom-20px\">\n                    <a onClick={() => this.unselectAccount()}\n                       style={{margin: '10px', fontWeight: 700}}>Choisir compte</a>\n                    <ListElementSelector onClick={x => console.log(x)}\n                                         onValid={accountSelected => {\n                                             this.onAccountSelected(accountSelected);\n                                         }}\n                                         sortBy='name'\n                                         data={this.props.allAccount}\n                                         dataKeysToShow={['name', 'customer reference']}\n                                         filterPossibilities={['name', 'customer reference']}\n                                         multiChoice={false}\n                                         className={this.state.billCreationStage === 0 ? '' : 'displayNone'}\n                    />\n                    <AccountDetails accountToShow={this.state.accountSelected}\n                                    className={this.state.billCreationStage > 0 ? '' : 'displayNone'}/>\n\n                </div>\n\n                <div\n                    className={'margin-left-right-auto margin-bottom-20px ' + (this.state.accountSelected ? '' : 'displayNone')}>\n                    <a onClick={() => this.setBillCreationStage(1)}\n                       style={{margin: '10px', fontWeight: 700}}>Selectionner billets</a>\n                    <ListElementSelector onClick={x => console.log(x)}\n                                         onValid={x => {\n                                             this.onTicketSelected(x);\n                                         }}\n                                         sortBy={['name', 'ticketNumber']}\n                                         data={dataToShow}\n                                         dataKeysToShow={['ticketNumber', 'date', 'name', 'total']}\n                                         filterPossibilities={['ticketNumber', 'name']}\n                                         multiChoice={true}\n                                         className={this.state.billCreationStage === 1 ? '' : 'displayNone'}\n                    />\n                    <ListElement dataToRender={this.state.ticketsSelected}\n                                 onElementClick={(element) => console.log(element)}\n                                 dataKeysToShow={['ticketNumber', 'date', 'name', 'priceHT', 'priceTTC', 'fees', 'total']}\n                                 className={this.state.billCreationStage > 1 ? '' : 'displayNone'}\n                    />\n                </div>\n\n\n            </div>\n\n            <div className=\"flex-container padding-20px margin-20-px\">\n                <div>\n\n                    <div\n                        className={'margin-left-right-auto position-sticky text-left ' + (this.state.ticketsSelected.length > 0 ? '' : 'displayNone')}>\n                        <div>\n                            <label>Facture n° : </label>\n                            <input name='billNumber' value={this.state.billNumber}\n                                   onChange={(e) => this.handleInputChange(e)}/>\n                        </div>\n                        <div>\n                            <label>Bon de commande : </label>\n                            <input name='commandNumber' onChange={(e) => this.handleInputChange(e)}/>\n                        </div>\n                        <div>\n                            <label className=\"align-top\">Remarques : </label>\n                            <textarea id=\"remark-field-bill-maker\" name='remarks'\n                                      onChange={(e) => this.handleInputChange(e)}/>\n                        </div>\n\n                        <button className={this.state.ticketsSelected.length > 0 ? '' : 'displayNone '}\n                                onClick={() => this.generateBill()}\n                                disabled={this.state.isValidateBillButtonDisabled}>\n                            {this.state.validateButtonMessage}\n                        </button>\n                    </div>\n\n                </div>\n\n                <BillDisplay printable={false}\n                             accountSelected={this.state.accountSelected}\n                             ticketsSelected={this.state.ticketsSelected}\n                             dateToShow={this.state.dateToShow}\n                             billNumber={this.state.billNumber}\n                             commandNumber={this.state.commandNumber}\n                             remarks={this.state.remarks}\n                             valueToBill={this.state.accountSelected['with FS'] ? 'total' : 'priceTTC'}\n                             className=\"flex-1-1\"\n                />\n            </div>\n\n        </div>;\n    }\n}\n","import React, { Component } from 'react';\nimport './bill_display.css'\nimport { numbToLetters } from \"../useful_functions/numbToLetters\";\nimport { ListElementSelector } from \"../add_customer_account/ListElementSelector\";\nimport { BillDisplay } from \"./bill_display\";\nimport { billServerService } from \"../server_classes/serverData\";\nimport cloneDeep from 'lodash/cloneDeep';\nimport { StatesByDate } from \"../states_by_date/states_by_date\";\n\n\nexport class BillViewer extends Component {\n    DELETE_BILL = 'Supprimer facture';\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            billToShow: {},\n            ticketsToShow: [],\n            accountToShow: {},\n            allBills: [],\n            dateToShow: '',\n            isDeleteBillButtonDisabled: false,\n            billTotalMoneyNumbers: {\n                totalToPay: 0,\n                fees: 0,\n                discount: 0,\n                TVA: 0,\n                netToPay: 0,\n                netToPayInLetters: numbToLetters(0),\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.getAllBills(this);\n    }\n\n    getValueToBill(accountToShow) {\n        return accountToShow['with FS'] ? 'total' : 'priceTTC'\n    }\n\n    getAllBills(self) {\n        setTimeout(() =>billServerService.getAllBills()\n            .then(function (response) {\n                self.setState({\n                    allBills: response\n                });\n            }), 100);\n    }\n\n    deleteBill(billToShow, self) {\n        self.setState({\n            isDeleteBillButtonDisabled: true,\n        });\n        billServerService.cancelBill(billToShow._id).then(function (response) {\n            console.log(response);\n            let newAllBills = cloneDeep(self.state.allBills);\n            newAllBills.splice(self.state.allBills.findIndex(x => x._id === billToShow._id), 1);\n            self.setState({\n                billToShow: {},\n                ticketsToShow: [],\n                accountToShow: {},\n                isDeleteBillButtonDisabled: false,\n                allBills: newAllBills\n            });\n            response['ticketsUpdated'].map(ticket => self.props.updateTicket(ticket));\n        }).catch(function (error) {\n            self.setState({\n                isDeleteBillButtonDisabled: false,\n            });\n            console.log(\"petite erreur l'ami, ressaie\", error);\n        });\n    }\n\n\n    handleClickOnBillToShow(billToShow) {\n        console.log(billToShow);\n        let ticketsToShow = this.props.allTickets.filter(\n            ticket => billToShow.tickets.reduce(\n                (finalBool, billToShowSubTickets) => finalBool || billToShowSubTickets.includes(ticket._id), false\n            )\n        ).sort((a, b) => StatesByDate.sortAlphabatically(a.date + a.ticketNumber.substring(4), b.date + b.ticketNumber.substring(4)));\n        let accountToShow = this.props.allAccount.filter(account => account._id === billToShow.customerAccount)[0];\n\n        let totalToPay = ticketsToShow.reduce((sum, current) => sum + parseInt(current[this.getValueToBill(accountToShow)], 10), 0);\n        let fees = 0;\n        let discount = 0;\n        let TVA = 0;\n        let netToPay = totalToPay + fees + discount + TVA;\n        let billTotalMoneyNumbers = {\n            totalToPay: totalToPay,\n            fees: 0,\n            discount: 0,\n            TVA: 0,\n            netToPay: totalToPay + fees + discount + TVA,\n            netToPayInLetters: numbToLetters(netToPay),\n        };\n        this.setState({\n            billToShow: billToShow,\n            ticketsToShow: ticketsToShow,\n            accountToShow: accountToShow,\n            billTotalMoneyNumbers: billTotalMoneyNumbers,\n            dateToShow: billToShow.creationDate,\n        });\n    }\n\n    getTicketsFromBill(bill) {\n        return this.props.allTickets.filter(\n            ticket => bill.tickets.reduce(\n                (finalBool, billToShowSubTickets) => finalBool || billToShowSubTickets.includes(ticket._id), false\n            )\n        );\n    }\n\n    getAccountFromBill(bill) {\n        return this.props.allAccount.find(account => account._id === bill.customerAccount);\n    }\n\n    addDataToBill(bill) {\n        if (!bill) return;\n        let ticketsFromBill = this.getTicketsFromBill(bill);\n        let passengerTickets = ticketsFromBill.reduce((finalValue, currentTicket) => finalValue + currentTicket.name + ' ', '');\n        let accountFromBill = this.getAccountFromBill(bill);\n        return {\n            accountName: accountFromBill.name,\n            billNumber: bill.billNumber,\n            passengerName: passengerTickets,\n            passengerNumber: ticketsFromBill.length,\n            passengerValueToShow: ticketsFromBill.length.toString() + ' voyageurs',\n            bill: bill,\n            canceled: bill.canceled ? 'Annulée' : ''\n        }\n    }\n\n    render() {\n        console.log('allBills length', this.state.allBills.length);\n        let dataToShow = this.state.allBills.map(x => this.addDataToBill(x));\n\n        return <div className=\" margin-left-right-auto flex-container flex-direction-column\">\n\n            Liste factures :\n            <ListElementSelector\n                onValid={(billToShow) => this.handleClickOnBillToShow(billToShow.bill)}\n                data={dataToShow}\n                dataKeysToShow={x => [\"accountName\", \"billNumber\"].concat(x.passengerNumber > 4 ? ['passengerValueToShow'] : [\"passengerName\"]).concat([\"canceled\"])}\n                filterPossibilities={[\"accountName\", \"billNumber\", \"passengerName\"]}\n                sortBy={['accountName', 'billNumber']}\n                multiChoice={false}/>\n\n            {/*<ListElement dataToRender={dataToShow}*/}\n            {/*onElementClick={(billToShow) => this.handleClickOnBillToShow(billToShow.bill)}*/}\n            {/*dataKeysToShow={[\"accountName\", \"billNumber\", \"passengerName\"]}*/}\n            {/*dataAlreadySelected={[]}*/}\n            {/*/>*/}\n\n            <BillDisplay printable={true}\n                         accountSelected={this.state.accountToShow}\n                         ticketsSelected={this.state.ticketsToShow}\n                         dateToShow={this.state.dateToShow}\n                         billNumber={this.state.billToShow.billNumber}\n                         commandNumber={this.state.billToShow.commandNumber}\n                         remarks={this.state.billToShow.remarks}\n                         valueToBill={this.state.billToShow.valueBilled ? this.state.billToShow.valueBilled : this.state.accountToShow['with FS'] ? 'total' : 'priceTTC'}\n                         showDetailsData={true}\n            />\n            <button className={this.state.ticketsToShow.length > 0 ? '' : 'displayNone'}\n                    onClick={() => this.deleteBill(this.state.billToShow, this)}\n                    disabled={this.state.isDeleteBillButtonDisabled}>\n                {this.DELETE_BILL}\n            </button>\n        </div>\n    }\n}","import React, { Component } from 'react';\nimport { ListElement} from \"../add_customer_account/showCustomerAccounts\";\nimport { numbToLetters } from \"../useful_functions/numbToLetters\";\nimport { billServerService } from \"../server_classes/serverData\";\nimport { BillDisplay } from \"../bill_maker/bill_display\";\nimport { ListElementSelector } from \"../add_customer_account/ListElementSelector\";\n\n\nexport class AccountStatement extends Component {\n    VALIDATE_BILL = \"Validate bill\";\n    VALIDATION_IN_PROGRESS = \"En cours\";\n    VALIDATION_DONE = 'Validation effectuée';\n    VALIDATION_ERROR = 'Erreur lors de la validation';\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            accountName: '',\n            accountsSelected: [],\n            accountToBill: '',\n            ticketsSelected: [],\n            keyToResearch: '',\n            valueToResearch: '',\n            selected: [],\n            multiChoice: this.props.multiChoice,\n            billNumber: '',\n            commandNumber: '',\n            remarks: '',\n            isValidateBillButtonDisabled: true,\n            validateButtonMessage: this.VALIDATE_BILL,\n            dateToShow: '',\n            billTotalMoneyNumbers: {\n                totalToPay: 0,\n                fees: 0,\n                discount: 0,\n                TVA: 0,\n                netToPay: 0,\n                netToPayInLetters: numbToLetters(0),\n            },\n            billToValidate: {},\n            billCreationStage: 0,\n            valueToBill: 'fees',\n            dateBeginFilterInputValue: '000000',\n            dateEndFilterInputValue: '999999'\n        }\n    }\n\n\n    onAccountSelected(accountsSelected) {\n        console.log(\"accountToBill ad\", accountsSelected, Array.isArray(accountsSelected), accountsSelected.length);\n        this.setState({\n            accountsSelected: accountsSelected,\n            ticketsSelected: [],\n        });\n        this.setBillCreationStage(1);\n        if (accountsSelected.length === 1) {\n            setTimeout(\n                () => {\n                    this.onAccountToBillSelected(accountsSelected[0])\n                }\n                , 100)\n        }\n        billServerService.getNextBillNumber().then(billNumber => this.setState({\n            billNumber: billNumber,\n            isValidateBillButtonDisabled: false,\n            validateButtonMessage: this.VALIDATE_BILL\n        }));\n    }\n\n    onAccountToBillSelected(accountToBillSelected) {\n        this.setState({\n            accountToBill: accountToBillSelected,\n        });\n        this.setBillCreationStage(2);\n        let ticketSelected = this.props.allTickets.filter(x => this.stateAccountFilterFunction(x, this));\n        this.onTicketSelected(ticketSelected);\n    }\n\n    unselectAccount() {\n        this.setBillCreationStage(0);\n        this.setState({\n            accountToBill: ''\n        })\n    }\n\n    setBillCreationStage(value) {\n        this.setState({\n            billCreationStage: value\n        })\n    }\n\n    stateAccountFilterFunction(x, self) {\n        let accountSelectedIds = self.state.accountsSelected.map(x => x['_id']);\n        // console.log(accountSelectedIds, x['customerId'], x['customerId'] in accountSelectedIds);\n        return x['checked'] === true &&\n            accountSelectedIds.includes(x['customerId']) &&\n            x['date'] >= self.state.dateBeginFilterInputValue &&\n            x['date'] <= self.state.dateEndFilterInputValue &&\n            !x['canceled'];\n    }\n\n    filterFunction(x, self) {\n        return x['checked'] === true &&\n            x['customerId'] === self.state.accountToBill['_id'] &&\n            !x['canceled'] &&\n            !Object.keys(x).includes('billed');\n    }\n\n    onTicketSelected(ticketsSelected) {\n        console.log(\"ticketsSelected\", ticketsSelected);\n\n        let totalToPay = ticketsSelected.reduce((sum, current) => sum + parseInt(current[this.getValueToBill()], 10), 0);\n        let fees = 0;\n        let discount = 0;\n        let TVA = 0;\n        let netToPay = totalToPay + fees + discount + TVA;\n        let billTotalMoneyNumbers = {\n            totalToPay: totalToPay,\n            fees: 0,\n            discount: 0,\n            TVA: 0,\n            netToPay: totalToPay + fees + discount + TVA,\n            netToPayInLetters: numbToLetters(netToPay),\n        };\n        billServerService.getNextBillNumber().then(billNumber => this.setState({\n            billNumber: billNumber\n        }));\n        this.setState({\n            ticketsSelected: ticketsSelected,\n            billTotalMoneyNumbers: billTotalMoneyNumbers,\n            isValidateBillButtonDisabled: false,\n            validateButtonMessage: this.VALIDATE_BILL\n        });\n        this.setBillCreationStage(2)\n    }\n\n    handleInputChange(event) {\n        let target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n\n        this.setState({\n            [event.target.name]: value,\n        });\n    }\n\n    getValueToBill() {\n        if (this.state.valueToBill) {\n            return this.state.valueToBill;\n        }\n        return this.state.accountToBill['with FS'] ? 'total' : 'priceTTC'\n    }\n\n    setValueToBill(valueToBill) {\n        this.setState({\n            valueToBill: valueToBill\n        })\n    }\n\n    generateBill(ticketsToBill, netToPay) {\n\n        let billToInsert = {\n            tickets: ticketsToBill.map(ticket => [ticket['_id'], parseInt(ticket[this.getValueToBill()], 10)], this.state.valueToBill),\n            customerAccount: this.state.accountToBill['_id'],\n            billNumber: this.state.billNumber,\n            commandNumber: this.state.commandNumber,\n            totalBilled: netToPay,\n            remarks: this.state.remarks,\n            valueBilled: this.getValueToBill(),\n            creationDate: new Date().getTime(),\n        };\n\n        this.insertBillToDatabase(billToInsert, this);\n    }\n\n    handleDateFilterInputChange(event) {\n        // let valueToSet = event.target.value;\n        let dateObtained = event.target.value.split('-');\n        dateObtained[0] = dateObtained[0].substring(2);\n        let valueToSet = dateObtained.join('');\n        console.log(valueToSet);\n        this.setState({\n            [event.target.name]: valueToSet\n        })\n        // this.onTicketSelected(this.getTicketFiltered());\n    }\n\n    insertBillToDatabase(billToInsert, self) {\n        console.log(billToInsert);\n        this.setState({\n            isValidateBillButtonDisabled: true,\n            validateButtonMessage: this.VALIDATION_IN_PROGRESS\n        });\n\n        billServerService.insertBill(billToInsert)\n            .then(function (response) {\n                console.log(response);\n                self.setState({\n                    validateButtonMessage: self.VALIDATION_DONE,\n                    dateToShow: billToInsert.creationDate\n                });\n                response['ticketsUpdated'].map(ticket => self.props.updateTicket(ticket));\n            }).catch(function (error) {\n            self.setState({\n                validateButtonMessage: self.VALIDATION_ERROR,\n                dateToShow: billToInsert.creationDate\n            });\n            console.log(error)\n        })\n    }\n\n    getTicketFiltered() {\n        return this.props.allTickets.filter(x => this.stateAccountFilterFunction(x, this));\n\n    }\n\n    render() {\n        let dataToShow = this.props.allTickets.filter(x => this.filterFunction(x, this));\n        let ticketsToBill = this.getTicketFiltered();\n\n        let totalToPay = ticketsToBill.reduce((sum, current) => sum + parseInt(current[this.getValueToBill()], 10), 0);\n        let fees = 0;\n        let discount = 0;\n        let TVA = 0;\n        let netToPay = totalToPay + fees + discount + TVA;\n        let billTotalMoneyNumbers = {\n            totalToPay: totalToPay,\n            fees: 0,\n            discount: 0,\n            TVA: 0,\n            netToPay: totalToPay + fees + discount + TVA,\n            netToPayInLetters: numbToLetters(netToPay),\n        };\n\n        return <div className=\"flex-container flex-direction-column\">\n            <div className=\"flex-container flex-direction-column margin-bottom-20px \">\n                <div className=\"margin-left-right-auto margin-bottom-20px\">\n                    <div onClick={() => this.unselectAccount()}>Choisir compte</div>\n                    <ListElementSelector onClick={x => console.log(x)}\n                                         onValid={accountSelected => {\n                                             this.onAccountSelected(accountSelected);\n                                         }}\n                                         data={this.props.allAccount}\n                                         dataKeysToShow={['name', 'customer reference']}\n                                         filterPossibilities={['name', 'customer reference']}\n                                         multiChoice={true}\n                                         className={this.state.billCreationStage === 0 ? '' : 'displayNone'}\n                    />\n                    <div className={this.state.billCreationStage === 1 ? '' : 'displayNone'}>\n                        Choisir le compte à facturer\n                        <ListElement dataToRender={this.state.accountsSelected}\n                                     onElementClick={(element) => this.onAccountToBillSelected(element)}\n                                     dataKeysToShow={['name', 'customer reference']}\n\n                        />\n                    </div>\n                    <div className={this.state.billCreationStage > 1 ? '' : 'displayNone'}>\n                        Compte de facturation\n                        <div className=\"text-left margin-bottom-20px\">\n                            <div>{this.state.accountToBill['name']}</div>\n                            <div>{this.state.accountToBill['customer reference']}</div>\n                            <div>{this.state.accountToBill['adress']}</div>\n                            <div>{this.state.accountToBill['city'] + ' - ' + this.state.accountToBill['country']}</div>\n                            <div>{this.state.accountToBill['entire name']}</div>\n                            <div>{\"Avec FS : \" + this.state.accountToBill['with FS']}</div>\n                            <div>{\"Type de paiement : \" + this.state.accountToBill['paiement type']}</div>\n                        </div>\n                        <div className={this.state.accountsSelected.length > 1 ? '' : 'displayNone'}>\n                            Comptes présents dans les etats\n                            <ListElement dataToRender={this.state.accountsSelected}\n                                         onElementClick={(element) => console.log(element)}\n                                         dataKeysToShow={['name', 'customer reference']}\n\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <div\n                    className={'margin-left-right-auto margin-bottom-20px ' + (this.state.accountToBill ? '' : 'displayNone')}>\n                    <div>\n                        <label>Date de début</label>\n                        <input placeholder=\"Jour\" type=\"date\" name=\"dateBeginFilterInputValue\"\n                               onChange={event => this.handleDateFilterInputChange(event)}/>\n                    </div>\n                    <div>\n                        <label>Date de fin</label>\n                        <input placeholder=\"Jour\" type=\"date\" name=\"dateEndFilterInputValue\"\n                               onChange={event => this.handleDateFilterInputChange(event)}/>\n                    </div>\n                    <div>\n                        {[{\n                            textToShow: 'billet normal',\n                            valueToBill: this.state.accountToBill['with FS'] ? 'total' : 'priceTTC'\n                        },\n                            {textToShow: 'frais de service', valueToBill: 'fees'},].map(x =>\n                            <div key={x.textToShow}\n                                 className={this.state.valueToBill === x.valueToBill ? 'bold-text' : ''}\n                                 onClick={() => this.setValueToBill(x.valueToBill)}>\n                                {x.textToShow}\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n\n            </div>\n\n            <div className=\"flex-container padding-20px margin-20-px\">\n                <div>\n\n                    <div\n                        className={'margin-left-right-auto text-left ' + (this.state.ticketsSelected.length > 0 ? '' : 'displayNone')}>\n                        <div>\n                            <label>Facture n° : </label>\n                            <input name='billNumber' value={this.state.billNumber}\n                                   onChange={(e) => this.handleInputChange(e)}/>\n                        </div>\n                        <div>\n                            <label>Bon de commande : </label>\n                            <input name='commandNumber' onChange={(e) => this.handleInputChange(e)}/>\n                        </div>\n                        <div>\n                            <label className=\"align-top\">Remarques : </label>\n                            <textarea id=\"remark-field-bill-maker\" name='remarks'\n                                      onChange={(e) => this.handleInputChange(e)}/>\n                        </div>\n\n                    </div>\n\n                    <button className={this.state.ticketsSelected.length > 0 ? '' : 'displayNone '}\n                            onClick={() => this.generateBill(ticketsToBill,netToPay)}\n                            disabled={this.state.isValidateBillButtonDisabled}>\n                        {this.state.validateButtonMessage}\n                    </button>\n                </div>\n\n                <BillDisplay accountSelected={this.state.accountToBill}\n                             ticketsSelected={ticketsToBill}\n                             dateToShow={this.state.dateToShow}\n                             billNumber={this.state.billNumber}\n                             commandNumber={this.state.commandNumber}\n                             remarks={this.state.remarks}\n                             valueToBill={this.state.valueToBill}\n                    // valueToBill={this.state.accountToBill['with FS'] ? 'total' : 'priceTTC'}\n                             showDetailsData={true}\n                             className=\"flex-1-1\"\n                />\n            </div>\n\n        </div>\n    }\n}\n","import React from 'react';\n\nimport { NavLink, Route } from 'react-router-dom'\n\nimport { TicketValidationComponent } from \"./ticketValidationComponent\";\nimport { BillMaker } from \"../bill_maker/bill_maker_component\";\nimport { BillViewer } from \"../bill_maker/bill_viewer_component\";\nimport { AccountStatement } from \"../account_statement/account_statement_component\";\n\nexport function TicketView(props) {\n\n\n    return <div>\n\n        <Route path=\"/tickets/validate\" render={() =>\n            <TicketValidationComponent\n                allAccount={props.allAccount}\n                allTickets={props.allTickets}\n                updateTicket={(x) => props.updateTicket(x)}\n                addTicket={(ticketToAdd) => props.addTicket(ticketToAdd)}/>\n        }/>\n        <Route path=\"/tickets/bill\" render={() =>\n            <BillMaker\n                allAccount={props.allAccount}\n                allTickets={props.allTickets}\n                updateTicket={(x) => props.updateTicket(x)}\n            />\n        }/>\n        <Route path=\"/tickets/billed\" render={() =>\n            <BillViewer\n                allAccount={props.allAccount}\n                allTickets={props.allTickets}\n                updateTicket={(ticket) => props.updateTicket(ticket)}\n            />\n        }/>\n        <Route path=\"/tickets/fees_bill\" render={() =>\n            <AccountStatement\n                allAccount={props.allAccount}\n                allTickets={props.allTickets}\n                updateTicket={(x) => props.updateTicket(x)}/>\n        }/>\n    </div>\n\n\n}","import React, { Component } from 'react';\nimport { billServerService } from \"../server_classes/serverData\";\n\n\nexport class ImportAIRComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filesToSendAttributes: [],\n            filesToSendRead: [],\n            fileSentResult: '',\n        }\n    }\n\n    componentDidMount() {\n        // billServerService.getAllAirFiles();\n    }\n\n\n    handleFileToSendChange(event) {\n        const target = event.target;\n        this.setState({\n            filesToSendAttributes: Array.from(target.files),\n            filesToSendRead: []\n        });\n        setTimeout(()=> this.readAllFiles(), 100);\n        console.log(Array.from(target.files))\n    }\n\n    addToFileToSend(newFileToAdd) {\n        this.setState({\n            filesToSendRead:this.state.filesToSendRead.concat([newFileToAdd])\n        })\n    }\n\n    readFileAndAddItToFilesToSend(file, self =this) {\n        let fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            self.addToFileToSend({name: file.name, type: 'AIR', data: fileReader.result})\n        };\n        fileReader.readAsBinaryString(file);\n    }\n\n    readAllFiles() {\n        for (let fileToRead of this.state.filesToSendAttributes) {\n            this.readFileAndAddItToFilesToSend(fileToRead, this);\n        }\n    }\n\n    sendAirFiles(self=this) {\n        billServerService.sendAIRFiles(this.state.filesToSendRead).then(response => self.showImportedFiles(response))\n    }\n\n    showImportedFiles(importedFiles) {\n        let importedFilesDiv = importedFiles.map(x=> <div key={x['ticketNumber']}>{x['ticketNumber'] + ' / ' + x['name']}</div>);\n        importedFilesDiv.unshift(<div key=\"summary\">{importedFiles.length + ' tickets importés. Veuillez actualiser la page'}</div>);\n        this.setState({\n            fileSentResult:importedFilesDiv\n        })\n    }\n\n    testAllFilesWereRead() {\n        if (!this.state.filesToSendAttributes.length) return 'Pas de fichier sélectionné';\n        let filesReadNames = this.state.filesToSendRead.map(x=> x.name);\n        for (let fileInitialName of this.state.filesToSendAttributes.map(x=> x.name)){\n            if (!filesReadNames.includes(fileInitialName)){\n                return 'En chargement'\n            }\n        }\n        return <button onClick={()=>this.sendAirFiles()}>Envoyer fichiers</button>\n    }\n\n\n    render() {\n        return <div>\n            <div>Importation des composants</div><br/>\n            <div>Veuillez sélectionner les fichiers à importer et valider</div><br/>\n            <div>\n                <input name=\"filesToUpload[]\" id=\"filesToUpload\" onChange={(e) => this.handleFileToSendChange(e)} type=\"file\" multiple/>\n            </div>\n            <div>{this.testAllFilesWereRead()}</div><br/>\n            <div>{this.state.fileSentResult}</div>\n        </div>\n    }\n\n}","import React, { Component } from 'react';\nimport { billServerService } from \"../server_classes/serverData\";\nimport cloneDeep from 'lodash/cloneDeep';\nimport Dialog from \"@material-ui/core/es/Dialog/Dialog\";\nimport DialogActions from \"@material-ui/core/es/DialogActions/DialogActions\";\nimport Button from \"@material-ui/core/es/Button/Button\";\nimport DialogTitle from \"@material-ui/core/es/DialogTitle/DialogTitle\";\nimport DialogContent from \"@material-ui/core/es/DialogContent/DialogContent\";\nimport DialogContentText from \"@material-ui/core/es/DialogContentText/DialogContentText\";\nimport TextField from \"@material-ui/core/es/TextField/TextField\";\nimport AppBar from \"@material-ui/core/es/AppBar/AppBar\";\nimport Toolbar from \"@material-ui/core/es/Toolbar/Toolbar\";\nimport IconButton from \"@material-ui/core/es/IconButton/IconButton\";\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Icon from \"@material-ui/core/es/Icon/Icon\";\n\n\n\nexport class TestComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filterText: '',\n            resultText: '',\n            openModalValue: true,\n        }\n    }\n\n    componentDidMount() {\n        billServerService.getAllAirFiles();\n    }\n\n\n    handleFilTerTextToSendChange(event) {\n        const target = event.target;\n        this.setState({\n            filterText: target.value\n        });\n    }\n\n    sendFilterTextAndRetrieveDecryptedData(self = this) {\n        billServerService.testAirFileDatas(this.state.filterText).then(x => {\n            x.map(ticket => ticket['_id'] = ticket.ticketNumber);\n            self.setState({\n                resultText: x.map(ticket => {\n                    return <TicketTripDetails ticket={ticket} onClick={() => this.validateTicket(ticket)}\n                                              key={ticket._id}/>\n                })\n            });\n            console.log(x)\n        })\n    }\n\n\n    validateTicket(ticket, self) {\n        let validatedTicket = cloneDeep(ticket);\n        return //Cancelation of replacement there.\n        billServerService.validateTicket(validatedTicket)\n            .then(function (response) {\n                if (response) {\n                    console.log('ticket replaced', response)\n                    // self.updateTicket(validatedTicket);\n                }\n                else {\n                    console.log(\"erreur lors de l'enregistrement...\")\n                    //IL faut que je marque un message en cas d'erreur ....\n                }\n            })\n    }\n\n\n    render() {\n        const  classes  = {\n            appBar: {\n                position: 'relative',\n            },\n            flex: {\n                flex: 1,\n            },\n        };\n\n        const styles = {\n            appBar: {\n                position: 'relative',\n            },\n            flex: {\n                flex: 1,\n            },\n        };\n\n        let DialogComponentTest=withStyles(styles)((props)=>{\n        const {classes}= props;\n        console.log(classes);\n        return <Dialog open={this.state.openModalValue} onClose={() => this.setState({openModalValue: false})}>\n            <AppBar className={classes.appBar}>\n                Ecriture\n                <Toolbar>\n                    <IconButton color=\"inherit\" onClick={this.handleClose} aria-label=\"Close\">\n                        <CloseIcon />\n                        <Icon className={ 'fa fa-plus-circle'}/>\n\n                    </IconButton>\n                    <Typography variant=\"title\" color=\"inherit\" className={classes.flex}>\n                        Sound\n                    </Typography>\n                    <Button color=\"inherit\" onClick={this.handleClose}>\n                        save\n                    </Button>\n                </Toolbar>\n            </AppBar>\n\n\n            <DialogTitle id=\"form-dialog-title\">Subscribe</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    To subscribe to this website, please enter your email address here. We will send\n                    updates occasionally.\n\n\n                </DialogContentText>\n\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Email Address\"\n                    type=\"email\"\n                    fullWidth\n                />\n            </DialogContent>\n            Autre texte\n            <DialogActions>\n                <Button onClick={this.handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={this.handleClose} color=\"primary\">\n                    Subscribe\n                </Button>\n            </DialogActions>\n        </Dialog>})\n\n        return <div>\n            <div>Test Component</div>\n            <div>\n                <input name=\"filterTextValue\" onChange={(e) => this.handleFilTerTextToSendChange(e)} type=\"text\"\n                       multiple/>\n            </div>\n            <br/>\n            <button onClick={() => this.sendFilterTextAndRetrieveDecryptedData()}>Send request</button>\n            <div>{this.state.filterText}</div>\n            <div className=\"flex-centered\">{this.state.resultText}</div>\n            <DialogComponentTest/>\n        </div>\n    }\n\n}\n\n\n\n\nfunction TestModal(props) {\n\n    return <Dialog fullScreen\n                   open={props.open}\n                   onClose={props.onClose} >\n\n        <div>Bananan</div>\n    </Dialog>\n}\n\n\nfunction TicketTripDetails(props) {\n    if (props.ticket) {\n        let tripInDetail = props.ticket.tripsInDetail;\n        let tripInDetailDiv = tripInDetail.map(x => x['name']);\n\n\n        return <div className=\"flex-container-column\" style={{width: '600px'}} onClick={() => props.onClick()}>\n            <div className=\"flex-container\">\n                <span className=\"flex-1-1 flex-centered\">{props.ticket['name']}</span>\n                <span className=\"flex-1-1\"><div className=\"bold-text\">TKT {props.ticket['ticketNumber']}</div>\n                    {props.ticket['trip']}</span>\n                <span className=\"flex-1-1 flex-centered\">{props.ticket['accountName']}</span>\n            </div>\n            <div className=\"flex-container-column flex-centered\">\n                {props.ticket['tripsInDetail'].map((trip, step) => <TripPortionLine\n                    style={{width: '600px', border: '1px solid grey', borderRadius: '5px'}} trip={trip} key={step}/>)}\n            </div>\n        </div>\n    }\n    return <div></div>\n}\n\nfunction handleTime(time) {\n\n    if (time.trim().length === 4) {\n        return time[0] + time[1] + \":\" + time[2] + time[3]\n    }\n    return time\n}\n\n\nfunction handleDateTime(datetime) {\n    if (datetime.trim().length !== 9) {\n        return datetime\n    }\n    return datetime[0] + datetime[1] + ' ' + datetime[2] + datetime[3] + datetime[4] + ' | ' + handleTime(datetime.slice(5));\n}\n\nfunction TripPortionLine(props) {\n    if (props.trip) {\n        let trip = props.trip\n        return <div className=\"\" style={props.style}>\n            <span className={'padding-5px ' + (trip.tripType === 'O' ? 'displayNone' : '')}>\n                Correspondance</span>\n            <div className=\"flex-container\">\n                <div className=\"padding-5px flex-1-1\">\n                    <div>{trip.departureCity + ' (' + trip.departureAirportCode + ')'}</div>\n                    <div>\n                        <i className=\"fas fa-plane-departure padding-5px\"/>\n                        {handleDateTime(trip.departureDayAndTime)}\n                    </div>\n                </div>\n                <div className=\"flex-centered\">\n\n                    <div><i className=\"far fa-clock padding-5px\"></i>{handleTime(trip.tripLength)}</div>\n                </div>\n                <div className=\"padding-5px flex-1-1\">\n                    <div>{trip.arrivalCity + ' (' + trip.arrivalAirportCode + ')'}</div>\n                    <div>\n                        <i className=\"fas fa-plane-arrival padding-5px\"></i>\n                        {handleDateTime(trip.arrivalDayAndTime)}\n                    </div>\n                </div>\n            </div>\n            <div className=\"flex-container\">\n                <span className=\"padding-5px flex-1-1\"><div>Max weight  </div>\n                    {trip.luggageNumber}</span>\n                <span className=\"padding-5px flex-1-1\"><div>Flight number </div>\n                    {trip.flightNumber}</span>\n                <span className=\"padding-5px flex-1-1\"><div>Company </div>\n                    {trip.company}</span>\n\n            </div>\n        </div>\n    }\n    return <div>No trip data</div>\n}\n\n\nlet a = {\n    arrivalAirportCode: \"NDJ\",\n    arrivalCity: \"N'DJAMENA\",\n    arrivalDayAndTime: \"27AUG1910\",\n    checkinTimeMax: \"\",\n    company: \"KP\",\n    departureAirportCode: \"DLA\",\n    departureCity: \"DOUALA\",\n    departureDayAndTime: \"27AUG1655\",\n    flightNumber: \"0038E\",\n    luggageNumber: \"30K\",\n    ticketNumber: \"032-2622161637\",\n    tripLength: \"0215 \",\n    tripType: \"O\",\n}\n\n\n","import React, { Component } from 'react';\nimport { billServerService } from \"../server_classes/serverData\";\nimport { numbToLetters } from \"./numbToLetters\";\n\n\nexport class BOComponent extends Component {\n    constructor(props) {\n        super();\n    }\n\n    render() {\n        let dataToPrint= [\n            {\n                customer: 'BAD YAO',\n                amount: '2553011',\n                date: '14/09/2018',\n                dateEnd: '10/10/2018',\n            },\n            {\n                customer: 'BAD YAO',\n                amount: '317640',\n                date: '14/09/2018',\n                dateEnd: '31/10/2018',\n            },\n            {\n                customer: 'BAD GABON',\n                amount: '248325',\n                date: '14/09/2018',\n                dateEnd: '17/10/2018',\n            },\n            {\n                customer: 'UNESCO',\n                amount: '1495950',\n                date: '14/09/2018',\n                dateEnd: '23/10/2018',\n            },\n            {\n                customer: 'BAD BANGUI',\n                amount: '477604',\n                date: '14/09/2018',\n                dateEnd: '07/11/2018',\n            },\n            {\n                customer: 'BAD BANGUI',\n                amount: '171300',\n                date: '14/09/2018',\n                dateEnd: '05/11/2018',\n            },\n            {\n                customer: 'BAD ABIDJAN',\n                amount: '1312781',\n                date: '14/09/2018',\n                dateEnd: '11/10/2018',\n            },\n        ];\n        let numberToShow = 6;\n\n        return <div>\n            {/*<BOSheet boToShow={dataToPrint[numberToShow]}/>*/}\n            {/*Si pas de boToShow, affiche les données entrées*/}\n            <BOSheet/>\n        </div>\n    }\n\n}\n\n\nclass BOSheet extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            date: new Date().toLocaleDateString(),\n            dateX: 0,\n            dateY: 0,\n            date2X: 0,\n            date2Y: 0,\n            dateEnd: new Date().toLocaleDateString(),\n            dateEndX: 0,\n            dateEndY: 0,\n            customer: '',\n            customerX: 0,\n            customerY: 0,\n            adress: '',\n            amount: 0,\n            amountX: 0,\n            amountY: 0,\n            amountInLetter: '',\n            amountInLetterX: 0,\n            amountInLetterY: 0,\n            imgContainer: '',\n            timeOutToPositionBO: '',\n        }\n        this.imgDiv = React.createRef();\n    }\n\n    componentDidMount() {\n        this.setState({imgContainer: <img ref={this.imgDiv} src='/static/Fiche BO Vierge.jpg' style={{width: '1000px'}} onClick={e => {\n            let rect = e.target.getBoundingClientRect();\n            this.setPosition(rect);\n        }}/>});\n        let timeOutToPositionBO =setTimeout(()=>this.imgDiv.current.click(), 1000);\n        this.setState({timeOutToPositionBO:timeOutToPositionBO})\n    }\n\n    onInputChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n        if (e.target.name === 'amount') {\n            this.setState({amountInLetter: numbToLetters(parseInt(e.target.value))})\n        }\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.state.timeOutToPositionBO)\n        // console.log('unmounting');\n    }\n\n    setPosition(rect) {\n        this.setState({\n            dateX: (rect.right - rect.left) / 2 - 20,\n            dateY: rect.top + window.scrollY + 104,\n            date2X: (rect.right - rect.left) / 2 - 140,\n            date2Y: rect.top + window.scrollY + 150,\n            dateEndX: (rect.right - rect.left) / 2 - 120,\n            dateEndY: rect.top + window.scrollY + 170,\n            amountX: (rect.left + rect.right)* 3 / 4,\n            amountY: rect.top + window.scrollY + 168,\n            amountInLetterX: (rect.left + rect.right) / 2 - 70,\n            amountInLetterY: rect.top + window.scrollY + 330,\n            customerX: (rect.left + rect.right) / 2 + 30,\n            customerY: rect.top + window.scrollY + 363,\n        });\n    }\n\n    render() {\n        console.log(this.state.imgContainer);\n        console.log(this.imgDiv);\n        let boToShow = this.props.boToShow ? this.props.boToShow : {\n            customer: this.state.customer,\n            amount: this.state.amount,\n            date: this.state.date,\n            dateEnd: this.state.dateEnd,\n        };\n\n\n        return <div>\n            <div>\n                <input value={this.state.date} onChange={(e) => this.onInputChange(e)} name='date' placeholder=\"date\"/>\n                <input value={this.state.dateX} onChange={(e) => this.onInputChange(e)} name='dateX'\n                       placeholder=\"dateX\"/>\n                <input value={this.state.dateY} onChange={(e) => this.onInputChange(e)} name='dateY'\n                       placeholder=\"dateY\"/>\n            </div>\n            <div>\n                <input value={this.state.dateEnd} onChange={(e) => this.onInputChange(e)} name='dateEnd' placeholder=\"dateEnd\"/>\n                <input value={this.state.dateEndX} onChange={(e) => this.onInputChange(e)} name='dateEndX'\n                       placeholder=\"dateEndX\"/>\n                <input value={this.state.dateEndY} onChange={(e) => this.onInputChange(e)} name='dateEndY'\n                       placeholder=\"dateEndY\"/>\n            </div>\n            <div>\n                <input value={this.state.amount} onChange={(e) => this.onInputChange(e)} name='amount'\n                       placeholder=\"amount\"/>\n                <input value={this.state.amountX} onChange={(e) => this.onInputChange(e)} name='amountX'\n                       placeholder=\"amountX\"/>\n                <input value={this.state.amountY} onChange={(e) => this.onInputChange(e)} name='amountY'\n                       placeholder=\"amountY\"/>\n            </div>\n            <div>\n                <input value={this.state.amountInLetter} onChange={(e) => this.onInputChange(e)} name='amountInLetter'\n                       placeholder=\"amountInLetter\"/>\n                <input value={this.state.amountInLetterX} onChange={(e) => this.onInputChange(e)} name='amountInLetterX'\n                       placeholder=\"amountInLetterX\"/>\n                <input value={this.state.amountInLetterY} onChange={(e) => this.onInputChange(e)} name='amountInLetterY'\n                       placeholder=\"amountInLetterY\"/>\n            </div>\n            <div>\n                <input value={this.state.customer} onChange={(e) => this.onInputChange(e)} name='customer'\n                       placeholder=\"client\"/>\n                <input value={this.state.customerX} onChange={(e) => this.onInputChange(e)} name='customerX'\n                       placeholder=\"clientX\"/>\n                <input value={this.state.customerY} onChange={(e) => this.onInputChange(e)} name='customerY'\n                       placeholder=\"clientY\"/>\n            </div>\n            <input value={this.state.amount} onChange={(e) => this.onInputChange(e)} name='amount'\n                   placeholder=\"amount\"/>\n            <input value={this.state.date} onChange={(e) => this.onInputChange(e)} name='date' placeholder=\"date\"/>\n            <div className=\" printable flex-container-column boPaperToPrint\">\n                {this.state.imgContainer}\n                <div style={{position: 'absolute', left: parseInt(this.state.dateX), top: parseInt(this.state.dateY)}}>\n                    {boToShow.date}\n                </div>\n                <div style={{position: 'absolute', left: parseInt(this.state.date2X), top: parseInt(this.state.date2Y)}}>\n                    {'Du ' + boToShow.date}\n                </div>\n                <div style={{position: 'absolute', left: parseInt(this.state.dateEndX), top: parseInt(this.state.dateEndY)}}>\n                    {boToShow.dateEnd}\n                </div>\n                <div style={{\n                    position: 'absolute',\n                    left: parseInt(this.state.amountX),\n                    top: parseInt(this.state.amountY)\n                }}>\n                    {'# ' + parseInt(boToShow.amount).toLocaleString() + ' #'}\n                </div>\n                <div style={{\n                    position: 'absolute',\n                    left: parseInt(this.state.amountInLetterX),\n                    top: parseInt(this.state.amountInLetterY),\n                    fontSize: '16px',\n                    maxWidth: '535px',\n                }}>\n                    {numbToLetters(parseInt(boToShow.amount))}\n                </div>\n                <div style={{\n                    position: 'absolute',\n                    left: parseInt(this.state.customerX),\n                    top: parseInt(this.state.customerY),\n                }}>\n                    {boToShow.customer}\n                </div>\n            </div>\n        </div>\n    }\n\n}\n\n\n\n","import React, { Component } from 'react';\nimport { SuperDataTable } from \"./superDataTable\";\n\n\nexport class StatesComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataToShow: []\n        }\n    }\n\n    showButtonToChangeDataToShow() {\n        let arrayOfData = [\n            {name: 'Tickets', data: this.props.allTickets},\n            {name: 'Comptes', data: this.props.allAccount},\n            {name: 'Avoirs', data: this.props.allTickets},\n        ]\n        return <div style={{margin: '10px'}}>\n            {arrayOfData.map(x=> <button key={x.name} onClick={()=>this.setState({dataToShow:x.data})}>{x.name}</button>)}\n            </div>\n    }\n\n    render() {\n\n        return <div>\n            {this.showButtonToChangeDataToShow()}\n            <SuperDataTable\n                // allAccount={this.state.allAccount}\n                // dataToShow={this.state.allTickets}\n                dataToShow={this.state.dataToShow}\n            />\n        </div>\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport MenuIcon from '@material-ui/icons/Menu';\n\n\nconst styles = {\n    root: {\n        flexGrow: 1,\n        position: 'fixed',\n        top:'0px',\n        height: '64px',\n        width: '100%',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginLeft: -12,\n        marginRight: 20,\n    }\n};\n\nfunction AirReaderAppBar(props) {\n    const {classes} = props;\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    {/*<IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">*/}\n                    {/*<MenuIcon/>*/}\n                    {/*</IconButton>*/}\n\n                    <div className=\"flex-container\">\n                        {props.statusDiv}\n                        <div className=\"flex-container selectViewBar white flex-3-1\">\n\n                        </div>\n                        <div className=\"flex-1-1\">\n                            {props.logInDiv}\n                        </div>\n\n                        {/*<Button color=\"inherit\">Login</Button>*/}\n                    </div>\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n}\n\nAirReaderAppBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AirReaderAppBar);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {ServerService } from \"../server_classes/ServerService\";\n\nexport default class ConnexionDialog extends React.Component {\n    state = {\n        username: '',\n        password: '',\n        connexionRunning: false,\n    };\n\n\n    handleInputChange(event) {\n        let target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        this.setState({\n            [event.target.name]: value,\n        });\n    }\n\n    setConnexionRunning(bool) {\n        this.setState({connexionRunning: bool})\n    }\n\n    connectAndRetrieveToken(self = this) {\n        let userCredentials = {\n            name: this.state.username,\n            password: this.state.password\n        };\n        this.setConnexionRunning(true);\n        ServerService.sendDataToRetrieveToken(userCredentials).then(token => {\n            console.log('token retrieved');\n            self.setConnexionRunning(false);\n            if (!token) return;\n            self.setState({password: ''});\n        }, error => {\n            self.setConnexionRunning(false);\n        })\n    }\n\n    onEnterClick(event) {\n        if (event.key === 'Enter') {\n            this.connectAndRetrieveToken()\n        }\n    }\n\n    render() {\n        return (\n            <Dialog\n                open={this.props.connexionDialogOpen}\n                onClose={() => null}\n                aria-labelledby=\"form-dialog-title\"\n                onKeyPress={(event) => this.onEnterClick(event)}\n            >\n                <DialogTitle id=\"form-dialog-title\">Connexion</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Veuillez vous reconnecter svp\n                    </DialogContentText>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        name=\"username\"\n                        label=\"Nom utilisateur\"\n                        type=\"text\"\n                        value={this.state.username}\n                        onChange={(event) => this.handleInputChange(event)}\n                        fullWidth\n                    />\n                    <TextField\n                        margin=\"dense\"\n                        name=\"password\"\n                        label=\"Mot de passe\"\n                        type=\"password\"\n                        value={this.state.password}\n                        onChange={(event) => this.handleInputChange(event)}\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.props.handleClose(null)} color=\"primary\">\n                        Annuler\n                    </Button>\n                    <Button onClick={() => this.connectAndRetrieveToken()} color=\"primary\"\n                            disabled={this.state.connexionRunning}>\n                        Valider\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { messageToShow$ } from \"../server_classes/axiosInstance\";\nimport withStyles from \"@material-ui/core/es/styles/withStyles\";\n\nconst styles = theme => ({\n    snackbar: {\n        margin: '20px',\n        width: '2000px'\n    },\n});\n\nclass MessageSnackBar extends React.Component {\n    handleClick = () => {\n        this.setState({open: true});\n    };\n    handleClose = () => {\n        this.setState({open: false});\n    };\n\n    constructor() {\n        super();\n        this.state = {\n            open: false,\n            vertical: 'top',\n            horizontal: 'center',\n            message: 'loli'\n        };\n        messageToShow$.subscribe(\n            message => {\n                this.setState({message: message})\n                this.handleClick({})\n            });\n    }\n\n    render() {\n        const {classes} = this.props;\n        const {vertical, horizontal, open} = this.state;\n        return (\n            <Snackbar\n                anchorOrigin={{vertical, horizontal}}\n                autoHideDuration={5000}\n                open={open}\n                onClose={this.handleClose}\n                ContentProps={{\n                    'aria-describedby': 'message-id',\n                    'className': classes.snackbar\n                }}\n                message={this.state.message}\n            />\n        );\n    }\n}\n\nexport default withStyles(styles)(MessageSnackBar);\n","import React, { Component } from 'react';\nimport './superDataTable.css'\nimport { ElementsSelector } from \"./ElementsSelector\";\nimport SimpleMenu from \"./SimpleMenu\";\nimport ModifyObjectDialog from \"../Dialogs/ModifyObjectDialog\";\n\n\nexport class EasyDataTable extends Component {\n    constructor(props) {\n        super(props);\n        //Props dataToShow, keysToShow = {'name': }\n        this.state = {\n            // dataToShow: [],\n            shouldUpdateDataTableData: false,\n            currentKeysToShowObject: '',\n            initialKeysToShow: '',\n            selectorDatas: {X: 0, Y: 0, display: 'none', validateFilterValues: x => console.log(x), datas: []},\n            sortBy: {},\n            filterBy: {},\n            simpleMenuAnchorEl: null,\n            elementToModify: null,\n            modifyElementModalOpen: false,\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // You don't have to do this check first, but it can help prevent an unneeded render\n        if (nextProps.startTime !== this.state.startTime) {\n            this.setState({startTime: nextProps.startTime});\n        }\n        this.refreshDataTableData(nextProps);\n    }\n\n\n    getDataKeysToShowFromData(data) {\n        let dataKeysSet = new Set();\n        for (let dataObject of data) {\n            for (let dataObjectKey of Object.keys(dataObject)) {\n                dataKeysSet.add(dataObjectKey)\n            }\n        }\n        return [...dataKeysSet].reduce((final, current) => {\n            final[current] = current;\n            return final\n        }, {})\n    }\n\n    setSortBy(keyToSortBy) {\n        let newObjectToSortBy = Object.assign({}, this.state.sortBy);\n        switch (newObjectToSortBy[keyToSortBy]) {\n            case -1 :\n                delete newObjectToSortBy[keyToSortBy];\n                break;\n            case 1 :\n                newObjectToSortBy[keyToSortBy] = -1;\n                break;\n            default:\n                newObjectToSortBy[keyToSortBy] = 1;\n        }\n        this.setState({\n            sortBy: newObjectToSortBy\n        })\n    }\n\n    checkIfSortedByKey(keyToCheck) {\n        return Object.keys(this.state.sortBy).includes(keyToCheck)\n    }\n\n    getSortingFunction(objectToSortBy) { ///Prend objet du genre : {nom: -1, age: 1}\n        let arrayToSortBy = Object.keys(objectToSortBy).filter(x => objectToSortBy[x] !== 0);\n        return (a, b) => {\n            for (let sortByKey of arrayToSortBy) {\n                if (a[sortByKey] === b[sortByKey]) {\n\n                } else {\n                    return (a[sortByKey] < b[sortByKey] ? -1 : 1) * objectToSortBy[sortByKey];\n                }\n            }\n            return 0\n        }\n    }\n\n    setFilterBy(keyToFiler, arrayValuesToFilter) {\n        let newFilterBy = Object.assign({}, this.state.filterBy);\n        if (arrayValuesToFilter.length === 0) {\n            delete newFilterBy[keyToFiler]\n        } else {\n            newFilterBy[keyToFiler] = arrayValuesToFilter;\n        }\n        this.setState({filterBy: newFilterBy});\n    }\n\n    checkIfFilteredBy(keyToCheck) {\n        return !!this.state.filterBy[keyToCheck];\n    }\n\n    getFilteringFunction(objectToFilterBy) {\n        console.log(objectToFilterBy);\n        let arrayKeysToFilterBy = Object.keys(objectToFilterBy)\n        return x => {\n            for (let keyToFilterBy of arrayKeysToFilterBy) {\n                if (!objectToFilterBy[keyToFilterBy].includes(x[keyToFilterBy])) {\n                    return false\n                }\n            }\n            return true\n        }\n    }\n\n    filterButtonClick(e, datakey, dataToShow) {\n        e.stopPropagation();\n        const rect = e.target.parentNode.parentNode.getBoundingClientRect();\n\n        let filterValuesSet = new Set();\n        for (let dataObject of dataToShow) {\n            filterValuesSet.add(dataObject[datakey])\n        }\n        console.log(filterValuesSet);\n        this.setState({\n            selectorDatas: {\n                X: rect.left + window.scrollX,\n                Y: rect.bottom + window.scrollY,\n                display: 'initial',\n                validateFilterValues: arrayValuesToFilter => {\n                    this.setFilterBy(datakey, arrayValuesToFilter);\n                    this.setState({selectorDatas: {display: 'none'}})\n                },\n                datas: [...filterValuesSet].sort(),\n                selectedDatas: this.state.filterBy[datakey]\n            }\n        });\n    }\n\n    refreshDataTableData(props = this.props) {\n        let allDataKeys = this.getDataKeysToShowFromData(props.dataToShow);\n        this.setState({\n            initialKeysToShow: allDataKeys,\n            currentKeysToShowObject: allDataKeys,\n        })\n    }\n\n    setKeysToShowObject(newKeysToShowObject) {\n        this.setState({\n            currentKeysToShowObject: newKeysToShowObject\n        })\n    }\n\n    getSortOrientation(keyToTest) {\n        if (this.checkIfSortedByKey(keyToTest)) {\n            if (this.state.sortBy[keyToTest] > 0) {\n                return <span><i className=\"fas fa-sort-up\"/></span>\n            } else {\n                return <span><i className=\"fas fa-sort-down\"/></span>\n            }\n        }\n        return <span><i className=\"fas fa-sort\"/></span>\n    }\n\n\n    render() {\n        let keysToShow = Object.keys(this.state.currentKeysToShowObject);\n        let dataToShow = this.props.dataToShow.filter(this.getFilteringFunction(this.state.filterBy));\n        dataToShow = this.props.dataToShow\n\n        dataToShow = dataToShow.sort(this.getSortingFunction(this.state.sortBy));\n\n        let tableHeader = <thead>\n        <tr>\n            {keysToShow.map((keyToShow, step) =>\n                <td key={step}\n                    onClick={() => this.setSortBy(keyToShow)}>\n                    <div className=\"flex\"><span\n                        className=\"flex-1-1\">{this.state.currentKeysToShowObject[keyToShow]}</span>\n                        {this.getSortOrientation(keyToShow)}\n                        <span onClick={e => this.filterButtonClick(e, keyToShow, this.props.dataToShow)}>\n                            <i className=\"fas fa-filter\"\n                               style={{color: this.checkIfFilteredBy(keyToShow) ? 'red' : ''}}/>\n                        </span>\n                    </div>\n                </td>)\n            }\n        </tr>\n        </thead>\n\n        let tableRowsToShow = dataToShow.map((dataObject, step) => {\n            let valuesOnTicket = keysToShow.map((keyToShow, step) =>\n                <td key={step}>\n                    {typeof dataObject[keyToShow] === 'object' ? 'object' : dataObject[keyToShow]}\n                </td>);\n            return <tr\n                key={step}\n                onClick={event => this.props.onElementClick(event,dataObject)}>\n                {valuesOnTicket}\n            </tr>\n        });\n\n        let tableToShow = <div id=\"superDataTableDiv\">\n            <table id=\"superDataTable\" className=\"text-left\">\n                {tableHeader}\n                <tbody>\n                {tableRowsToShow}\n                </tbody>\n            </table>\n        </div>\n\n        return <div>\n            <ElementsSelector selectorDatas={this.state.selectorDatas}/>\n            {tableToShow}\n        </div>;\n    }\n}","import React, { Component } from 'react';\nimport { EasyDataTable } from \"../states_by_date/EasyDataTable\";\nimport { ServerService } from \"../server_classes/ServerService\";\nimport {\n    ACCOUNTS_PATH,\n    BILLS_PATH,\n    CREDIT_NOTES_BILL_PATH,\n    CREDIT_NOTES_PATH,\n    TICKETS_PATH\n} from \"../server_classes/SERVER_CONST\";\nimport Button from \"@material-ui/core/es/Button/Button\";\nimport { AirReaderModal } from \"../air_reader_modal/air_reader_modal\";\nimport { ListElementSelector } from \"../add_customer_account/ListElementSelector\";\nimport SimpleMenu from \"../states_by_date/SimpleMenu\";\nimport ModifyObjectDialog from \"../Dialogs/ModifyObjectDialog\";\n\n\nexport class ControlComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataToShow: [],\n            accountSelected: null,\n            collectionPath: null,\n            simpleMenuData: {\n                simpleMenuAnchorEl: null,\n                elementToModify: null,\n            }\n        }\n    }\n\n    showButtonToChangeDataToShow() {\n        let arrayOfData = [\n            {name: 'Comptes', collectionPath: ACCOUNTS_PATH},\n            {name: 'Tickets', collectionPath: TICKETS_PATH},\n            {name: 'Factures', collectionPath: BILLS_PATH},\n            {name: 'Avoirs', collectionPath: CREDIT_NOTES_PATH},\n            {name: 'FacturesAvoirs', collectionPath: CREDIT_NOTES_BILL_PATH},\n        ];\n        return <div style={{margin: '10px'}}>\n            {arrayOfData.map(x => <button key={x.name}\n                                          style={this.state.collectionPath === x.collectionPath ? {backgroundColor:\"#636363\", color:\"#e9e9e9\"} : {}}\n                                          onClick={() => this.onClickOnDataCollection(x.collectionPath)}>{x.name}</button>)}\n        </div>\n    }\n\n    onClickOnDataCollection(collectionPath) {\n        this.setState({collectionPath: collectionPath});\n        this.getDataFromServer(collectionPath);\n    }\n\n    getDataFromServer(collectionPath) {\n        let requestFilter = {};\n        if (this.state.accountSelected) {\n            requestFilter = {\"$or\": [{\"customerAccount\": this.state.accountSelected._id}, {\"customerId\": this.state.accountSelected._id}]}\n        }\n        ServerService.getFromServer(collectionPath, requestFilter).then(response => this.setState({dataToShow: response}))\n    }\n\n    onAccountSelected(accountSelected) {\n        this.setState({accountSelected: accountSelected});\n        this.setModalVisibility(false);\n    }\n\n    setModalVisibility(bool) {\n        this.setState({modalVisibility: bool});\n    }\n\n    onDataUpdate(dataToUpdate, cb) {\n        ServerService.updateOnServer(this.state.collectionPath, dataToUpdate)\n            .then(() => cb())\n            .then(() => this.modifyElementInDataToShow(this.state.collectionPath, dataToUpdate))\n    }\n\n    modifyElementInDataToShow(collectionPath, newElement) {\n        let newDataToShow = [...this.state.dataToShow];\n        let indexNewElement = newDataToShow.findIndex(x => x._id === newElement._id);\n        console.log(newDataToShow, newElement, indexNewElement);\n        if (indexNewElement > -1) {\n            newDataToShow[indexNewElement] = {...newElement};\n            this.setState({dataToShow: newDataToShow})\n        }\n    }\n\n    render() {\n        return <div>\n            <Button className=\"validate-ticket-button\"\n                    onClick={() => this.setModalVisibility(true)}>\n                {this.state.accountSelected ? this.state.accountSelected.name : 'Choisir un compte'}\n            </Button>\n            {this.showButtonToChangeDataToShow()}\n            <EasyDataTable\n                // allAccount={this.state.allAccount}\n                // dataToShow={this.state.allTickets}\n                dataToShow={this.state.dataToShow}\n                // onDataUpdate={(x, cb) => this.onDataUpdate(x, cb)}\n                onElementClick={\n                    (event, elementToModify) => {\n                        console.log('modification TODO', event);\n                        event.preventDefault();\n                        this.setState({\n                            simpleMenuData: {\n                                simpleMenuAnchorEl: event.target,\n                                elementToModify: elementToModify\n                            }\n                        })\n                    }\n                }\n            />\n\n            <SimpleMenu anchorEl={this.state.simpleMenuData.simpleMenuAnchorEl}\n                        handleClose={() => {\n                            this.setState({\n                                simpleMenuData: {\n                                    simpleMenuAnchorEl: null,\n                                    elementToModify: null\n                                }\n                            });\n                        }}\n                        menuItems={[{\n                            text: \"Modifier element\",\n                            action: () => this.setState({\n                                simpleMenuData: {\n                                    ...this.state.simpleMenuData,\n                                    simpleMenuAnchorEl: null,\n                                },\n                                modifyElementModalOpen: true,\n                            }),\n                        }]}\n            />\n\n            <ModifyObjectDialog open={this.state.modifyElementModalOpen}\n                                onClose={() => this.setState({modifyElementModalOpen: false})}\n                                title=\"Modifier objet\"\n                                objectToModify={this.state.simpleMenuData.elementToModify}\n                                onValidate={(x, cb) => this.onDataUpdate(x, cb)}\n            />\n            <AirReaderModal visible={this.state.modalVisibility}\n                            onOutsideClick={() => this.onAccountSelected(null)}>\n                <ListElementSelector onClick={x => console.log(x)}\n                                     onValid={accountSelected => {\n                                         this.onAccountSelected(accountSelected);\n                                     }}\n                                     sortBy='name'\n                                     data={this.props.allAccount}\n                                     dataKeysToShow={['name', 'customer reference']}\n                                     filterPossibilities={['name', 'customer reference']}\n                                     multiChoice={false}\n                />\n            </AirReaderModal>\n        </div>\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport AccountBoxIcon from '@material-ui/icons/AccountBoxRounded';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport NoteIcon from '@material-ui/icons/Note';\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\nimport ReceiptIcon from '@material-ui/icons/Receipt';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport BankIcon from '@material-ui/icons/MonetizationOn';\n\n\nimport Collapse from '@material-ui/core/es/Collapse/Collapse';\nimport Redirect from 'react-router-dom/es/Redirect';\n\nconst DIVIDER_MENU_TYPE = 'DIVIDER_CONST';\nconst COLLAPSE_MENU_TYPE = 'COLLAPSE_MENU_CONST';\n\nconst styles = theme => ({\n    root: {\n        maxWidth: 360,\n        width: '250px',\n        backgroundColor: theme.palette.background.paper,\n        borderRight: '1px solid rgba(0, 0, 0, 0.12)',\n        height: '100%',\n        marginTop: 0,\n    },\n    nav: {\n        width: '250px',\n        overflow: 'scroll',\n        position: 'absolute',\n        marginTop:'64px',\n        top: 0, bottom: 0, left: 0, right: 0,\n\n    },\n    navContainer: {\n        width: '250px',\n    },\n    nested: {\n        paddingLeft: theme.spacing.unit * 4,\n    },\n});\n\nclass AirReaderMenuList extends React.Component {\n    handleListItemClick = (event, index, redirectionAdress) => {\n        console.log('click on ', index);\n        this.setState({\n            selectedIndex: index,\n            redirectionAddress: redirectionAdress,\n            collapsedMenuSelectedIndex: null,\n        });\n    };\n    handleListItemCollapseClick = (event, index, redirectionAdress) => {\n        this.setState({\n            collapsedMenuSelectedIndex: index,\n            redirectionAddress: redirectionAdress,\n        });\n    };\n    tableauNavbar = [\n        {title: 'Tickets', redirectionAddress: null, icon: <DescriptionIcon/>},\n        {\n            type: COLLAPSE_MENU_TYPE, elements: [\n            {title: 'Valider', redirectionAddress: '/tickets/validate'},\n            {title: 'Facturer', redirectionAddress: '/tickets/bill'},\n            {title: 'Factures créées', redirectionAddress: '/tickets/billed'},\n            {title: 'Facturer FS', redirectionAddress: '/tickets/fees_bill'},\n        ],\n        },\n        {title: 'Comptes', redirectionAddress: '/accounts', icon: <AccountBoxIcon/>},\n        {title: 'Avoirs', redirectionAddress: null, icon: <NoteIcon/>},\n        {\n            type: COLLAPSE_MENU_TYPE, elements: [\n            {title: 'Creer/Supprimer avoirs', redirectionAddress: '/credit_notes/new'},\n            {title: 'Facturer avoirs', redirectionAddress: '/credit_notes/bill'},\n            {title: 'Factures avoir créées', redirectionAddress: '/credit_notes/billed'},\n        ],\n        },\n        {type: DIVIDER_MENU_TYPE},\n        {title: 'Etats', redirectionAddress: '/states', icon: <NoteAddIcon/>},\n        {title: 'Importer AIR', redirectionAddress: '/import', icon: <CloudUploadIcon/>},\n        {type: DIVIDER_MENU_TYPE},\n        {title: 'Controle Données', redirectionAddress: '/controlComponent', icon: <ReceiptIcon/>},\n        {title: 'States 2.0', redirectionAddress: '/superDataTable', icon: <GroupAddIcon/>},\n        {title: 'B.O. generator', redirectionAddress: '/boComponent', icon: <FlightIcon/>},\n        {title: 'Nada', redirectionAddress: '/nada', icon: <DraftsIcon/>},\n        {title: 'Dashboard', redirectionAddress: '/dashboard', icon: <DashboardIcon/>},\n        {title: 'Bank', redirectionAddress: '/bank', icon: <BankIcon/>},\n    ];\n\n\n    state = {\n        selectedIndex: 1,\n        redirectionAddress: null,\n        collapsedMenuSelectedIndex: null,\n    };\n\n    generateMenuListItemFromData(dataArray, self = this) {\n        return dataArray.map((navBarElement, step) => {\n            switch (navBarElement.type) {\n                case DIVIDER_MENU_TYPE:\n                    return <Divider key={step}/>;\n                case COLLAPSE_MENU_TYPE:\n                    return <Collapse in={self.state.selectedIndex === step - 1} key={step} timeout=\"auto\" unmountOnExit>\n                        <List component=\"div\" disablePadding>\n                            {\n                                navBarElement.elements.map((navBarCollapseElement, stepCollapseElement) =>\n                                    <AirReaderSimpleMenuItem itemToShow={navBarCollapseElement}\n                                                             key={stepCollapseElement}\n                                                             selectedIndex={self.state.collapsedMenuSelectedIndex}\n                                                             itemNumber={stepCollapseElement}\n                                                             className={self.props.classes.nested}\n                                                             handleListItemClick={self.handleListItemCollapseClick}\n                                    />)\n                            }\n                        </List>\n                    </Collapse>;\n                default:\n                    return <AirReaderSimpleMenuItem key={step} itemToShow={navBarElement}\n                                                    selectedIndex={self.state.selectedIndex}\n                                                    itemNumber={step}\n                                                    handleListItemClick={self.handleListItemClick}\n                    />;\n            }\n        });\n    }\n\n    checkRedirection() {\n        let redirectionAddress = this.state.redirectionAddress;\n        if (redirectionAddress) {\n            this.setState({\n                redirectionAddress: null,\n            });\n            return <Redirect to={redirectionAddress}/>;\n        }\n        return '';\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        return (\n            this.state.redirectionAddress ? this.checkRedirection() :\n                <div className={classes.root}>\n                    <List component=\"nav\" className={classes.nav}>\n                        {this.generateMenuListItemFromData(this.tableauNavbar)}\n                        {/*{this.state.menuToShow}*/}\n                    </List>\n                </div>\n        );\n    }\n}\n\nlet AirReaderSimpleMenuItem = (props) => {\n    let {itemToShow, itemNumber, selectedIndex, handleListItemClick, className} = props;\n    return <ListItem\n        button\n        className={className}\n        selected={selectedIndex === itemNumber}\n        onClick={event => {\n            handleListItemClick(event, itemNumber, itemToShow.redirectionAddress);\n        }}\n    >\n        {itemToShow.icon ? <ListItemIcon>\n            {itemToShow.icon}\n        </ListItemIcon> : ''}\n        <ListItemText inset primary={itemToShow.title}/>\n    </ListItem>;\n};\n\nAirReaderMenuList.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AirReaderMenuList);","/**\n *\n *  UTF-8 data encode / decode\n *  http://www.webtoolkit.info/\n *\n **/\n\nexport class ColorConverter {\n    /**\n     * Converts an HSL color value to RGB. Conversion formula\n     * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n     * Assumes h, s, and l are contained in the set [0, 1] and\n     * returns r, g, and b in the set [0, 255].\n     *\n     * @param   {number}  h       The hue\n     * @param   {number}  s       The saturation\n     * @param   {number}  l       The lightness\n     * @return  {string || Array}           The RGB representation\n     */\n    static hslToRgb(h, s, l, colorMode = false){\n        let r, g, b;\n\n        if(s === 0){\n            r = g = b = l; // achromatic\n        }else{\n            let hue2rgb = function hue2rgb(p, q, t){\n                if(t < 0) t += 1;\n                if(t > 1) t -= 1;\n                if(t < 1/6) return p + (q - p) * 6 * t;\n                if(t < 1/2) return q;\n                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                return p;\n            };\n\n            let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            let p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1/3);\n        }\n        if (colorMode){\n            return '#' + [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)].map(x => ('00' + x.toString(16)).substr(-2)).join('')\n        }\n        return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n    }\n\n    /**\n     * Converts an RGB color value to HSL. Conversion formula\n     * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n     * Assumes r, g, and b are contained in the set [0, 255] and\n     * returns h, s, and l in the set [0, 1].\n     *\n     * @param   {number}  r       The red color value\n     * @param   {number}  g       The green color value\n     * @param   {number}  b       The blue color value\n     * @return  {Array}           The HSL representation\n     */\n    static rgbToHsl(r, g, b){\n        r /= 255; g /= 255; b /= 255;\n        let max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h, s, l = (max + min) / 2;\n\n        if(max === min){\n            h = s = 0; // achromatic\n        }else{\n            let d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch(max){\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n\n        return [h, s, l];\n    }\n}","import React from 'react';\nimport TextField from '@material-ui/core/es/TextField/TextField';\nimport { ServerService } from '../../server_classes/ServerService';\nimport { TICKETS_PATH } from '../../server_classes/SERVER_CONST';\nimport {\n    Area,\n    AreaChart,\n    Bar,\n    BarChart,\n    CartesianGrid,\n    Legend,\n    Line,\n    LineChart,\n    Pie,\n    PieChart,\n    ResponsiveContainer,\n    Tooltip,\n    XAxis,\n    YAxis,\n} from 'recharts';\nimport Card from '@material-ui/core/es/Card/Card';\nimport CardContent from '@material-ui/core/es/CardContent/CardContent';\nimport InputAdornment from '@material-ui/core/es/InputAdornment/InputAdornment';\nimport ChordDiagram from 'react-chord-diagram/es/ChordDiagram';\nimport { ColorConverter } from '../../useful_functions/ColorConverter';\n\nexport class DashBoardView extends React.Component {\n    CANCELED_PROPERTY = 'canceled';\n    state = {\n        filter: {\n            beginDate: '',\n            endDate: '',\n        },\n        tickets: [],\n        ticketsHandled: [],\n        generalDatas: {},\n        chordDiagramMatrix: [],\n        chordListLegend: [],\n        chordListColors:[],\n        bankDatas: {iata: '', ecobank: '', scb: '', scbDecouvert: '', cashier: '', BOs: '', result: ''},\n\n    };\n\n    handleFilterChange(e) {\n        let newFilterDate = Object.assign({}, this.state.filter,\n            {[e.target.name]: e.target.value});\n        this.setState({\n            filter: newFilterDate,\n        });\n    }\n\n    handleBankDataChange(e) {\n        let newBankDatas = Object.assign({}, this.state.bankDatas,\n            {[e.target.name]: e.target.value});\n        this.setState({\n            bankDatas: newBankDatas,\n        });\n    }\n\n\n    makeNextDayDate(dateToModify) {\n        return dateToModify.substr(0, dateToModify.length - 1) + (parseInt(dateToModify.substr(dateToModify.length - 1)) + 1);\n    }\n\n    formatDateForTicketRequest(dateToFormat) {\n        return dateToFormat.substr(2).split('-').join('');\n    }\n\n    getRecentBills() {\n        let dateBillFilter = [];\n        if (this.state.filter.beginDate) {\n            dateBillFilter.push({date: {$gte: this.formatDateForTicketRequest(this.state.filter.beginDate)}});\n        }\n        if (this.state.filter.endDate) {\n            dateBillFilter.push({date: {$lte: this.formatDateForTicketRequest(this.state.filter.endDate)}});\n        }\n        switch (dateBillFilter.length) {\n            case 0:\n                return null;\n            case 1:\n                dateBillFilter = dateBillFilter[0];\n                break;\n            default:\n                dateBillFilter = {$and: dateBillFilter};\n        }\n        console.log(dateBillFilter);\n        ServerService.getFromServer(TICKETS_PATH, dateBillFilter, {sort: {date: 1}, limit: 0})\n                     .then(results => {\n                         console.log(results.map(x => x.canceled));\n                         this.setState({tickets: results});\n                         this.handleTicketData(results);\n                     });\n    }\n\n    sortObjectsByKey(objectList, keyValue) {\n        return objectList.reduce((finalArray, currentObject) => {\n            if (!finalArray.hasOwnProperty(currentObject[keyValue])) {\n                finalArray[currentObject[keyValue]] = {data: [currentObject]};\n                return finalArray;\n            }\n            finalArray[currentObject[keyValue]].data.push(currentObject);\n            return finalArray;\n        }, {});\n    }\n\n    getGeneralDatasFromTickets(tickets) {\n        let generalDatas = tickets.reduce((acc, cur) => {\n            if (!cur.canceled) {\n                acc.totalCommission += parseInt(cur.commissionValue);\n                acc.totalAmountSold += parseInt(cur.total);\n                acc.totalPriceTTC += parseInt(cur.priceTTC);\n                acc.totalPriceHT += parseInt(cur.priceHT);\n                acc.totalTaxes += parseInt(cur.priceTTC) - parseInt(cur.priceHT);\n            } //ICI A MODIFIER SI CHANGEMENT CONSIDERATION FS ....\n            acc.totalFees += cur.fees ? parseInt(cur.fees) : 0;\n            return acc;\n        }, {\n            totalTicketsNumber: tickets.length,\n            totalCanceledTicketsNumber: tickets.filter(x => x.hasOwnProperty(this.CANCELED_PROPERTY)).length,\n            totalPriceTTC: 0,\n            totalPriceHT: 0,\n            totalTaxes: 0,\n            totalAmountSold: 0,\n            totalFees: 0,\n            totalCommission: 0,\n        });\n\n\n        this.setState({generalDatas: generalDatas});\n    }\n\n    handleTicketData(tickets) {\n        this.getGeneralDatasFromTickets(tickets);\n        this.setChordsData(tickets);\n        let ticketsGroupedByDate = tickets.reduce((finalArray, currentTicket) => {\n            if (!finalArray.hasOwnProperty(currentTicket.date)) {\n                finalArray[currentTicket.date] = {tickets: [currentTicket]};\n                return finalArray;\n            }\n            finalArray[currentTicket.date].tickets.push(currentTicket);\n            return finalArray;\n        }, {});\n        let finalTickets = [];\n        for (let key of Object.keys(ticketsGroupedByDate)) {\n            let newSynthetisedObject = {date: key, tickets: ticketsGroupedByDate[key].tickets};\n            newSynthetisedObject = Object.assign(newSynthetisedObject,\n                newSynthetisedObject.tickets.reduce((finalValue, currentTicket) => {\n                        finalValue.totalValue += currentTicket.total;\n                        finalValue.fees += currentTicket.fees ? parseInt(currentTicket.fees) : 0;\n                        finalValue.commissionValue += parseInt(currentTicket.commissionValue);\n                        finalValue.priceTTC += parseInt(currentTicket.priceTTC);\n                        return finalValue;\n                    },\n                    {totalValue: 0, fees: 0, commissionValue: 0, priceTTC: 0},\n                ),\n            );\n\n            finalTickets.push(newSynthetisedObject);\n\n        }\n        console.log(finalTickets);\n        this.setState({ticketsHandled: finalTickets});\n    }\n\n    addKeyToTableauObject(tableauObject, key, tableauChords, keyrank) {\n        if (tableauObject.hasOwnProperty(key)) {\n            return {tableauObject, tableauChords, keyrank};\n        }\n        tableauObject[key] = keyrank;\n        tableauChords.push([...Array(keyrank)].map((u, i) => 0));\n        for (key of Object.keys(tableauObject)) {\n            tableauChords[tableauObject[key]].push(0);\n        }\n        keyrank += 1;\n        return {tableauObject, tableauChords, keyrank};\n    }\n\n\n    generateChordsData(tableauWithAllTravel) {\n        let tableauChords = [];\n        let tableauObject = {};\n        let keyrank = 0;\n        let departureCity = '', arrivalCity = '';\n        for (let i = 0; i < tableauWithAllTravel.length / 2; i++) {\n            ([departureCity = '', arrivalCity = ''] = tableauWithAllTravel.slice(2 * i, 2 * i + 2));\n            ({\n                keyrank =0,\n                tableauObject={},\n                tableauChords=[],\n            } = this.addKeyToTableauObject(tableauObject, departureCity, tableauChords, keyrank));\n            ({\n                keyrank =0,\n                tableauObject={},\n                tableauChords=[],\n            } = this.addKeyToTableauObject(tableauObject, arrivalCity, tableauChords, keyrank));\n            tableauChords[tableauObject[arrivalCity]][tableauObject[departureCity]] += 1;\n        }\n        console.log(Object.keys(tableauObject));\n        return {tableauObject, tableauChords};\n    }\n\n    retrieveAllCitiesStop(tickets) {\n        let citiesStopPerTicket  = tickets.map(x => x.tripsInDetail.reduce((acc, cur, step) => {\n\n            if (cur.tripType === 'X') {\n                if (step ===0){\n                    acc.push(cur.departureAirportCode);\n                }\n                if (step < x.tripsInDetail.length - 1 && x.tripsInDetail[step + 1].tripType === 'O') {\n                    acc.push(cur.arrivalAirportCode);\n                }\n            } else {\n                acc.push(cur.departureAirportCode);\n                if (step < x.tripsInDetail.length - 1 && x.tripsInDetail[step + 1].tripType === 'O') {\n                    acc.push(cur.arrivalAirportCode);\n                }\n            }\n            if (step === x.tripsInDetail.length - 1) {\n                acc.push(cur.arrivalAirportCode);\n            }\n            return acc;\n        }, []));\n        return [].concat.apply([], citiesStopPerTicket)\n    }\n\n    setChordsData(tickets){\n        console.log('ALLStops',tickets,this.retrieveAllCitiesStop(tickets));\n        let allCitiesStop = this.retrieveAllCitiesStop(tickets);\n        let {tableauObject={}, tableauChords=[]}=this.generateChordsData(allCitiesStop);\n        let colorNumber = Object.keys(tableauObject).length;\n        let colorSpacing = parseInt('FFFFFF',16)/(colorNumber+3);\n        let colorSpacing2 = 1/(colorNumber+3);\n        let colorArray = [...new Array(colorNumber)].map((x,i)=> {\n            let a = i*colorSpacing2;\n            console.log(i, i*colorSpacing, a, ColorConverter.hslToRgb(a, 100, 50, true));\n            return ColorConverter.hslToRgb(a, 1, 0.5, true);\n            // return hsl(a,'100','50%');\n        });\n        // let colorArray = [...new Array(colorNumber)].map((x,i)=> \"#\" + (\"00000000\" +(i*colorSpacing).toString(16)).substr(-6));\n        console.log(colorSpacing,colorNumber, colorArray);\n        this.setState({\n            chordDiagramMatrix: tableauChords,\n            chordListLegend: Object.keys(tableauObject),\n            chordListColors: colorArray,\n        })\n    }\n\n\n    render() {\n        let dataForPieChart1 = [\n            {name: 'priceHT', 'value': this.state.generalDatas.totalPriceHT},\n            {name: 'taxes', value: this.state.generalDatas.totalTaxes},\n            {name: 'totalFees', value: this.state.generalDatas.totalFees}];\n        console.log('data', dataForPieChart1);\n        console.log('dataChords', this.state.chordListLegend, this.state.chordDiagramMatrix);\n\n\n        return <div style={{padding: '5px'}}>\n            <DateFilterManager\n                style={{marginBottom: '10px'}}\n                beginDate={this.state.filter.beginDate}\n                endDate={this.state.filter.endDate}\n                handleDateChange={x => this.handleFilterChange(x)}>\n                <button onClick={() => this.getRecentBills()}>Recupère tes billets ami</button>\n            </DateFilterManager>\n\n            {\n                Object.keys(this.state.generalDatas).map(x => <div>{x} : {this.state.generalDatas[x]}</div>)\n            }\n\n            <ChordDiagram\n                style={{padding: '20px'}}\n                matrix={this.state.chordDiagramMatrix}\n                componentId={1}\n                groupLabels={this.state.chordListLegend}\n                groupColors={this.state.chordListColors}\n            />\n            <AirReaderPieChart data={{lil: dataForPieChart1}}/>\n\n            <StackedBarChart data={this.state.ticketsHandled}/>\n            <StackedAreaChart data={this.state.ticketsHandled}/>\n            <Card>\n                <CardContent>\n                    <ResponsiveContainer height={320}>\n                        <LineChart data={this.state.ticketsHandled}>\n                            <XAxis dataKey=\"date\"/>\n                            <YAxis yAxisId='0'/>\n                            <YAxis yAxisId='paid' orientation='right'/>\n                            <YAxis yAxisId='fees'/>\n                            <CartesianGrid vertical={false} strokeDasharray=\"3 3\"/>\n                            <Tooltip/>\n                            <Legend/>\n                            <Line type=\"monotone\" name='nb billets vendus' dataKey=\"[tickets.length]\" yAxisId='0'\n                                  stroke=\"#82ca9d\"/>\n                            <Line type=\"monotone\" name='total ventes' dataKey=\"totalValue\" stroke=\"#8884d8\"\n                                  yAxisId='paid'\n                                  activeDot={{r: 8}}/>\n                            <Line type=\"monotone\" name='FS' dataKey=\"fees\" stroke=\"#f284d8\" yAxisId='fees'\n                                  activeDot={{r: 8}}/>\n                            <Line type=\"monotone\" name='commission' dataKey=\"commissionValue\" stroke=\"#3384d8\"\n                                  yAxisId='fees'\n                                  activeDot={{r: 8}}/>\n                        </LineChart>\n                    </ResponsiveContainer>\n                </CardContent>\n            </Card>\n\n            <BankDatasCard className='flex-1-1' bankDatas={this.state.bankDatas}\n                           handleChange={e => this.handleBankDataChange(e)}/>\n        </div>;\n    }\n}\n\nfunction AirReaderPieChart(props) {\n    let dataToShow = props.data.lil;\n    console.log('dataTOshow', dataToShow, props);\n    return <Card>\n        <CardContent>\n            <PieChart width={750} height={230}>\n\n                <Pie data={dataToShow} dataKey='value' fill='#ae6623' cx='50%' cy='50%' outerRadius={100}\n                     innerRadius={60} label={true}/>\n                <Tooltip/>\n            </PieChart>\n        </CardContent>\n    </Card>;\n}\n\nfunction StackedBarChart(props) {\n\n    return <Card style={{margin: '10px'}}>\n        <CardContent>\n            <ResponsiveContainer height={320}>\n                <BarChart height={500}\n                          data={props.data}>\n                    <XAxis dataKey=\"date\"/>\n                    <YAxis yAxisId='0'/>\n                    <Tooltip/>\n                    <Legend/>\n                    <Bar dataKey='priceTTC' stackId='a' fill=\"#8884d8\"/>\n                    <Bar dataKey='fees' stackId='a' fill=\"#f284d8\"/>\n                    <Bar dataKey='commissionValue' stackId='a' fill=\"#3384d8\"/>\n                </BarChart>\n            </ResponsiveContainer>\n        </CardContent>\n    </Card>;\n}\n\nfunction StackedAreaChart(props) {\n\n    return <Card style={{margin: '10px'}}>\n        <CardContent>\n            <ResponsiveContainer height={320}>\n                <AreaChart height={500}\n                           data={props.data}>\n                    <XAxis dataKey=\"date\"/>\n                    <YAxis yAxisId='0'/>\n                    <Tooltip/>\n                    <Legend/>\n                    <Area dataKey='priceTTC' stackId='a' fill=\"#8884d8\"/>\n                    <Area dataKey='fees' stackId='a' fill=\"#f284d8\"/>\n                    <Area dataKey='commissionValue' stackId='a' fill=\"#3384d8\"/>\n                </AreaChart>\n            </ResponsiveContainer>\n        </CardContent>\n    </Card>;\n}\n\nfunction DateFilterManager(props) {\n    let dateInputDatas = [\n        {label: 'Date de debut', name: 'beginDate', type: 'date', value: props.beginDate},\n        {label: 'Date de fin', name: 'endDate', type: 'date', value: props.endDate},\n    ];\n    let dateTextfields = dateInputDatas.map(dateData => <TextField\n            InputLabelProps={{shrink: true}}\n            style={{margin: '20px'}}\n            type={dateData.type}\n            variant=\"outlined\"\n            label={dateData.label}\n            name={dateData.name}\n            key={dateData.name}\n            value={dateData.value}\n            placeholder=' '\n            onChange={e => props.handleDateChange(e)}\n            InputProps={{\n                // endAdornment: <InputAdornment position=\"end\">Kg</InputAdornment>,\n            }}\n        />,\n    );\n    return <Card style={props.style}>\n        <CardContent>\n            <div>Filtre Date</div>\n            <div className='flex-container'>{dateTextfields}</div>\n            {props.children}\n        </CardContent>\n    </Card>;\n}\n\nclass BankDatasCard extends React.Component {\n    state = {\n        result: 0,\n    };\n\n    getBankDatas() {\n        let bankDatasFromProps = this.props.bankDatas;\n        let result = bankDatasFromProps.iata - bankDatasFromProps.scb - bankDatasFromProps.ecobank - bankDatasFromProps.cashier - bankDatasFromProps.BOs;\n        return [\n            {label: 'Facture IATA', name: 'iata', type: 'number'},\n            {label: 'Solde SCB', name: 'scb', type: 'number'},\n            {label: 'Solde Ecobank', name: 'ecobank', type: 'number'},\n            {label: 'Solde caisse', name: 'cashier', type: 'number'},\n            {label: 'Decouvert SCB', name: 'scbDecouvert', type: 'number'},\n            {label: 'BO constitués', name: 'BOs', type: 'number'},\n            {label: 'Reste à trouver / constituer', name: 'result', type: 'number', value: result, withColor: true},\n        ];\n    }\n\n    generateBankDatasFields(bankDatas = this.getBankDatas()) {\n        return bankDatas.map(bankData => {\n            let bankDataValue = bankData.value ? bankData.value : this.props.bankDatas[bankData.name];\n            let colorInputLabelProps = bankData.withColor ? (bankDataValue < 0 ? 'green' : 'red') : '';\n            return <TextField\n                style={{margin: '20px'}}\n                variant=\"outlined\"\n                type={bankData.type}\n                label={bankData.label}\n                name={bankData.name}\n                key={bankData.name}\n                value={bankDataValue}\n                placeholder=' '\n                onChange={e => this.props.handleChange(e)}\n                InputProps={{\n                    endAdornment: <InputAdornment position=\"end\">FCFA</InputAdornment>,\n                }}\n                InputLabelProps={{style: {color: colorInputLabelProps}}}\n            />;\n        });\n    }\n\n    render() {\n        return <Card className={this.props.className} style={{marginBottom: '10px'}}>\n            <CardContent>\n                {this.generateBankDatasFields()}\n            </CardContent>\n        </Card>;\n    }\n}\n\n\nfunction ChordComp(props) {\n    // var width=960, height=960\n    //     ,outerRadius = Math.min(width, height) * 0.5 - 40\n    //     ,innerRadius = outerRadius - 30;\n    //\n    // var m = [\n    //     [11975,  5871, 8916, 2868],\n    //     [ 1951, 10048, 2060, 6171],\n    //     [ 8010, 16145, 8090, 8045],\n    //     [ 1013,   990,  940, 6907]\n    // ];\n    // //turn matrix into table\n    // var data=[];\n    // m.forEach(function(r,i){ r.forEach(function(c,j){ data.push([i,j,c])})});\n    //\n    // var colors = [\"#000000\", \"#FFDD89\", \"#957244\", \"#F26223\"];\n    //\n    // var ch = viz.ch().data(data).padding(.05)\n    //             .innerRadius(innerRadius)\n    //             .outerRadius(outerRadius)\n    //             .label(function(d){ return \"\"})\n    //             .startAngle(1.5*Math.PI)\n    //             .fill(function(d){ return colors[d];});\n    //\n    // var svg = d3.select(\"body\").append(\"svg\").attr(\"height\",height).attr(\"width\",width);\n    //\n    // svg.append(\"g\").attr(\"transform\", \"translate(\"+width/2+\",\"+height/2+\")\").call(ch);\n    const matrix = [\n        [11975, 5871, 8916, 2868],\n        [1951, 10048, 2060, 6171],\n        [8010, 16145, 8090, 8045],\n        [1013, 990, 940, 6907],\n    ];\n\n\n    return <ChordDiagram\n        matrix={matrix}\n        componentId={1}\n        groupLabels={['Black', 'Yellow', 'Brown', 'Orange']}\n        groupColors={['#000000', '#FFDD89', '#957244', '#F26223']}\n    />;\n\n}","/**\n *\n *  UTF-8 data encode / decode\n *  http://www.webtoolkit.info/\n *\n **/\n\nexport class Utf8 {\n    // public method for url encoding\n    static encode(string) {\n        string = string.replace(/\\r\\n/g, '\\n');\n        let utftext = '';\n        for (let n = 0; n < string.length; n++) {\n            let c = string.charCodeAt(n);\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            }\n            else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n            else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n        }\n        return utftext;\n    }\n    // public method for url decoding\n    static decode (utftext) {\n        let string = '';\n        let i = 0;\n        let c = 0, c1 = 0, c2 = 0, c3 = 0;\n        while (i < utftext.length) {\n            c = utftext.charCodeAt(i);\n            if (c < 128) {\n                string += String.fromCharCode(c);\n                i++;\n            }\n            else if ((c > 191) && (c < 224)) {\n                c2 = utftext.charCodeAt(i + 1);\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n                i += 2;\n            }\n            else {\n                c2 = utftext.charCodeAt(i + 1);\n                c3 = utftext.charCodeAt(i + 2);\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n                i += 3;\n            }\n        }\n        return string;\n    }\n}","import React, { Component } from 'react';\nimport { billServerService } from '../../server_classes/serverData';\nimport { Utf8 } from '../../useful_functions/Utf8';\n\n\nexport class ImportBankData extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filesToSendAttributes: [],\n            filesToSendRead: [],\n            fileSentResult: '',\n            bankDataRead: [],\n            bankDataTableRowsToImport: [],\n        };\n    }\n\n    componentDidMount() {\n        // billServerService.getAllAirFiles();\n\n    }\n\n\n    handleFileToSendChange(event) {\n        const target = event.target;\n        this.setState({\n            filesToSendAttributes: Array.from(target.files),\n            filesToSendRead: [],\n        });\n        setTimeout(() => this.readAllFiles(), 100);\n        console.log(Array.from(target.files));\n    }\n\n    addToFileToSend(newFileToAdd) {\n        this.setState({\n            filesToSendRead: this.state.filesToSendRead.concat([newFileToAdd]),\n        });\n    }\n\n    readFileAndAddItToFilesToSend(file, self = this) {\n        let fileReader = new FileReader();\n        fileReader.onloadend = () => {\n            self.addToFileToSend({name: file.name, type: 'AIR', data: fileReader.result});\n            self.handleEcobankDatas(fileReader.result);\n        };\n        fileReader.readAsBinaryString(file);\n    }\n\n    readAllFiles() {\n        for (let fileToRead of this.state.filesToSendAttributes) {\n            this.readFileAndAddItToFilesToSend(fileToRead, this);\n        }\n    }\n\n    sendAirFiles(self = this) {\n        billServerService.sendAIRFiles(this.state.filesToSendRead).then(response => self.showImportedFiles(response));\n    }\n\n    showImportedFiles(importedFiles) {\n        let importedFilesDiv = importedFiles.map(x => <div\n            key={x['ticketNumber']}>{x['ticketNumber'] + ' / ' + x['name']}</div>);\n        importedFilesDiv.unshift(<div\n            key=\"summary\">{importedFiles.length + ' tickets importés. Veuillez actualiser la page'}</div>);\n        this.setState({\n            fileSentResult: importedFilesDiv,\n        });\n    }\n\n    testAllFilesWereRead() {\n        if (!this.state.filesToSendAttributes.length) return 'Pas de fichier sélectionné';\n        let filesReadNames = this.state.filesToSendRead.map(x => x.name);\n        for (let fileInitialName of this.state.filesToSendAttributes.map(x => x.name)) {\n            if (!filesReadNames.includes(fileInitialName)) {\n                return 'En chargement';\n            }\n        }\n        return <button\n            onClick={() => this.handleSCBDatas(this.state.filesToSendRead[0].data)}>Aucune action pour le moment</button>;\n    }\n\n    handleSCBDatas(text) {\n        console.log(text);\n        let dataLines = text.split(/\\n|\\u21b5/);\n        let bankDataTableRows = [];\n        let dataTransactions = dataLines.map(line => {\n            let lineSplited = line.split(';');\n            bankDataTableRows.push(\n                <tr>\n                    {lineSplited.map((x, step) =>\n                        <td style={{border: '1px solid black'}} key={step}>{Utf8.decode(x)}</td>)\n                    }\n                </tr>,\n            );\n            return {\n                operationDate: lineSplited[0],\n                description: lineSplited[1],\n                debit: lineSplited[2],\n                credit: lineSplited[3],\n            };\n        });\n        this.setState({\n            bankDataRead: dataTransactions,\n            bankDataTableRowsToImport: bankDataTableRows,\n        });\n        console.log(dataTransactions);\n    }\n\n\n    parseFloatEcobank(valueToParse) {\n        try {\n            return parseFloat(JSON.parse(valueToParse).split(',').join('')).toLocaleString()\n        }\n        catch (e) {\n            return valueToParse\n        }\n    }\n\n    handleEcobankDatas(text) {\n        let dataLines = text.split(/\\n{1,2}/);\n        let bankDataTableRows = [];\n        let dataTransactions = dataLines.splice(10).map((line,step) => {\n            let lineSplited = line.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/).splice(2);\n            bankDataTableRows.push(\n                <tr key={step}>\n                    {lineSplited.map((x, step) =>\n                        <td style={{border: '1px solid black'}} key={step}>{this.parseFloatEcobank(x)}</td>)\n                    }\n                </tr>,\n            );\n            console.log(lineSplited,  this.parseFloatEcobank(lineSplited[4]));\n\n            return {\n                operationDate: lineSplited[0],\n                valueDate: lineSplited[1],\n                reference: lineSplited[2],\n                description: lineSplited[3],\n                debit: this.parseFloatEcobank(lineSplited[4]),\n                credit: this.parseFloatEcobank(lineSplited[5]),\n                accountValue: this.parseFloatEcobank(lineSplited[6]),\n            };\n        });\n        this.setState({\n            bankDataRead: dataTransactions,\n            bankDataTableRowsToImport: bankDataTableRows,\n        });\n        console.log(dataTransactions);\n    }\n\n    render() {\n        return <div>\n            <div>Importation des donnees bank</div>\n            <br/>\n            <div>Veuillez sélectionner le fichier à importer</div>\n            <br/>\n            <div>\n                <input name=\"filesToUpload[]\" id=\"filesToUpload\" onChange={(e) => this.handleFileToSendChange(e)}\n                       type=\"file\" multiple/>\n            </div>\n            <div>{this.testAllFilesWereRead()}</div>\n            <br/>\n            <div>{this.state.fileSentResult}</div>\n            <table>\n                <tbody>\n                {this.state.bankDataTableRowsToImport}\n                </tbody>\n            </table>\n        </div>;\n    }\n\n}\n\n\nconst dataRead = 'date d\\'opÃ©ration;LIBELLE;DEBIT;CREDIT↵22-10-2018;APPEL D\\'ÃCHÃANCE;2 553 011 *;↵19-10-2018;VIREMENT SYGMA REÃU ;;4 579 895↵19-10-2018;APPEL D\\'ÃCHÃANCE   139947 ;1 495 950;↵17-10-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 231346 REF  DO : ACH ;;894 000↵17-10-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368944;13 800 000;↵16-10-2018;APPEL D\\'ÃCHÃANCE   139948 ;248 325;↵16-10-2018;ANNUL.N/ECRIT. DU 17/08/2018 ;;880 209↵16-10-2018;APPEL D\\'ÃCHÃANCE   134640 ;419 025;↵15-10-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 231141 REF  DO : GEN ;;5 668 280↵15-10-2018;APPEL D\\'ÃCHÃANCE   139947 ;10 258;↵15-10-2018;APPEL D\\'ÃCHÃANCE   139948 ;1 041;↵15-10-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 231139 REF  DO : ACH ;;6 176 565↵12-10-2018;DÃBLOCAGE AUTOMATIQU   139948 ;;248 325↵12-10-2018;DÃBLOCAGE AUTOMATIQU   139947 ;;1 495 950↵11-10-2018;VERSEMENT DEPLACE DE MAFEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;4 350 000↵11-10-2018;APPEL D\\'ÃCHÃANCE   138134 ;1 312 781;↵08-10-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 230833 REF  DO : AFV ;;1 044 690↵08-10-2018;SORT DE CHEQUE  2298048 ;;195 000↵08-10-2018;SORT DE CHEQUE  2298048 ;179;↵05-10-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;1 460 000↵04-10-2018;APPEL D\\'ÃCHÃANCE   134637 ;1 965 000;↵03-10-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;900 000↵03-10-2018;APPEL D\\'ÃCHÃANCE   138972 ;3 632;↵03-10-2018;APPEL D\\'ÃCHÃANCE   138973 ;6 732;↵03-10-2018;APPEL D\\'ÃCHÃANCE   138974 ;1 956;↵02-10-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 230119 REF  DO : ACH ;;679 200↵02-10-2018;DÃBLOCAGE AUTOMATIQU   138972 ;;317 640↵02-10-2018;DÃBLOCAGE AUTOMATIQU   138973 ;;477 604↵02-10-2018;DÃBLOCAGE AUTOMATIQU   138974 ;;171 300↵02-10-2018;SORT DE CHEQUE  3487399 ;;375 000↵02-10-2018;SORT DE CHEQUE  3487399 ;179;↵02-10-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368919;22 500 000;↵01-10-2018;VIREMENT SYGMA REÃU ;;12 276 665↵01-10-2018;APPEL D\\'ÃCHÃANCE   132697 ;1 874 760;↵01-10-2018;COMMISSION CAUTION    20244 ;88 696;↵28-09-2018;MNT TOTAL RETOUR AU 30/09/18 ;4 646;↵28-09-2018;FACTURATION PDL ;6 440;↵28-09-2018;COMISSION DE DEPASSEMENT ;23 850;↵28-09-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 229818 REF  DO : GEN ;;3 695 825↵28-09-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 229857 REF  DO : ACH ;;4 193 195↵28-09-2018;FRAIS FIXE AU 30/09/18 ;14 310;↵28-09-2018;COMMISSION DE CPTE AU 30/09/18 ;10 025;↵28-09-2018;COMM. DE DECOUVERT AU 30/09/18 ;11 250;↵28-09-2018;INTERETS DEBITEURS AU 30/09/18 ;136 286;↵27-09-2018;APPEL D\\'ÃCHÃANCE   138350 ;256 344;↵27-09-2018;APPEL D\\'ÃCHÃANCE   132710 ;3 649 496;↵27-09-2018;APPEL D\\'ÃCHÃANCE   138134 ;8 501;↵27-09-2018;APPEL D\\'ÃCHÃANCE   138135 ;25 286;↵26-09-2018;DÃBLOCAGE AUTOMATIQU   138350 ;;11 405 591↵26-09-2018;RECOUVREMENT IMPAYÃS   130725 ;3 490 651;↵26-09-2018;RECOUVREMENT IMPAYÃS   132708 ;1 332 334;↵26-09-2018;RECOUVREMENT IMPAYÃS   134586 ;1 118 850;↵26-09-2018;DÃBLOCAGE AUTOMATIQU   138134 ;;1 312 781↵26-09-2018;DÃBLOCAGE AUTOMATIQU   138135 ;;2 553 011↵25-09-2018;SORT DE CHEQUE  2298033 ;179;↵25-09-2018;RECOUVREMENT IMPAYÃS   132708 ;232 421;↵25-09-2018;SORT DE CHEQUE  2298033 ;;232 600↵24-09-2018;RECOUVREMENT IMPAYÃS   130725 ;4 083 125;↵21-09-2018;SORT DE CHEQUE  2689238 ;179;↵21-09-2018;APPEL D\\'ÃCHÃANCE   132714 ;1 103 325;↵21-09-2018;APPEL D\\'ÃCHÃANCE   132720 ;599 325;↵21-09-2018;SORT DE CHEQUE  2689238 ;;131 200↵18-09-2018;VIREMENT SYGMA REÃU ;;5 647 765↵17-09-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368840;9 170 000;↵06-09-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;1 300 000↵05-09-2018;ForÃ§age ChÃ¨que payÃ© nÂ° 8368839 ;5 963;↵03-09-2018;APPEL D\\'ÃCHÃANCE   134586 ;10 656;↵03-09-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 226634 REF  DO : ;;3 376 170↵03-09-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368943;16 690 000;↵03-09-2018;APPEL D\\'ÃCHÃANCE   134642 ;14 007;↵03-09-2018;APPEL D\\'ÃCHÃANCE   134640 ;7 342;↵03-09-2018;APPEL D\\'ÃCHÃANCE   134637 ;25 451;↵31-08-2018;SORT DE CHEQUE  7426280 ;179;↵31-08-2018;DÃBLOCAGE AUTOMATIQU   134586 ;;1 118 850↵31-08-2018;DÃBLOCAGE AUTOMATIQU   134637 ;;1 965 000↵31-08-2018;DÃBLOCAGE AUTOMATIQU   134640 ;;419 025↵31-08-2018;DÃBLOCAGE AUTOMATIQU   134642 ;;693 784↵31-08-2018;SORT DE CHEQUE  7426280 ;;425 550↵30-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 225777 REF  DO : ;;98 270↵27-08-2018;VERSEMENT DEPLACE DE MAPREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;1 600 000↵24-08-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;1 200 000↵24-08-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;1 400 000↵23-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 224760 REF  DO : ACH ;;3 121 725↵23-08-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;2 000 000↵22-08-2018;FRAIS/REMISE DE CHEQUE ;179;↵22-08-2018;RC S/CAISSES   117140 ;;207 500↵20-08-2018;APPEL D\\'ÃCHÃANCE   130717 ;453 487;↵17-08-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368918;16 500 000;↵17-08-2018;APPEL D\\'ÃCHÃANCE   132697 ;32 852;↵17-08-2018;APPEL D\\'ÃCHÃANCE   132701 ;3 614;↵17-08-2018;APPEL D\\'ÃCHÃANCE   132708 ;23 843;↵17-08-2018;APPEL D\\'ÃCHÃANCE   132710 ;58 390;↵17-08-2018;APPEL D\\'ÃCHÃANCE   132714 ;15 131;↵17-08-2018;APPEL D\\'ÃCHÃANCE   132720 ;8 219;↵17-08-2018;COMMISSION CAUTION    20244 ;880 209;↵16-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 224303 REF  DO : ACH ;;518 500↵16-08-2018;DÃBLOCAGE AUTOMATIQU   132697 ;;1 874 760↵16-08-2018;DÃBLOCAGE AUTOMATIQU   132701 ;;327 075↵16-08-2018;DÃBLOCAGE AUTOMATIQU   132708 ;;1 564 755↵16-08-2018;DÃBLOCAGE AUTOMATIQU   132710 ;;3 649 496↵16-08-2018;DÃBLOCAGE AUTOMATIQU   132714 ;;1 103 325↵16-08-2018;DÃBLOCAGE AUTOMATIQU   132720 ;;599 325↵14-08-2018;CHEQUE PAYE N  8368942 8368942 BENEFICIAIRE;1 600 000;↵14-08-2018;SORT DE CHEQUE  2288639 ;;750 500↵14-08-2018;SORT DE CHEQUE  3487398 ;;85 600↵14-08-2018;SORT DE CHEQUE  2288639 ;179;↵14-08-2018;SORT DE CHEQUE  3487398 ;179;↵13-08-2018;APPEL D\\'ÃCHÃANCE   130667 ;2 483 138;↵10-08-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;2 000 000↵09-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 223639 REF  DO : ACH ;;2 499 680↵09-08-2018;RÃGUL. PDTS D\\'AVANCE   130651 ;;21 039↵09-08-2018;RÃGUL. PDTS D\\'AVANCE   130654 ;;10 513↵09-08-2018;RÃGUL. PDTS D\\'AVANCE   130660 ;;72 682↵09-08-2018;RÃGUL. PDTS D\\'AVANCE   130720 ;;3 660↵09-08-2018;RÃGUL. PDTS D\\'AVANCE   130721 ;;398↵09-08-2018;RÃGUL. PDTS D\\'AVANCE   130724 ;;55 658↵08-08-2018;TOMBÃE/RÃECHELONNEME   130660 ;49 463;↵08-08-2018;APPEL D\\'ÃCHÃANCE   130651 ;1 904 550;↵08-08-2018;APPEL D\\'ÃCHÃANCE   130654 ;1 623 438;↵08-08-2018;APPEL D\\'ÃCHÃANCE   130660 ;4 892 250;↵08-08-2018;APPEL D\\'ÃCHÃANCE   130720 ;873 390;↵08-08-2018;APPEL D\\'ÃCHÃANCE   130721 ;348 675;↵08-08-2018;APPEL D\\'ÃCHÃANCE   130724 ;5 038 286;↵08-08-2018;TOMBÃE/RÃECHELONNEME   130721 ;1 247;↵08-08-2018;TOMBÃE/RÃECHELONNEME   130720 ;6 364;↵08-08-2018;TOMBÃE/RÃECHELONNEME   130654 ;13 713;↵08-08-2018;TOMBÃE/RÃECHELONNEME   130651 ;18 295;↵08-08-2018;TOMBÃE/RÃECHELONNEME   130724 ;48 399;↵07-08-2018;FRAIS/REMISE DE CHEQUE ;179;↵07-08-2018;SORT DE CHEQUE  3846186 ;;818 300↵07-08-2018;SORT DE CHEQUE  3487397 ;;381 100↵07-08-2018;SORT DE CHEQUE  3846186 ;179;↵07-08-2018;SORT DE CHEQUE  3487397 ;179;↵07-08-2018;RC S/CAISSES   112266 ;;847 200↵06-08-2018;APPEL D\\'ÃCHÃANCE   130725 ;152 912;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130651 ;26 118;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130654 ;14 842;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130660 ;85 727;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130667 ;10 406;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130717 ;3 110;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130720 ;5 989;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130721 ;1 327;↵06-08-2018;APPEL D\\'ÃCHÃANCE   130724 ;69 093;↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130651 ;;1 904 550↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130654 ;;1 623 438↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130660 ;;4 892 250↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130667 ;;2 483 138↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130717 ;;453 487↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130720 ;;873 390↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130721 ;;348 675↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130724 ;;5 038 286↵03-08-2018;DÃBLOCAGE AUTOMATIQU   130725 ;;7 573 776↵03-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 223006 REF  DO : GEB ;;12 983 988↵02-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 222898 REF  DO : GEN ;;47 540↵02-08-2018;RC S/CAISSES   110283 ;;600 000↵02-08-2018;FRAIS/REMISE DE CHEQUE ;179;↵02-08-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368941;25 000 000;↵01-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 222792 REF  DO : GEN ;;1 322 610↵01-08-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 222732 REF  DO : ACH ;;6 523 000↵31-07-2018;APPEL D\\'ÃCHÃANCE   127768 ;7 224 915;↵31-07-2018;APPEL D\\'ÃCHÃANCE   127763 ;1 904 550;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126724 ;348 675;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126723 ;873 390;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126721 ;1 623 438;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126719 ;453 487;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126713 ;382 515;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126125 ;2 483 138;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126092 ;599 138;↵31-07-2018;APPEL D\\'ÃCHÃANCE   126090 ;583 999;↵30-07-2018;RAPATRIEMENT OUR 18007518 DE LA PART DE AFRICAN DEVELOPMENT ;;605 665↵27-07-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;1 600 000↵27-07-2018;ABONNEMENT E-BANK ;17 888;↵27-07-2018;VIREMENT REÃU COMPEN agence bonapriso REF BANQUE : 221947 REF  DO : ;;2 651 820↵26-07-2018;VERSEMENT DEPLACE DE AGENCE FRANCAISE DE VOYAGES AGENCE DE ;;530 000↵26-07-2018;CHEQUE PAYE N  8368917 8368917 BENEFICIAIRE;630 000;↵25-07-2018;RÃGUL. PDTS D\\'AVANCE   126718 ;;3 320↵25-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 221308 REF  DO : GEN ;;1 204 110↵25-07-2018;VIREMENT REÃU COMPEN CITIBANK N.A. LIBREVILLE REF BANQUE : 221255 ;;685 500↵25-07-2018;RÃGUL. PDTS D\\'AVANCE   126099 ;;21 594↵25-07-2018;RÃGUL. PDTS D\\'AVANCE   126089 ;;7 266↵24-07-2018;VIREMENT REÃU COMPEN AGENCE CENTRALE REF BANQUE : 221050 REF  DO : ;;490 000↵24-07-2018;APPEL D\\'ÃCHÃANCE   126099 ;8 097 879;↵24-07-2018;APPEL D\\'ÃCHÃANCE   126089 ;2 724 975;↵24-07-2018;APPEL D\\'ÃCHÃANCE   126718 ;1 244 977;↵24-07-2018;TOMBÃE/RÃECHELONNEME   126099 ;14 383;↵24-07-2018;TOMBÃE/RÃECHELONNEME   126089 ;4 839;↵24-07-2018;TOMBÃE/RÃECHELONNEME   126718 ;3 247;↵23-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 220753 REF  DO : GEN ;;510 020↵23-07-2018;APPEL D\\'ÃCHÃANCE   126024 ;1 336 853;↵23-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 220811 REF  DO : GEN ;;10 908 875↵23-07-2018;VERSEMENT DEPLACE DE MAPEREM NICOLE AGENCE DE VERSEMENT NÂ° 00001 ;;1 000 000↵18-07-2018;SORT DE CHEQUE  9740905 ;;204 800↵18-07-2018;SORT DE CHEQUE  3487396 ;179;↵18-07-2018;SORT DE CHEQUE  9740905 ;179;↵18-07-2018;SORT DE CHEQUE  3487396 ;;569 300↵17-07-2018;RÃGUL. PDTS D\\'AVANCE   126097 ;;3 579↵17-07-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368916;25 530 000;↵17-07-2018;APPEL D\\'ÃCHÃANCE   127768 ;41 285;↵17-07-2018;APPEL D\\'ÃCHÃANCE   127763 ;10 883;↵17-07-2018;SORT DE CHEQUE  2325060 ;179;↵17-07-2018;SORT DE CHEQUE  7587428 ;179;↵17-07-2018;VIREMENT REÃU COMPEN Agence AbÃ©chÃ© REF BANQUE : 220307 REF  DO : ;;9 193 700↵17-07-2018;SORT DE CHEQUE  7587428 ;;1 365 200↵17-07-2018;SORT DE CHEQUE  2325060 ;;198 800↵16-07-2018;SORT DE CHEQUE  4401850 ;;680 000↵16-07-2018;APPEL D\\'ÃCHÃANCE   126023 ;997 133;↵16-07-2018;APPEL D\\'ÃCHÃANCE   126097 ;626 475;↵16-07-2018;TOMBÃE/RÃECHELONNEME   126097 ;2 384;↵16-07-2018;SORT DE CHEQUE  4418679 ;179;↵16-07-2018;SORT DE CHEQUE  4418680 ;179;↵16-07-2018;SORT DE CHEQUE  4401850 ;179;↵16-07-2018;DÃBLOCAGE AUTOMATIQU   127768 ;;7 224 915↵16-07-2018;DÃBLOCAGE AUTOMATIQU   127763 ;;1 904 550↵16-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 220174 REF  DO : ;;1 527 040↵16-07-2018;SORT DE CHEQUE  4418680 ;;1 160 100↵16-07-2018;SORT DE CHEQUE  4418679 ;;872 500↵13-07-2018;VERSEMENT DEPLACE DE MOHAMADOU  ABARAN AGENCE DE VERSEMENT NÂ° ;;150 000↵13-07-2018;CHEQUE PAYE N  8368912 8368912 BENEFICIAIRE;3 236 052;↵13-07-2018;VIREMENT REÃU COMPEN Agence AbÃ©chÃ© REF BANQUE : 220094 REF  DO : PMT ;;1 574 100↵12-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 220035 REF  DO : ;;2 115 860↵11-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 219982 REF  DO : ;;5 235 085↵11-07-2018;APPEL D\\'ÃCHÃANCE   124457 ;1 962 735;↵11-07-2018;APPEL D\\'ÃCHÃANCE   124456 ;1 515 750;↵11-07-2018;APPEL D\\'ÃCHÃANCE   124461 ;465 600;↵10-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 219866 REF  DO : ;;1 262 155↵09-07-2018;ForÃ§age Retrait espÃ¨ces ;5 963;↵09-07-2018;APPEL D\\'ÃCHÃANCE   124455 ;1 697 325;↵09-07-2018;APPEL D\\'ÃCHÃANCE   124459 ;686 100;↵06-07-2018;VIREMENT REÃU COMPEN Agence Douala REF BANQUE : 219507 REF  DO : ;;3 090 375↵06-07-2018;SORT DE CHEQUE  7986004 ;5 963;↵06-07-2018;FRAIS DE PDL SUR IMP     5279 ;835;↵05-07-2018;APPEL D\\'ÃCHÃANCE   124458 ;1 230 577;↵02-07-2018;VIREMENT REÃU COMPEN Agence AbÃ©chÃ© REF BANQUE : 218902 REF  DO : ;;11 164 485↵02-07-2018;RETRAIT ESPECES CHQ CLIENT DEP Num 8368928;27 000 000;↵02-07-2018;CHEQUE PAYE N  8368911 8368911 BENEFICIAIRE;142 459;↵02-07-2018;APPEL D\\'ÃCHÃANCE   126721 ;19 790;↵02-07-2018;APPEL D\\'ÃCHÃANCE   126718 ;15 175;↵02-07-2018;APPEL D\\'ÃCHÃANCE   126723 ;10 646;↵02-07-2018;APPEL D\\'ÃCHÃANCE   126719 ;5 528;↵02-07-2018;APPEL D\\'ÃCHÃANCE   126713 ;4 663;↵02-07-2018;APPEL D\\'ÃCHÃANCE   126724 ;4 250;↵29-06-2018;RÃGUL. PDTS D\\'AVANCE   124501 ;;1 141↵29-06-2018;INTERETS DEBITEURS AU 30/06/18 ;91 738;↵29-06-2018;COMMISSION DE CPTE AU 30/06/18 ;20 812;↵29-06-2018;FRAIS FIXE AU 30/06/18 ;14 310;↵29-06-2018;COMM. DE DECOUVERT AU 30/06/18 ;8 491;↵29-06-2018;FACTURATION PDL ;6 440;↵29-06-2018;MNT TOTAL RETOUR AU 30/06/18 ;6;↵29-06-2018;DÃBLOCAGE AUTOMATIQU   126721 ;;1 623 438↵29-06-2018;DÃBLOCAGE AUTOMATIQU   126718 ;;1 244 977↵29-06-2018;DÃBLOCAGE AUTOMATIQU   126723 ;;873 390↵29-06-2018;DÃBLOCAGE AUTOMATIQU   126719 ;;453 487↵29-06-2018;DÃBLOCAGE AUTOMATIQU   126713 ;;382 515↵29-06-2018;DÃBLOCAGE AUTOMATIQU   126724 ;;348 675↵29-06-2018;VIREMENT SYGMA REÃU ;;144 000↵28-06-2018;VIREMENT REÃU COMPEN Agence AbÃ©chÃ© REF BANQUE : 218244 REF  DO : ;;10 327 405↵28-06-2018;APPEL D\\'ÃCHÃANCE   124501 ;599 137;↵28-06-2018;PACK SCB PPACK SCB PROFESSIONN ;9 540;↵25-06-2018;APPEL D\\'ÃCHÃANCE   123534 ;2 325 900;↵';","import React, { Component } from 'react';\nimport './App.css';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { AirReaderModal } from './air_reader_modal/air_reader_modal';\nimport { billServerService } from './server_classes/serverData';\nimport { CustomersComponent } from './add_customer_account/customersComponent';\nimport { StatesByDate } from './states_by_date/states_by_date';\nimport { CreditNoteView } from './credit_note/CreditNoteView';\n\nimport { Route } from 'react-router-dom';\nimport { TicketView } from './ticket-validation/TicketView';\nimport { getToken, removeToken, setLoggedIn, userLogged$ } from './server_classes/axiosInstance';\nimport { ImportAIRComponent } from './import_tickets/ImportAIRComponent';\nimport { TestComponent } from './useful_functions/TestComponent';\nimport { BOComponent } from './useful_functions/BOComponent';\nimport { StatesComponent } from './states_by_date/statesComponent';\nimport AirReaderAppBar from './components/app_bar/AirReaderAppBar';\nimport ConnexionDialog from './Dialogs/ConnexionDialog';\nimport MessageSnackBar from './Dialogs/MessageSnackBar';\nimport { ServerService } from './server_classes/ServerService';\nimport { ACCOUNTS_PATH } from './server_classes/SERVER_CONST';\nimport { ControlComponent } from './control_component/ControlComponent';\nimport AirReaderMenuList from './components/app_bar/AirReaderMenuList';\nimport { DashBoardView } from './components/dashboard/dashboardView';\nimport { ImportBankData } from './components/bank/ImportBankData';\n\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            allAccount: [],\n            allTickets: [],\n            inputValue: 'lol',\n            modalVisibility: false,\n            modalComponent: '',\n            loggedIn: true,\n            ticketStatus: '',\n            accountStatus: '',\n            connexionDialogOpen: false,\n        };\n        userLogged$.subscribe(\n            loggedIn => {\n                this.setLoggedIn(loggedIn);\n                console.log('that\\'s it');\n            });\n    }\n\n    componentDidMount() {\n        this.getAllAccounts(this);\n        this.getAllTickets(this);\n        this.setDecodedToken();\n    }\n\n    setDecodedToken() {\n        let token = getToken();\n        if (!getToken() || getToken().length < 1) return;\n        this.setState({\n            decodedToken: JSON.parse(window.atob(token.split('.')[1])),\n        });\n    }\n\n    setLoggedIn(isLoggedInBool) {\n        this.setState({\n            loggedIn: isLoggedInBool,\n        });\n        this.setConnexionDialogOpen(!isLoggedInBool);\n        if (isLoggedInBool) {\n            this.componentDidMount();\n        }\n        console.log('loggedIn : ', this.state.loggedIn);\n    }\n\n    logOutFromApp() {\n        removeToken();\n        setLoggedIn(false);\n        this.setLoggedIn(false);\n        this.setState({\n            allAccount: [],\n            allTickets: [],\n        });\n        this.resetStatus();\n    }\n\n    getAllAccounts(self) {\n        this.setState({\n            accountStatus: 'Comptes en cours de chargement',\n        });\n        // billServerService.getAllAccounts()\n        ServerService.getFromServer(ACCOUNTS_PATH)\n                     .then(function (response) {\n                         console.log(response.length, ' comptes disponibles');\n                         if (!response) {\n\n                         }\n                         self.setState({\n                             allAccount: response,\n                             accountStatus: response.length + ' comptes chargés',\n                         });\n                         // return response.json();\n                     })\n                     .catch(error => {\n                         self.setState({\n                             accountStatus: 'Erreur chargement comptes',\n                         });\n                     });\n    }\n\n    getAllTickets(self) {\n        this.setState({\n            ticketStatus: 'Tickets en cours de chargement',\n        });\n        billServerService.getAllTickets()\n                         .then(function (response) {\n                             let jsonResponse = response;\n                             console.log(response.length, ' tickets créés');\n\n                             if (!response) return;\n                             self.setState({\n                                 allTickets: jsonResponse,\n                                 ticketList: jsonResponse.filter(x => x['checked'] !== true),\n                                 ticketStatus: response.length + ' tickets chargés',\n                             });\n                         }).catch(error => {\n                self.setState({\n                    ticketStatus: 'Erreur chargement tickets',\n                });\n            },\n        );\n    }\n\n    updateTicket(ticket) {\n        let newTicketList = cloneDeep(this.state.allTickets);\n        let ticketIndex = newTicketList.findIndex(x => x['_id'] === ticket['_id']);\n        newTicketList[ticketIndex] = ticket;\n        this.setState({\n            allTickets: newTicketList,\n        });\n    }\n\n    addTicket(ticketToAdd) {\n        this.setState({\n            allTickets: this.state.allTickets.concat([ticketToAdd]),\n        });\n    }\n\n\n    addNewAccount(accountToAdd) {\n        let newAccountList = cloneDeep(this.state.allAccount);\n        newAccountList.push(accountToAdd);\n        this.setState({\n            allAccount: newAccountList,\n        });\n        console.log('ticket updated', newAccountList, accountToAdd);\n    }\n\n    updateAccount(accountModified) {\n        let newAccountList = cloneDeep(this.state.allAccount);\n        let accountIndex = newAccountList.findIndex(x => x['_id'] === accountModified['_id']);\n        newAccountList[accountIndex] = accountModified;\n        this.setState({\n            allAccount: newAccountList,\n        });\n    }\n\n\n    deleteAccount(accountDeleted) {\n        let newAccountList = cloneDeep(this.state.allAccount);\n        let accountIndex = newAccountList.findIndex(x => x['_id'] === accountDeleted['_id']);\n        newAccountList.splice(accountIndex, 1);\n        this.setState({\n            allAccount: newAccountList,\n        });\n    }\n\n    setModalVisibility(visibility, compToShow) {\n        if (this.state.modalVisibility !== visibility || visibility) {\n            this.setState({\n                modalVisibility: visibility,\n            });\n        }\n        if (compToShow) {\n\n            this.setState({\n                modalComponent: compToShow,\n            });\n        }\n    }\n\n\n    resetStatus() {\n        setTimeout(() => {\n            this.setState({\n                ticketStatus: this.state.allTickets.length + ' tickets chargés',\n                accountStatus: this.state.allAccount.length + ' comptes chargés',\n            });\n        }, 100);\n    }\n\n    getStatusTextDiv() {\n        return <div className=\"flex-1-1\">{\n            [this.state.ticketStatus, this.state.accountStatus].map((x, step) =>\n                <div key={step}>{x}</div>)\n        }\n        </div>;\n    }\n\n    getLogInDiv() {\n        return this.state.loggedIn ?\n            <div>\n                <div>{this.state.decodedToken ? this.state.decodedToken.name : ''}</div>\n                <div onClick={() => this.logOutFromApp()}>Se déconnecter</div>\n            </div> :\n            <div>\n                <div><strong>Non connecté</strong></div>\n                <div onClick={() => this.setLoggedIn(false)}>Se connecter</div>\n            </div>;\n    }\n\n    setConnexionDialogOpen(bool) {\n        this.setState({connexionDialogOpen: bool});\n    }\n\n    render() {\n        console.log(process.env.REACT_APP_BASE_URL);\n        return (\n            <div className=\"App main-container\">\n                <AirReaderAppBar className=\"sticky-top-0\" logInDiv={this.getLogInDiv()}\n                                 statusDiv={this.getStatusTextDiv()}/>\n\n                <div className=\"flex-container \" style={{marginTop: '64px'}}>\n                    <div>\n                        <AirReaderMenuList/>\n                    </div>\n                    <div style={{overflowX: 'auto', marginTop: '20px'}} className=\"flex-1-1\">\n\n                        <Route path=\"/tickets\" render={() =>\n                            <TicketView\n                                allAccount={this.state.allAccount}\n                                allTickets={this.state.allTickets}\n                                updateTicket={(x) => this.updateTicket(x)}\n                                addTicket={(ticketToAdd) => this.addTicket(ticketToAdd)}/>\n                        }/>\n                        <Route path=\"/accounts\" render={() =>\n                            <CustomersComponent allAccount={this.state.allAccount}\n                                                addNewAccount={(newAccount) => this.addNewAccount(newAccount)}\n                                                updateAccount={(accountUpdated) => this.updateAccount(accountUpdated)}\n                                                deleteAccount={(accountDeleted) => this.deleteAccount(accountDeleted)}/>\n                        }/>\n                        <Route path=\"/credit_notes\" render={() =>\n                            <CreditNoteView\n                                allAccount={this.state.allAccount}\n                                allTickets={this.state.allTickets}\n                                updateTicket={(x) => this.updateTicket(x)}\n                            />\n                        }/>\n                        <Route path=\"/creditNote\" render={() =>\n                            <CustomersComponent allAccount={this.state.allAccount}\n                                                addNewAccount={(newAccount) => this.addNewAccount(newAccount)}\n                                                updateAccount={(accountUpdated) => this.updateAccount(accountUpdated)}\n                                                deleteAccount={(accountDeleted) => this.deleteAccount(accountDeleted)}/>\n                        }/>\n\n                        <Route path=\"/states\" render={() =>\n                            <StatesByDate\n                                allAccount={this.state.allAccount}\n                                allTickets={this.state.allTickets}\n                            />}\n                        />\n                        <Route path=\"/import\" render={() =>\n                            <ImportAIRComponent\n                                allAccount={this.state.allAccount}\n                                allTickets={this.state.allTickets}\n                            />}\n                        />\n                        <Route path=\"/test\" render={() =>\n                            <TestComponent\n                                allAccount={this.state.allAccount}\n                                allTickets={this.state.allTickets}\n                            />}\n                        />\n                        <Route path=\"/superDataTable\" render={() =>\n                            <StatesComponent\n                                allAccount={this.state.allAccount}\n                                allTickets={this.state.allTickets}/>\n                        }\n                        />\n                        <Route path=\"/boComponent\" render={() =>\n                            <BOComponent\n                                // allAccount={this.state.allAccount}\n                                // dataToShow={this.state.allTickets}\n                                dataToShow={recentCreditNotes}\n                            />}\n                        />\n                        <Route path=\"/controlComponent\" render={() =>\n                            <ControlComponent\n                                // allAccount={this.state.allAccount}\n                                // dataToShow={this.state.allTickets}\n                                allAccount={this.state.allAccount}\n                            />}\n                        />\n                        <Route path=\"/dashboard\"\n                               render={() =>\n                            <DashBoardView/>\n                        }\n                        />\n                        <Route path=\"/bank\"\n                               render={() =>\n                            <ImportBankData/>\n                        }\n                        />\n\n\n                    </div>\n                </div>\n\n\n                <AirReaderModal visible={this.state.modalVisibility}\n                                onOutsideClick={() => this.setModalVisibility(false, '')}>\n                    {this.state.modalComponent}\n                </AirReaderModal>\n\n                <ConnexionDialog connexionDialogOpen={this.state.connexionDialogOpen}\n                                 handleClose={() => this.setConnexionDialogOpen(false)}\n                />\n\n                <MessageSnackBar/>\n\n            </div>\n        );\n    }\n}\n\nexport default App;\n\n\nconst recentCreditNotes = [{\n    '_id': '5b54e6b6866725996695fa0f',\n    'billNumber': 'AFV/18/000331AB',\n    'credit_notes': [['5b50c5ad86672575f9a872d8', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290742811.237,\n    'canceled': true,\n}, {\n    '_id': '5b54e21b866725996695fa05',\n    'billNumber': 'AFV/18/000326AB',\n    'credit_notes': [['5b50c5ad86672575f9a872d8', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532289563859.993,\n    'canceled': true,\n}, {\n    '_id': '5b54e6bd866725996695fa10',\n    'billNumber': 'AFV/18/000332AB',\n    'credit_notes': [['5b50c59c86672575f9a872d7', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290749941.276,\n    'canceled': true,\n}, {\n    '_id': '5b54e4ca866725996695fa0c',\n    'billNumber': 'AFV/18/000330AB',\n    'credit_notes': [['5b50c59c86672575f9a872d7', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290250288.141,\n    'canceled': true,\n}, {\n    '_id': '5b54e71e866725996695fa13',\n    'billNumber': 'AFV/18/000333AB',\n    'credit_notes': [['5b54e6df866725996695fa12', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290846119.843,\n    'canceled': true,\n}, {\n    '_id': '5b54e774866725996695fa15',\n    'billNumber': 'AFV/18/000335AB',\n    'credit_notes': [['5b54e6df866725996695fa12', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290932496.048,\n    'canceled': true,\n}, {\n    '_id': '5b54e725866725996695fa14',\n    'billNumber': 'AFV/18/000334AB',\n    'credit_notes': [['5b54e6df866725996695fa12', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290853774.116,\n    'canceled': true,\n}, {\n    '_id': '5b54e84d866725996695fa17',\n    'billNumber': 'AFV/18/000337AB',\n    'credit_notes': [['5b4e6a928667253d8ae62cb7', 301797]],\n    'customerId': '5b35ee5a4f801633c5651028',\n    'customerAccount': 'ICRC',\n    'totalBilled': 301797,\n    'creationDate': 1532291149996.986,\n    'canceled': true,\n}, {\n    '_id': '5b54e800866725996695fa16',\n    'billNumber': 'AFV/18/000336AB',\n    'credit_notes': [['5b50c59c86672575f9a872d7', 592200], ['5b50c5ad86672575f9a872d8', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 1184400,\n    'creationDate': 1532291072864.5789,\n    'canceled': true,\n}, {\n    '_id': '5b54e0f2866725996695fa03',\n    'billNumber': 'AFV/18/000325AB',\n    'credit_notes': [['5b50c59c86672575f9a872d7', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532289266251.4438,\n    'canceled': true,\n}, {\n    '_id': '5b54e4c4866725996695fa0b',\n    'billNumber': 'AFV/18/000329AB',\n    'credit_notes': [['5b50c5ad86672575f9a872d8', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290244382.1519,\n    'canceled': true,\n}, {\n    '_id': '5b54e8b3866725996695fa1b',\n    'billNumber': 'AFV/18/000338AB',\n    'credit_notes': [['5b50c59c86672575f9a872d7', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532291251783.4639,\n    'canceled': true,\n}, {\n    '_id': '5b55acbe866725aff26d5eb3',\n    'billNumber': 'AFV/18/000344AB',\n    'credit_notes': [['5b55ab6e866725aff26d5eb2', 299200]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 299200,\n    'creationDate': 1532341438673.8647,\n    'canceled': true,\n}, {\n    '_id': '5b55a626866725aff26d5eb1',\n    'billNumber': 'AFV/18/000342AB',\n    'credit_notes': [['5b50c5ad86672575f9a872d8', 592200], ['5b50c59c86672575f9a872d7', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 1184400,\n    'creationDate': 1532339750123.447,\n    'canceled': true,\n}, {\n    '_id': '5b55b17a866725aff26d5eb8',\n    'billNumber': 'AFV/18/000348AB',\n    'credit_notes': [['5b559d16866725aead763aa7', 785608], ['5b55b056866725aff26d5eb6', 617920]],\n    'customerId': '5b35ee5a4f801633c5651028',\n    'customerAccount': 'ICRC',\n    'totalBilled': 1403528,\n    'creationDate': 1532342650875.0642,\n    'canceled': true,\n}, {\n    '_id': '5b55b258866725aff26d5ebf',\n    'billNumber': 'AFV/18/000351AB',\n    'credit_notes': [['5b559d16866725aead763aa7', 785608], ['5b55b056866725aff26d5eb6', 617920]],\n    'customerId': '5b35ee5a4f801633c5651028',\n    'customerAccount': 'ICRC',\n    'totalBilled': 1403528,\n    'creationDate': 1532342872760.459,\n    'canceled': true,\n}, {\n    '_id': '5b55b679866725b25b60bafd',\n    'billNumber': 'AFV/18/000352AB',\n    'credit_notes': [['5b559d16866725aead763aa7', 785608]],\n    'customerId': '5b35ee5a4f801633c5651028',\n    'customerAccount': 'ICRC',\n    'totalBilled': 785608,\n    'creationDate': 1532343929199.8247,\n}, {\n    '_id': '5b5609fc866725aff26d5ec3',\n    'billNumber': 'AFV/18/000357AB',\n    'credit_notes': [['5b55b06c866725aff26d5eb7', 123700], ['5b55b1b7866725aff26d5ebb', 433100]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 556800,\n    'creationDate': 1532365308008.2021,\n}, {\n    '_id': '5b58b487866725f461b36847',\n    'billNumber': 'AFV/18/000359AB',\n    'credit_notes': [['5b58b43e866725f461b36846', 6370]],\n    'customerId': '5b3b88c486672557efc48442',\n    'customerAccount': 'BUREAU REGIONAL DE LA BAD AU CAMEROUN',\n    'totalBilled': 6370,\n    'creationDate': 1532540039177.482,\n}, {\n    '_id': '5b55b1ce866725aff26d5ebc',\n    'billNumber': 'AFV/18/000350AB',\n    'credit_notes': [['5b559d16866725aead763aa7', 785608], ['5b55b056866725aff26d5eb6', 617920]],\n    'customerId': '5b35ee5a4f801633c5651028',\n    'customerAccount': 'ICRC',\n    'totalBilled': 1403528,\n    'creationDate': 1532342734484.099,\n    'canceled': true,\n}, {\n    '_id': '5b560878866725aff26d5ec2',\n    'billNumber': 'AFV/18/000356AB',\n    'credit_notes': [['5b55ab6e866725aff26d5eb2', 299200], ['5b55addc866725aff26d5eb5', 299200]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 598400,\n    'creationDate': 1532364920640.861,\n}, {\n    '_id': '5b54e315866725996695fa07',\n    'billNumber': 'AFV/18/000327AB',\n    'credit_notes': [['5b50c59c86672575f9a872d7', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532289813052.0142,\n    'canceled': true,\n}, {\n    '_id': '5b58ba27866725f461b36849',\n    'billNumber': 'AFV/18/000361AB',\n    'credit_notes': [['5b58b9e3866725f461b36848', 31700]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 31700,\n    'creationDate': 1532541479560.256,\n}, {\n    '_id': '5b54e42e866725996695fa09',\n    'billNumber': 'AFV/18/000328AB',\n    'credit_notes': [['5b50c5ad86672575f9a872d8', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 592200,\n    'creationDate': 1532290094476.22,\n    'canceled': true,\n}, {\n    '_id': '5b59d7bb64ace80009f5eeb5',\n    'billNumber': 'AFV/18/000365AB',\n    'credit_notes': [['5b55b056866725aff26d5eb6', 617920]],\n    'customerId': '5b35ee5a4f801633c5651028',\n    'customerAccount': 'ICRC',\n    'totalBilled': 617920,\n    'creationDate': 1532614587623.5454,\n    'canceled': true,\n}, {\n    '_id': '5b58beaa866725f461b3684c',\n    'billNumber': 'AFV/18/000364AB',\n    'credit_notes': [['5b58be0d866725f461b3684b', 545420], ['5b58be0d866725f461b3684b', 6370]],\n    'customerId': '5b3b88c486672557efc48442',\n    'customerAccount': 'BUREAU REGIONAL DE LA BAD AU CAMEROUN',\n    'totalBilled': 551790,\n    'creationDate': 1532542634962.2651,\n}, {\n    '_id': '5b5ed9cfd06f4700083bdc12',\n    'billNumber': 'AFV/18/000368AB',\n    'credit_notes': [['5b5ed8aad06f470009a8bb03', 592200], ['5b5ed982d06f4700083bdc11', 592200]],\n    'customerId': '5b48e1d5866725250c93d7d8',\n    'customerAccount': 'MEKIN ',\n    'totalBilled': 1184400,\n    'creationDate': 1532020124821.352,\n}, {\n    '_id': '5b5f322422fc6e0009e6d814',\n    'billNumber': 'AFV/18/000374AB',\n    'credit_notes': [['5b5f2f3e22fc6e0009e6d810', 405850], ['5b5f2fc022fc6e0009e6d811', 304900], ['5b5f300d22fc6e0009e6d812', 891950], ['5b5f308422fc6e000861baf7', 426800], ['5b5f30d822fc6e0009e6d813', 325700]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 2355200,\n    'creationDate': 1532965412578.9072,\n}, {\n    '_id': '5b5f3acc22fc6e000861bafc',\n    'billNumber': 'AFV/18/000381AB',\n    'credit_notes': [['5b5f39c122fc6e000861bafa', 303700]],\n    'customerId': '5b3b88c486672557efc48442',\n    'customerAccount': 'BUREAU REGIONAL DE LA BAD AU CAMEROUN',\n    'totalBilled': 303700,\n    'creationDate': 1532967628120.2737,\n}, {\n    '_id': '5b5f3a5f22fc6e0009e6d816',\n    'billNumber': 'AFV/18/000380AB',\n    'credit_notes': [['5b5f367722fc6e000861baf9', 325700]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 325700,\n    'creationDate': 1532967519435.9268,\n}, {\n    '_id': '5b5f39df22fc6e000861bafb',\n    'billNumber': 'AFV/18/000379AB',\n    'credit_notes': [['5b5f35ad22fc6e0009e6d815', 426800], ['5b5f360922fc6e000861baf8', 195700]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 622500,\n    'creationDate': 1532967391980.6714,\n}, {\n    '_id': '5b617e090dada900081311dc',\n    'billNumber': 'AFV/18/000383AB',\n    'credit_notes': [['5b617b850dada900081311da', 305100]],\n    'customerId': '5b3b87c986672557efc48441',\n    'customerAccount': 'BANQUE AFRICAINE DE DEVELOPPEMENT HDQ',\n    'totalBilled': 305100,\n    'creationDate': 1533115913221.525,\n}, {\n    '_id': '5b7e96919704670009281fae',\n    'billNumber': 'AFV/18/000385AB',\n    'credit_notes': [['5b7e966a9704670009281fad', 537100]],\n    'customerId': '5b3e346d8667256f5ebc5e3b',\n    'customerAccount': 'CLIENT OCCASIONNEL',\n    'totalBilled': 537100,\n    'creationDate': 1535022737219.5159,\n}, {\n    '_id': '5b8e38565f7f300008da9b49',\n    'billNumber': 'AFV/18/000389AB',\n    'credit_notes': [['5b8e35785f7f300008da9b47', 73855], ['5b8e35a35f7f3000093836f6', 73855], ['5b8e37fd5f7f300008da9b48', 291800]],\n    'customerId': '5b35ee5a4f801633c5651028',\n    'customerAccount': 'ICRC',\n    'totalBilled': 439510,\n    'creationDate': 1536047190752.1812,\n}];","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n    <Router basename=\"/webapp\">\n        <App/>\n    </Router>,\n    document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}